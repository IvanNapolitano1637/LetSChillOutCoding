<!DOCTYPE html>
<html lang="en"><!--L02#007 - Paloma - Colors-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Colors</title>
		<style>
			body{
				transition: background-color 0.3s;
				text-align: center;
				font-family: sans-serif;
			}
			#optionZone{
				background-color: rgba(255,255,255,0.9);
				padding: 20px;
				border-radius: 10px;
				display: inline-block;
				margin-top: 20px;
				box-shadow: 0 4px 15px rgba(0,0,0,0.2);
			}
			.controls{
				margin-top: 20px;
			}
			button{
				padding: 8px 15px;
				margin: 5px;
				cursor: pointer;
				border-radius: 5px;
				border: 1px solid #ccc;
				font-weight: bold;
			}
			#valueHexCode{
				font-family: monospace;
				color: #333;
				background: #eee;
				padding: 2px 5px;
				border-radius: 3px;
			}
			.hex-container {
				font-family: monospace;
				font-size: 1.2em;
				font-weight: bold;
			}
			#valueHexCode {
				font-family: inherit;
				font-size: 1em;
				color: #333;
				background: #eee;
				padding: 2px 6px;
				border-radius: 3px;
				display: inline-block;
				vertical-align: middle;
				transition: color 0.1s;
			}
		</style>
	</head>
	<body>
		<div id="optionZone">
			<span class="hex-container">Background HEX: <output id="valueHexCode">#FFFFFF</output></span><br>
			R:
			<input type="radio" name="Red" value="00"/>00
			<input type="radio" name="Red" value="33"/>33
			<input type="radio" name="Red" value="66"/>66
			<input type="radio" name="Red" value="99"/>99
			<input type="radio" name="Red" value="CC"/>CC
			<input type="radio" name="Red" value="FF" checked/>FF<br>
			G:
			<input type="radio" name="Green" value="00"/>00
			<input type="radio" name="Green" value="33"/>33
			<input type="radio" name="Green" value="66"/>66
			<input type="radio" name="Green" value="99"/>99
			<input type="radio" name="Green" value="CC"/>CC
			<input type="radio" name="Green" value="FF" checked/>FF<br>
			B:
			<input type="radio" name="Blue" value="00"/>00
			<input type="radio" name="Blue" value="33"/>33
			<input type="radio" name="Blue" value="66"/>66
			<input type="radio" name="Blue" value="99"/>99
			<input type="radio" name="Blue" value="CC"/>CC
			<input type="radio" name="Blue" value="FF" checked/>FF<br>
		</div>

		<div class="controls">
			<button type="button" onclick="color(0,0,0)">Black</button>
			<button type="button" onclick="color(5,5,5)">White</button><br>
			<button type="button" onclick="color(5,0,0)" style="color:red">Red</button>
			<button type="button" onclick="color(0,5,0)" style="color:green">Green</button>
			<button type="button" onclick="color(0,0,5)" style="color:blue">Blue</button><br>
			<button type="button" onclick="color(0,5,5)">Cyan</button>
			<button type="button" onclick="color(5,0,5)">Magenta</button>
			<button type="button" onclick="color(5,5,0)">Yellow</button><br>
			<button type="button" onclick="changeBrightness(-1)">Darker</button>
			<button type="button" onclick="changeBrightness(1)">Brighter</button><br>
			<button type="button" onclick="random()">Random</button>
		</div>

		<script>
			const BASIC_COLORS = ['Red', 'Green', 'Blue'];
			const hexOutput = document.getElementById('valueHexCode');

			function getColor(){
				let backgroundColor = "#";
				BASIC_COLORS.forEach(name => {
					const checkedRadio = document.querySelector(`input[name="${name}"]:checked`);
					backgroundColor += checkedRadio ? checkedRadio.value : "00";
				});
				return backgroundColor;
			}

			function updateUI(){
				const color = getColor();
				document.body.style.backgroundColor = color;
				hexOutput.textContent = color;
			}

			document.querySelectorAll('input[type="radio"]').forEach(radio => {
				radio.addEventListener('change', updateUI);
			});

			function playErrorSound(){
				const context = new (window.AudioContext || window.webkitAudioContext)();
				const oscillator = context.createOscillator();
				const gain = context.createGain();
				oscillator.type = 'sine';
				oscillator.frequency.setValueAtTime(150, context.currentTime);
				gain.gain.setValueAtTime(0.1, context.currentTime);
				gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
				oscillator.connect(gain);
				gain.connect(context.destination);
				oscillator.start();
				oscillator.stop(context.currentTime + 0.2);
			}

			function flashError(){
				const output = document.getElementById("valueHexCode");
				output.style.color = "red";
				setTimeout(() => {
					output.style.color = "#333";
				}, 200);
				playErrorSound();
			}

			function changeBrightness(step){
				const canMove = BASIC_COLORS.every(name => {
					let radios = document.getElementsByName(name);
					let currentIndex = Array.from(radios).findIndex(r => r.checked);
					let newIndex = currentIndex + step;
					return newIndex >= 0 && newIndex < radios.length;
				});
				if(canMove){
					BASIC_COLORS.forEach(name => {
						let radios = document.getElementsByName(name);
						let currentIndex = Array.from(radios).findIndex(r => r.checked);
						let newIndex = currentIndex + step;
						radios[newIndex].checked = true;
					});
					updateUI();
				}else{
					flashError();
				}
			}

			function color(rIdx, gIdx, bIdx){
				document.getElementsByName("Red")[rIdx].checked = true;
				document.getElementsByName("Green")[gIdx].checked = true;
				document.getElementsByName("Blue")[bIdx].checked = true;
				updateUI();
			}

			function random(){
				BASIC_COLORS.forEach(name => {
					const radios = document.getElementsByName(name);
					const randomIndex = Math.floor(Math.random()*radios.length);
					radios[randomIndex].checked = true;
				});
				updateUI();
			}

			updateUI();
		</script>
	</body>
</html>