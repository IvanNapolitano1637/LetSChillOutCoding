<!DOCTYPE html>
<html lang="en"><!--L01#005 - Irene - Colors-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Colors and their codes</title>
		<style>
			body{
				margin: 0;
				min-height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				transition: background-color 0.1s;
				font-family: sans-serif;
			}
			#optionZone{
				background-color: rgba(255, 255, 255, 0.85);
				text-align: center;
				padding: 25px;
				border-radius: 20px;
				box-shadow: 0 10px 30px rgba(0,0,0,0.3);
				backdrop-filter: blur(5px);
				width: 600px;
				max-width: 95%;
				max-height: 95vh;
				overflow-y: auto;
			}
			#sliders{
				display: block;
				width: 100%;
				margin-top: 20px;
			}
			.slider-row{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 15px;
				width: 100%;
			}
			.slider-row label{
				flex-basis: 50px;
				flex-shrink: 0;
				text-align: right;
				font-weight: bold;
				font-size: 0.9em;
			}
			.slider{
				-webkit-appearance: none;
				appearance: none;
				flex-grow: 1;
				height: 8px;
				border-radius: 5px;
				background: #ddd;
				outline: none;
			}
			.slider::-webkit-slider-thumb{
				-webkit-appearance: none;
				width: 20px;
				height: 20px;
				background: #0075FF;
				cursor: pointer;
				border-radius: 50%;
				border: 2px solid white;
			}
			output{
				background: #FFFF00;
				flex-basis: 45px;
				flex-shrink: 0;
				text-align: center;
				font-family: monospace;
				font-weight: bold;
				border-radius: 4px;
				padding: 2px 5px;
			}
			#valueHexCode{
				cursor: pointer;
				padding: 5px 15px;
				transition: transform 0.1s;
			}
			#valueHexCode:active{
				transform: scale(0.9);
			}
			.btn-group{
				margin: 10px 0;
			}
			.btn-group button{
				cursor: pointer;
				padding: 8px 12px;
				margin: 2px;
				border: 1px solid #ccc;
				border-radius: 5px;
				font-weight: bold;
				min-width: 75px;
				background: white;
			}
			.control-group{
				display: flex;
				flex-direction: column;
				gap: 8px;
				margin-top: 15px;
			}
			.button-row{
				display: flex;
				justify-content: center;
				gap: 2px;
			}
			button.step{
				flex: 1;
				min-width: 32px;
				max-width: 45px;
				padding: 8px 0;
				margin: 0;
				font-size: 11px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				font-weight: bold;
				box-sizing: border-box;
			}
			.redButtons{
				background: #ff4d4d;
				color: white;
			}
			.greenButtons{
				background: #2ecc71;
				color: white;
			}
			.blueButtons{
				background: #3498db;
				color: white;
			}
			.grayButtons{
				background: #7f8c8d;
				color: white;
			}
			@media (max-width: 480px){
				button.step{
					min-width: 28px;
					padding: 10px 0;
					font-size: 10px;
				}
				#optionZone{
					padding: 15px;
					width: 98%;
				}
				.btn-group button{
					padding: 10px 5px;
					min-width: 65px;
					font-size: 0.8em;
				}
			}
		</style>
	</head>
	<body>
		<div id="optionZone">
			<h3 style="margin-top:0">HEX: <output id="valueHexCode" style="width: auto;" title="Clicca per copiare"></output></h3>
			
			<div class="btn-group">
				<button type="button" onclick="revert()">Revert</button>
				<button type="button" onclick="random()">Random</button>
				<button type="button" onclick="setColor(255, 255, 255)">White</button>
				<button type="button" onclick="setColor(0, 0, 0)">Black</button>
			</div>

			<div id="sliders">
				<div class="slider-row"><label>R</label> <input type="range" id="red" class="slider" oninput="setAndPatch(0)"/> <output id="valueR"></output></div>
				<div class="slider-row"><label>G</label> <input type="range" id="green" class="slider" oninput="setAndPatch(1)"/> <output id="valueG"></output></div>
				<div class="slider-row"><label>B</label> <input type="range" id="blue" class="slider" oninput="setAndPatch(2)"/> <output id="valueB"></output></div>
				<div class="slider-row"><label>Gray</label> <input type="range" id="gray" class="slider" oninput="setAndPatch(3)"/> <output id="valueGray"></output></div>
				<div class="slider-row"><label>Light</label> <input type="range" id="light" class="slider" oninput="setAndPatch(4)"/> <output id="valueLight"></output></div>
				<div class="slider-row"><label>C</label> <input type="range" id="cyan" class="slider" oninput="setAndPatch(5)"/> <output id="valueC"></output></div>
				<div class="slider-row"><label>M</label> <input type="range" id="magenta" class="slider" oninput="setAndPatch(6)"/> <output id="valueM"></output></div>
				<div class="slider-row"><label>Y</label> <input type="range" id="yellow" class="slider" oninput="setAndPatch(7)"/> <output id="valueY"></output></div>
				<div class="slider-row"><label>K</label> <input type="range" id="black" class="slider" oninput="setAndPatch(8)"/> <output id="valueK"></output></div>
			</div>

			<div class="control-group">
				<div class="button-row">
					<button class="redButtons step" onclick="changeColor(0,-20)">-20</button>
					<button class="redButtons step" onclick="changeColor(0,-10)">-10</button>
					<button class="redButtons step" onclick="changeColor(0,-5)">-5</button>
					<button class="redButtons step" onclick="changeColor(0,-2)">-2</button>
					<button class="redButtons step" onclick="changeColor(0,-1)">-1</button>
					<div style="width: 4px;"></div> <button class="redButtons step" onclick="changeColor(0, 1)">+1</button>
					<button class="redButtons step" onclick="changeColor(0, 2)">+2</button>
					<button class="redButtons step" onclick="changeColor(0, 5)">+5</button>
					<button class="redButtons step" onclick="changeColor(0, 10)">+10</button>
					<button class="redButtons step" onclick="changeColor(0, 20)">+20</button>
				</div>

				<div class="button-row">
					<button class="greenButtons step" onclick="changeColor(1,-20)">-20</button>
					<button class="greenButtons step" onclick="changeColor(1,-10)">-10</button>
					<button class="greenButtons step" onclick="changeColor(1,-5)">-5</button>
					<button class="greenButtons step" onclick="changeColor(1,-2)">-2</button>
					<button class="greenButtons step" onclick="changeColor(1,-1)">-1</button>
					<div style="width: 4px;"></div>
					<button class="greenButtons step" onclick="changeColor(1, 1)">+1</button>
					<button class="greenButtons step" onclick="changeColor(1, 2)">+2</button>
					<button class="greenButtons step" onclick="changeColor(1, 5)">+5</button>
					<button class="greenButtons step" onclick="changeColor(1, 10)">+10</button>
					<button class="greenButtons step" onclick="changeColor(1, 20)">+20</button>
				</div>

				<div class="button-row">
					<button class="blueButtons step" onclick="changeColor(2,-20)">-20</button>
					<button class="blueButtons step" onclick="changeColor(2,-10)">-10</button>
					<button class="blueButtons step" onclick="changeColor(2,-5)">-5</button>
					<button class="blueButtons step" onclick="changeColor(2,-2)">-2</button>
					<button class="blueButtons step" onclick="changeColor(2,-1)">-1</button>
					<div style="width: 4px;"></div>
					<button class="blueButtons step" onclick="changeColor(2, 1)">+1</button>
					<button class="blueButtons step" onclick="changeColor(2, 2)">+2</button>
					<button class="blueButtons step" onclick="changeColor(2, 5)">+5</button>
					<button class="blueButtons step" onclick="changeColor(2, 10)">+10</button>
					<button class="blueButtons step" onclick="changeColor(2, 20)">+20</button>
				</div>

				<div class="button-row">
					<button class="grayButtons step" onclick="changeGray(-20)">-20</button>
					<button class="grayButtons step" onclick="changeGray(-10)">-10</button>
					<button class="grayButtons step" onclick="changeGray(-5)">-5</button>
					<button class="grayButtons step" onclick="changeGray(-2)">-2</button>
					<button class="grayButtons step" onclick="changeGray(-1)">-1</button>
					<div style="width: 4px;"></div>
					<button class="grayButtons step" onclick="changeGray(1)">+1</button>
					<button class="grayButtons step" onclick="changeGray(2)">+2</button>
					<button class="grayButtons step" onclick="changeGray(5)">+5</button>
					<button class="grayButtons step" onclick="changeGray(10)">+10</button>
					<button class="grayButtons step" onclick="changeGray(20)">+20</button>
				</div>
			</div>
		</div>

		<script>
			const VALUES = [
				document.querySelector("#valueR"), document.querySelector("#valueG"), document.querySelector("#valueB"), 
				document.querySelector("#valueGray"), document.querySelector("#valueLight"), 
				document.querySelector("#valueC"), document.querySelector("#valueM"), 
				document.querySelector("#valueY"), document.querySelector("#valueK"), 
				document.querySelector("#valueHexCode")
			];

			const INPUTS = [
				document.querySelector("#red"), document.querySelector("#green"), document.querySelector("#blue"), 
				document.querySelector("#gray"), document.querySelector("#light"), 
				document.querySelector("#cyan"), document.querySelector("#magenta"), 
				document.querySelector("#yellow"), document.querySelector("#black")
			];

			function init(){
				for(let i = 0; i < 5; i++){
					INPUTS[i].min = 0; INPUTS[i].max = 255; INPUTS[i].step = 1;
				}
				for(let i = 5; i < 9; i++){
					INPUTS[i].min = 0; INPUTS[i].max = 1; INPUTS[i].step = 0.01;
				}
				setColor(255, 255, 255);
				VALUES[9].onclick = function(){
					navigator.clipboard.writeText(this.textContent);
					const oldText = this.textContent;
					this.textContent = "COPIATO!";
					setTimeout(() =>{ this.textContent = oldText; }, 800);
				};
			}

			function setAndPatch(component){
				if(component === 3){
					setColor(INPUTS[3].value, INPUTS[3].value, INPUTS[3].value);
				}else if(component === 4){
					setBrightness();
				}else if(component < 3){
					setColor(INPUTS[0].value, INPUTS[1].value, INPUTS[2].value);
				}else{
					setColor_CMYK(INPUTS[5].value, INPUTS[6].value, INPUTS[7].value, INPUTS[8].value);
				}
			}

			function setBrightness(){
				let currentL = parseInt(VALUES[4].textContent);
				let newL = parseInt(INPUTS[4].value);
				let delta = newL - currentL;
				let r = Math.min(255, Math.max(0, parseInt(INPUTS[0].value) + delta));
				let g = Math.min(255, Math.max(0, parseInt(INPUTS[1].value) + delta));
				let b = Math.min(255, Math.max(0, parseInt(INPUTS[2].value) + delta));
				setColor(r, g, b);
			}

			function setColor(r, g, b){
				r = Math.round(r);
				g = Math.round(g);
				b = Math.round(b);
				INPUTS[0].value = r;
				VALUES[0].textContent = r;
				INPUTS[1].value = g;
				VALUES[1].textContent = g;
				INPUTS[2].value = b;
				VALUES[2].textContent = b;
				let avg = Math.round((r + g + b)/3);
				INPUTS[3].value = avg;
				VALUES[3].textContent = avg;
				let light = Math.round((Math.max(r,g,b) + Math.min(r,g,b))/2);
				INPUTS[4].value = light;
				VALUES[4].textContent = light;
				let dr = r/255, dg = g/255, db = b/255;
				let k = 1 - Math.max(dr, dg, db);
				let c = k === 1 ? 0 :(1 - dr - k)/(1 - k);
				let m = k === 1 ? 0 :(1 - dg - k)/(1 - k);
				let y = k === 1 ? 0 :(1 - db - k)/(1 - k);
				INPUTS[5].value = c.toFixed(2);
				VALUES[5].textContent = c.toFixed(2);
				INPUTS[6].value = m.toFixed(2);
				VALUES[6].textContent = m.toFixed(2);
				INPUTS[7].value = y.toFixed(2);
				VALUES[7].textContent = y.toFixed(2);
				INPUTS[8].value = k.toFixed(2);
				VALUES[8].textContent = k.toFixed(2);
				let hex = "#" + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('').toUpperCase();
				VALUES[9].textContent = hex;
				document.body.style.backgroundColor = hex;
			}

			function setColor_CMYK(c, m, y, k){
				let r = 255*(1 - c)*(1 - k);
				let g = 255*(1 - m)*(1 - k);
				let b = 255*(1 - y)*(1 - k);
				setColor(r, g, b);
			}

			function revert(){
				setColor(255 - INPUTS[0].value, 255 - INPUTS[1].value, 255 - INPUTS[2].value);
			}

			function random(){
				setColor(Math.random()*255, Math.random()*255, Math.random()*255);
			}

			function changeColor(idx, d){
				let v = [parseInt(INPUTS[0].value), parseInt(INPUTS[1].value), parseInt(INPUTS[2].value)];
				v[idx] = Math.min(255, Math.max(0, v[idx] + d));
				setColor(v[0], v[1], v[2]);
			}

			function changeGray(delta){
				if(((parseInt(INPUTS[0].value) + delta) >= 0) && ((parseInt(INPUTS[0].value) + delta) <= 255)){
					if(((parseInt(INPUTS[1].value) + delta) >= 0) && ((parseInt(INPUTS[1].value) + delta) <= 255)){
						if(((parseInt(INPUTS[2].value) + delta) >= 0) && ((parseInt(INPUTS[2].value) + delta) <= 255)){
							setColor(parseInt(INPUTS[0].value) + delta, parseInt(INPUTS[1].value) + delta, parseInt(INPUTS[2].value) + delta);
						}
					}
				}
			}

			init();
		</script>
	</body>
</html>