<!DOCTYPE html>
<html lang="en"><!--T03#011 - Roberto - Days-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Days</title>
		<style>
			body{
				font-family: sans-serif;
				margin: 20px;
				background-color: #ccccff;
			}
			.container{
				max-width: 450px;
				margin: auto;
				background: white;
				padding: 20px;
				border-radius: 12px;
				box-shadow: 0 4px 8px rgba(0,0,0,0.1);
			}
			h3{
				color: #5c5cff;
				margin-top: 0;
				text-align: center;
			}
			.language-selector{
				text-align: right;
				margin-bottom: 15px;
			}
			select#langSelect{
				padding: 5px;
				border-radius: 4px;
				border: 1px solid #5c5cff;
				background: white;
				cursor: pointer;
				font-size: 0.9em;
			}
			.section{
				margin-bottom: 25px;
				padding-bottom: 15px;
				border-bottom: 1px solid #eee;
			}
			.section:last-child{
				border-bottom: none;
			}
			label{
				display: block;
				font-weight: bold;
				margin-bottom: 8px;
				font-size: 0.9em;
			}
			.row-group{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 8px;
			}
			input[type="text"]{
				flex-grow: 1;
				padding: 8px;
				border: 1px solid #ccc;
				border-radius: 4px;
				min-width: 50px;
			}
			button{
				cursor: pointer;
				padding: 8px 15px;
				background-color: #5c5cff;
				color: white;
				border: none;
				border-radius: 4px;
				font-weight: bold;
				white-space: nowrap;
				transition: background-color 0.2s, color 0.2s;
			}
			button:hover{
				background-color: #4040e6;
			}
			.btn-today{
				background-color: #27ae60;
				min-width: 80px;
			}
			.btn-clear{
				background-color: #e74c3c;
				width: 100%;
				margin-top: 10px;
			}
			.output-field{
				background-color: #f0f0f0;
				font-weight: bold;
				color: #333;
			}
			.btn-action{
				min-width: 45px;
			}
			.btn-step{
				user-select: none;
				background-color: #5c5cff;
				color: white;
				border: 1px solid #5c5cff;
				min-width: 40px;
				padding: 5px;
				font-family: monospace;
			}
			@keyframes blink-effect{
				0%{
					background-color: #f0f0f0;
				}
				50%{
					background-color: #ffeb3b;
				}
				100%{
					background-color: #f0f0f0;
				}
			}
			.blink{
				animation: blink-effect 0.4s ease-in-out 2;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="language-selector">
				<select id="langSelect" onchange="changeLanguage(this.value)"></select>
			</div>
			
			<h3 data-key="title">Days</h3>

			<div class="section">
				<label data-key="findDay">Find the day of the week:</label>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(0)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('firstDate', -1)">-1</button>
					<input type="text" id="firstDate" data-key-ph="phDate" placeholder="dd/mm/yyyy"/>
					<button type="button" class="btn-step" onclick="shiftDay('firstDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" class="btn-action" onclick="handleAction('getDayOfTheWeek')"> â†’ </button>
					<input type="text" id="dayOfTheWeek" class="output-field" disabled data-key-ph="phResult" placeholder="Result">
				</div>
			</div>

			<div class="section">
				<label data-key="todayExtended">Today's date extended:</label>
				<div class="row-group">
					<button type="button" style="width: 100%;" onclick="handleAction('getFullTodayDate')" data-key="showFull">Show full date</button>
				</div>
				<div class="row-group">
					<span style="font-size: 1.2em; padding-left: 10px;">ðŸ“…</span>
					<input type="text" id="todayDate" class="output-field" disabled data-key-ph="phExtended" placeholder="Extended date">
				</div>
			</div>

			<div class="section">
				<label data-key="diffDates">Difference between two dates:</label>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(1)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('secondDate', -1)">-1</button>
					<input type="text" id="secondDate" data-key-ph="phDate" placeholder="First Date"/>
					<button type="button" class="btn-step" onclick="shiftDay('secondDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(2)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('thirdDate', -1)">-1</button>
					<input type="text" id="thirdDate" data-key-ph="phDate" placeholder="Latter Date"/>
					<button type="button" class="btn-step" onclick="shiftDay('thirdDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" onclick="handleAction('getDaysOfDifference')" data-key="calcDiff">Calculate the difference</button>
					<input type="text" id="daysOfDifference" class="output-field" disabled placeholder="0"/>
				</div>
			</div>

			<button type="button" class="btn-clear" onclick="clearFields()" data-key="clear">Clear Fields</button>
		</div>

		<script>
			const TRANSLATIONS = {
				English: {
					days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
					title: "Days",
					findDay: "Find the day of the week:",
					today: "Today",
					todayExtended: "Today's date extended:", 
					showFull: "Show full date",
					diffDates: "The difference between two dates:",
					calcDiff: "Calculate the difference", 
					clear: "Clear Fields",
					wrong: "Wrong date!",
					error: "Error",
					phDate: "dd/mm/yyyy",
					phResult: "Result",
					phExtended: "Extended date"
				},
				Italiano: {
					days: ["Domenica", "LunedÃ¬", "MartedÃ¬", "MercoledÃ¬", "GiovedÃ¬", "VenerdÃ¬", "Sabato"],
					title: "Giorni",
					findDay: "Trova il giorno della settimana:",
					today: "Oggi",
					todayExtended: "Data di oggi estesa:",
					showFull: "Mostra data completa",
					diffDates: "Differenza tra due date:",
					calcDiff: "Calcola la differenza",
					clear: "Cancella Campi",
					wrong: "Data errata!",
					error: "Errore",
					phDate: "gg/mm/aaaa",
					phResult: "Risultato",
					phExtended: "Data estesa"
				},
				FranÃ§aise: {
					days: ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
					title: "Jours",
					findDay: "Trouver le jour de la semaine:",
					today: "Aujourd'hui",
					todayExtended: "Date d'aujourd'hui Ã©tendue:",
					showFull: "Afficher la date complÃ¨te",
					diffDates: "DiffÃ©rence entre deux dates:",
					calcDiff: "Calculer la diffÃ©rence",
					clear: "Effacer les champs",
					wrong: "Date incorrecte!",
					error: "Erreur",
					phDate: "jj/mm/aaaa",
					phResult: "RÃ©sultat",
					phExtended: "Date Ã©tendue"
				},
				EspaÃ±ol: {
					days: ["Domingo", "Lunes", "Martes", "MiÃ©rcoles", "Jueves", "Viernes", "SÃ¡bado"],
					title: "DÃ­as",
					findDay: "Buscar el dÃ­a de la semana:",
					today: "Hoy",
					todayExtended: "Fecha de hoy extendida:",
					showFull: "Mostrar fecha completa",
					diffDates: "Diferencia entre dos fechas:",
					calcDiff: "Calcular la diferencia",
					clear: "Borrar campos",
					wrong: "Â¡Fecha incorrecta!",
					error: "Error",
					phDate: "dd/mm/aaaa",
					phResult: "Resultado",
					phExtended: "Fecha extendida"
				},
				Deutsch: {
					days: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
					title: "Tage",
					findDay: "Wochentag finden:",
					today: "Heute",
					todayExtended: "Heutiges Datum (erweitert):",
					showFull: "VollstÃ¤ndiges Datum anzeigen",
					diffDates: "Differenz zwischen zwei Daten:",
					calcDiff: "Differenz berechnen",
					clear: "Felder leeren",
					wrong: "Falsches Datum!",
					error: "Fehler",
					phDate: "TT/MM/JJJJ",
					phResult: "Ergebnis",
					phExtended: "Erweitertes Datum"
				},
				PortuguÃªs: {
					days: ["Domingo", "Segunda-feira", "TerÃ§a-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "SÃ¡bado"],
					title: "Dias",
					findDay: "Encontrar o dia da semana:",
					today: "Hoje",
					todayExtended: "Data de hoje estendida:",
					showFull: "Mostrar data completa",
					diffDates: "DiferenÃ§a entre duas datas:",
					calcDiff: "Calcular a diferenÃ§a",
					clear: "Limpar campos",
					wrong: "Data incorreta!",
					error: "Erro",
					phDate: "dd/mm/aaaa",
					phResult: "Resultado",
					phExtended: "Data estendida"
				},
				RomÃ¢nÄƒ: {
					days: ["DuminicÄƒ", "Luni", "MarÈ›i", "Miercuri", "Joi", "Vineri", "SÃ¢mbÄƒtÄƒ"],
					title: "Zile",
					findDay: "GÄƒseÈ™te ziua sÄƒptÄƒmÃ¢nii:",
					today: "AstÄƒzi",
					todayExtended: "Data de azi extinsÄƒ:",
					showFull: "AfiÈ™eazÄƒ data completÄƒ",
					diffDates: "DiferenÈ›a Ã®ntre douÄƒ date:",
					calcDiff: "CalculeazÄƒ diferenÈ›a",
					clear: "È˜terge cÃ¢mpurile",
					wrong: "DatÄƒ incorectÄƒ!",
					error: "Eroare",
					phDate: "zz/ll/aaaa",
					phResult: "Rezultat",
					phExtended: "Data extinsÄƒ"
				},
				Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°: {
					days: ["ÐÐµÐ´Ñ–Ð»Ñ", "ÐŸÐ¾Ð½ÐµÐ´Ñ–Ð»Ð¾Ðº", "Ð’Ñ–Ð²Ñ‚Ð¾Ñ€Ð¾Ðº", "Ð¡ÐµÑ€ÐµÐ´Ð°", "Ð§ÐµÑ‚Ð²ÐµÑ€", "ÐŸ'ÑÑ‚Ð½Ð¸Ñ†Ñ", "Ð¡ÑƒÐ±Ð¾Ñ‚Ð°"],
					title: "Ð”Ð½Ñ–",
					findDay: "Ð—Ð½Ð°Ð¹Ñ‚Ð¸ Ð´ÐµÐ½ÑŒ Ñ‚Ð¸Ð¶Ð½Ñ:",
					today: "Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–",
					todayExtended: "Ð¡ÑŒÐ¾Ð³Ð¾Ð´Ð½Ñ–ÑˆÐ½Ñ Ð´Ð°Ñ‚Ð° Ñ€Ð¾Ð·ÑˆÐ¸Ñ€ÐµÐ½Ð°:",
					showFull: "ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚Ð¸ Ð¿Ð¾Ð²Ð½Ñƒ Ð´Ð°Ñ‚Ñƒ",
					diffDates: "Ð Ñ–Ð·Ð½Ð¸Ñ†Ñ Ð¼Ñ–Ð¶ Ð´Ð²Ð¾Ð¼Ð° Ð´Ð°Ñ‚Ð°Ð¼Ð¸:",
					calcDiff: "Ð Ð¾Ð·Ñ€Ð°Ñ…ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€Ñ–Ð·Ð½Ð¸Ñ†ÑŽ",
					clear: "ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚Ð¸ Ð¿Ð¾Ð»Ñ",
					wrong: "ÐÐµÐ²Ñ–Ñ€Ð½Ð° Ð´Ð°Ñ‚Ð°!",
					error: "ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ°",
					phDate: "Ð´Ð´/Ð¼Ð¼/Ñ€Ñ€Ñ€Ñ€",
					phResult: "Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚",
					phExtended: "Ð Ð¾Ð·ÑˆÐ¸Ñ€ÐµÐ½Ð° Ð´Ð°Ñ‚Ð°"
				},
				Î•Î»Î»Î·Î½Î¹ÎºÎ¬: {
					days: ["ÎšÏ…ÏÎ¹Î±ÎºÎ®", "Î”ÎµÏ…Ï„Î­ÏÎ±", "Î¤ÏÎ¯Ï„Î·", "Î¤ÎµÏ„Î¬ÏÏ„Î·", "Î Î­Î¼Ï€Ï„Î·", "Î Î±ÏÎ±ÏƒÎºÎµÏ…Î®", "Î£Î¬Î²Î²Î±Ï„Î¿"],
					title: "Î—Î¼Î­ÏÎµÏ‚",
					findDay: "Î’ÏÎµÎ¯Ï„Îµ Ï„Î·Î½ Î·Î¼Î­ÏÎ± Ï„Î·Ï‚ ÎµÎ²Î´Î¿Î¼Î¬Î´Î±Ï‚:",
					today: "Î£Î®Î¼ÎµÏÎ±",
					todayExtended: "Î£Î·Î¼ÎµÏÎ¹Î½Î® Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Ï€Î»Î®ÏÎ·Ï‚:",
					showFull: "Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Ï€Î»Î®ÏÎ¿Ï…Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚",
					diffDates: "Î”Î¹Î±Ï†Î¿ÏÎ¬ Î¼ÎµÏ„Î±Î¾Ï Î´ÏÎ¿ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¹ÏŽÎ½:",
					calcDiff: "Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î´Î¹Î±Ï†Î¿ÏÎ¬Ï‚",
					clear: "ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Ï€ÎµÎ´Î¯Ï‰Î½",
					wrong: "Î›Î¬Î¸Î¿Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±!",
					error: "Î£Ï†Î¬Î»Î¼Î±",
					phDate: "Î·Î·/Î¼Î¼/ÎµÎµÎµÎµ",
					phResult: "Î‘Ï€Î¿Ï„Î­Î»ÎµÏƒÎ¼Î±",
					phExtended: "Î Î»Î®ÏÎ·Ï‚ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±"
				},
				Latine: {
					days: ["Dies Solis", "Dies Lunae", "Dies Martis", "Dies Mercurii", "Dies Iovis", "Dies Veneris", "Dies Saturni"],
					title: "Dies",
					findDay: "Invenire diem hebdomadis:",
					today: "Hodie",
					todayExtended: "Hodie data extensa:",
					showFull: "Ostende datam",
					diffDates: "Differentia inter duas datas:",
					calcDiff: "Calculare differentiam",
					clear: "Dele omnia",
					wrong: "Data errata!",
					error: "Error",
					phDate: "dd/mm/aaaa",
					phResult: "Exitus",
					phExtended: "Data extensa"
				},
				ä¸­æ–‡: {
					days: ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"],
					title: "æ—¥æœŸ",
					findDay: "æŸ¥æ‰¾æ˜ŸæœŸå‡ :",
					today: "ä»Šå¤©",
					todayExtended: "ä»Šå¤©çš„å®Œæ•´æ—¥æœŸ:",
					showFull: "æ˜¾ç¤ºå®Œæ•´æ—¥æœŸ",
					diffDates: "ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å·®å¼‚:",
					calcDiff: "è®¡ç®—å·®å¼‚",
					clear: "æ¸…é™¤æ‰€æœ‰å­—æ®µ",
					wrong: "æ—¥æœŸé”™è¯¯!",
					error: "é”™è¯¯",
					phDate: "æ—¥/æœˆ/å¹´",
					phResult: "ç»“æžœ",
					phExtended: "å®Œæ•´æ—¥æœŸ"
				},
				æ—¥æœ¬èªž: {
					days: ["æ—¥æ›œæ—¥", "æœˆæ›œæ—¥", "ç«æ›œæ—¥", "æ°´æ›œæ—¥", "æœ¨æ›œæ—¥", "é‡‘æ›œæ—¥", "åœŸæ›œæ—¥"],
					title: "æ—¥ä»˜",
					findDay: "æ›œæ—¥ã‚’èª¿ã¹ã‚‹:",
					today: "ä»Šæ—¥",
					todayExtended: "ä»Šæ—¥ã®è©³ç´°æ—¥ä»˜:",
					showFull: "ãƒ•ãƒ«æ—¥ä»˜ã‚’è¡¨ç¤º",
					diffDates: "äºŒã¤ã®æ—¥ä»˜ã®å·®:",
					calcDiff: "å·®ã‚’è¨ˆç®—ã™ã‚‹",
					clear: "å…¥åŠ›ã‚’ã‚¯ãƒªã‚¢",
					wrong: "æ—¥ä»˜ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“!",
					error: "ã‚¨ãƒ©ãƒ¼",
					phDate: "æ—¥/æœˆ/å¹´",
					phResult: "çµæžœ",
					phExtended: "è©³ç´°æ—¥ä»˜"
				}
			};

			const NUMBER_OF_DAY_OF_EACH_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
			const PATCH = 5;
			let currentLang = "English";

			function init(){
				const select = document.getElementById("langSelect");
				Object.keys(TRANSLATIONS).forEach(lang => {
					let opt = document.createElement("option");
					opt.value = lang;
					opt.textContent = lang;
					select.appendChild(opt);
				});
				select.value = "English";
				changeLanguage("English");
			}

			function changeLanguage(lang){
				currentLang = lang;
				const t = TRANSLATIONS[lang];
				document.title = t.title;
				document.querySelectorAll("[data-key]").forEach(el => {
					el.textContent = t[el.getAttribute("data-key")];
				});
				document.querySelectorAll("[data-key-ph]").forEach(el => {
					el.placeholder = t[el.getAttribute("data-key-ph")];
				});
				getDayOfTheWeek(false);
				if(document.getElementById("todayDate").value){
					getFullTodayDate();
				}
				getDaysOfDifference(false);
			}

			function clearFields(){
				const ids = ["firstDate", "dayOfTheWeek", "todayDate", "secondDate", "thirdDate", "daysOfDifference"];
				ids.forEach(id => {
					document.getElementById(id).value = "";
					document.getElementById(id).classList.remove("blink");
				});
			}

			function handleAction(actionName){
				window[actionName](true);
			}

			function setTodayAndClear(field){
				const today = getFormattedToday();
				let v2 = document.getElementById("secondDate").value;
				let v3 = document.getElementById("thirdDate").value;
				if(field === 0){
					clearFields();
					document.getElementById("firstDate").value = today;
					getDayOfTheWeek(true);
				}else if(field === 1){
					document.getElementById("secondDate").value = today;
					getDaysOfDifference(true);
				}else if(field === 2){
					document.getElementById("thirdDate").value = today;
					getDaysOfDifference(true);
				}
			}

			function getFormattedToday(){
				const d = new Date();
				return (d.getDate() + "/" +(d.getMonth() + 1) + "/" + d.getFullYear());
			}

			function isLeapYear(year){
				return ((year < 1582) ? (year%4 === 0) : ((year%4 === 0 && year%100 !== 0) || (year%400 === 0)));
			}

			function parseDateParts(dateStr){
				const parts = dateStr.split("/");
				if(parts.length !== 3){
					return null;
				}
				return {d: parseInt(parts[0]), m: parseInt(parts[1]), y: parseInt(parts[2])};
			}

			function isCorrectDate(dateStr){
				const p = parseDateParts(dateStr);
				if(!p || isNaN(p.d) || isNaN(p.m) || isNaN(p.y)){
					return false;
				}
				if(p.y < 1 || p.y > 3999 || p.m < 1 || p.m > 12){
					return false;
				}
				let maxDays = NUMBER_OF_DAY_OF_EACH_MONTH[p.m - 1] + ((p.m === 2 && isLeapYear(p.y)) ? 1 : 0);
				if(p.d < 1 || p.d > maxDays){
					return false;
				}
				if(p.y === 1582 && p.m === 10 && p.d > 4 && p.d < 15){
					return false;
				}
				return true;
			}

			function getTotalDays(dateStr){
				if(!isCorrectDate(dateStr)){
					return -1;
				}
				const p = parseDateParts(dateStr);
				let days = p.d;
				if(p.y === 1582 && p.m === 10 && p.d > 14){
					days -= 10;
				}
				for(let i = 1; i < p.y; i++){
					days += (i === 1582) ? 355 :(365 +(isLeapYear(i) ? 1 : 0));
				}
				for(let i = 1; i < p.m; i++){
					days += ((p.y === 1582 && i === 10) ? 21 : (NUMBER_OF_DAY_OF_EACH_MONTH[i - 1] + ((i === 2 && isLeapYear(p.y)) ? 1 : 0)));
				}
				return days;
			}

			function getDayOfTheWeek(doBlink){
				const inputField = document.getElementById("dayOfTheWeek");
				const dateValue = document.getElementById("firstDate").value;
				const t = TRANSLATIONS[currentLang];
				if (!dateValue) {
					inputField.value = "";
					return;
				}
				const total = getTotalDays(dateValue);
				const newValue = (total < 0) ? t.wrong : t.days[(total + PATCH)%7];
				const previousValue = inputField.value;
				inputField.value = newValue;
				if(doBlink && newValue === previousValue && total >= 0 && newValue !== ""){
					inputField.classList.remove("blink");
					void inputField.offsetWidth;
					inputField.classList.add("blink");
				}
			}

			function getFullTodayDate(){
				const date = getFormattedToday();
				const total = getTotalDays(date);
				const t = TRANSLATIONS[currentLang];
				document.getElementById("todayDate").value = (total < 0) ? t.error : t.days[(total + PATCH)%7] + " " + date;
			}

			function getDaysOfDifference(doBlink){
				const inputField = document.getElementById("daysOfDifference");
				const val1 = document.getElementById("secondDate").value;
				const val2 = document.getElementById("thirdDate").value;
				const t = TRANSLATIONS[currentLang];
				if(!val1 || !val2){
					inputField.value = "";
					return;
				}
				const days1 = getTotalDays(val1);
				const days2 = getTotalDays(val2);
				const newValue = (days1 >= 0 && days2 >= 0) ? Math.abs(days1 - days2) : t.error;
				const previousValue = inputField.value;
				inputField.value = newValue;
				if(doBlink && newValue.toString() === previousValue.toString() && days1 >= 0 && days2 >= 0){
					inputField.classList.remove("blink"); 
					void inputField.offsetWidth; 
					inputField.classList.add("blink");
				}
			}

			function shiftDay(fieldId, offset){
				const input = document.getElementById(fieldId);
				let dateStr = input.value || getFormattedToday();
				if(!isCorrectDate(dateStr)){
					return;
				}
				const p = parseDateParts(dateStr);
				const dateObj = new Date(p.y, p.m - 1, p.d);
				dateObj.setDate(dateObj.getDate() + offset);
				let newY = dateObj.getFullYear(), newM = dateObj.getMonth() + 1, newD = dateObj.getDate();
				if(newY < 1 || newY > 3999){
					return;
				}
				if(newY === 1582 && newM === 10 && newD > 4 && newD < 15){
					newD = (offset === 1) ? 15 : 4;
				}
				input.value = `${newD}/${newM}/${newY}`;
				if(fieldId === 'firstDate'){
					getDayOfTheWeek(true);
				}else{
					getDaysOfDifference(true);
				}
			}

			window.onload = init;
		</script>
	</body>
</html>