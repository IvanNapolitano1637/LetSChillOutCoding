<!DOCTYPE html>
<html lang="en"><!--C02#004 - Giovanna - 24h Clock-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title id="title">Clock</title>
		<style>
			*, *::after, *::before{
				box-sizing: border-box;
				font-family: Gotham Rounded, sans-serif;
			}
			body{
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				transition: background-color 2s ease-in-out;
				background-color: #2f363e;
				-webkit-tap-highlight-color: transparent;
			}
			.clock{
				width: 600px;
				height: 600px;
				background-color: rgba(255, 255, 255, .8);
				border-radius: 50%;
				border: 2px solid black;
				position: relative;
				transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
				cursor: pointer;
				user-select: none;
				touch-action: manipulation;
			}
			.clock.clickable {
				pointer-events: auto;
			}
			.clock.reflected{
				transform: scaleX(-1);
			}
			.clock .number{
				--rotation: 0;
				position: absolute;
				width: 100%;
				height: 100%;
				text-align: center;
				transform: rotate(var(--rotation));
				font-size: 2rem;
				transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
				pointer-events: none;
			}
			.clock.reflected .number{
				transform: rotate(var(--rotation)) scaleX(-1);
			}
			.clock .hand{
				--rotation: 0;
				position: absolute;
				bottom: 50%;
				left: 50%;
				border: 1px solid white;
				border-top-left-radius: 10px;
				border-top-right-radius: 10px;
				transform-origin: bottom;
				z-index: 10;
				transform: translateX(-50%) rotate(calc(var(--rotation)*1deg));
				pointer-events: none;
			}
			.clock::after{
				content: '';
				position: absolute;
				background-color: black;
				z-index: 11;
				width: 15px;
				height: 15px;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				border-radius: 50%;
			}
			.clock .hand.second{
				width: 3px;
				height: 45%;
				background-color: red;
			}
			.clock .hand.minute{
				width: 7px;
				height: 40%;
				background-color: black;
			}
			.clock .hand.hour{
				width: 10px;
				height: 35%;
				background-color: black;
			}
			#controlsForm{
				margin-top: 20px;
				text-align: center;
			}
			#controlsForm button{
				color: white;
				border-radius: 50px;
				padding: 10px 28px;
				font-size: 1rem;
				cursor: pointer;
				transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
				letter-spacing: 0.05em;
				background-color: rgba(0, 0, 0, 0.25);
				border: 2px solid rgba(0, 0, 0, 0.3);
				text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
			}
			#controlsForm button:hover{
				background-color: rgba(255, 255, 255, 0.35);
				transform: scale(1.07);
				box-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
			}
			#controlsForm button:active{
				transform: scale(0.97);
			}
			@media (max-width: 768px) {
				.clock {
					width: 90vw;
					height: 90vw;
				}
				.clock .number {
					font-size: 1.2rem;
				}
			}
		</style>
	</head>
	<body>
		<div id="firstDiv">
			<div id="clockDial" class="clock">
				<div class="hand hour" data-hour-hand></div>
				<div class="hand minute" data-minute-hand></div>
				<div class="hand second" data-second-hand></div>
			</div>
			<form action="#" id="controlsForm">
				<br>
				<button type="button" id="btnClockDirection" onclick="changeClockDirection()">Turn to clockwise</button><br><br>
				<button type="button" id="btnColors" onclick="changeColorsRules()">Colors' rule: random</button><br><br>
				<button type="button" id="btnMidnightNumber" onclick="changeMidnightNumber()">Change midnight number</button>
			</form>
		</div>
		<script>
			//Original page I copied from: https://www.youtube.com/watch?v=Ki0XXrlKlHY&t=7s&ab_channel=WebDevSimplified
			setInterval(setClock, 200);
			let choice = 9;
			let clockwise = false;
			let fromZero = true;
			let settledColor = false;
			const FLAG = !true;
			const ANALOG = true;
			const HOUR_HAND = document.querySelector('[data-hour-hand]');
			const MINUTE_HAND = document.querySelector('[data-minute-hand]');
			const SECOND_HAND = document.querySelector('[data-second-hand]');
			const NIGHT_COLOR = "#1a1a2e";
			const SUNRISE_COLOR = "#ff9e5e";
			const DAY_COLOR = "#87ceeb";
			const SUNSET_COLOR = "#e66465";
			const COLORS_1 = ['#f00', '#ff0', '#0f0', '#0ff', '#00f', '#f0f'];
			const COLORS_2 = ['#f00', '#f30', '#f60', '#f90', '#fc0', '#ff0', '#cf0', '#9f0', '#6f0', '#3f0', '#0f0', '#0f3', '#0f6', '#0f9', '#0fc', '#0ff', '#0cf', '#09f', '#06f', '#03f', '#00f', '#30f', '#60f', '#90f', '#c0f', '#f0f', '#f0c', '#f09', '#f06', '#f03'];
			const COLORS_3 = ['#000', '#a60', '#f00', '#f90', '#ff0', '#0f0', '#00f', '#b0b' , '#777', '#fff'];
			const LABELS = ["", "first (4h)", "second (10s)", "third (2s)", "fourth (6s)", "fifth (10s)", "sixth (10m)", "seventh (2h 24m)", "eighth (random color)", "ninth (5,8,17,20)"];

			function syncClockDirection(){
				const dial = document.getElementById("clockDial");
				const btn = document.getElementById("btnClockDirection");
				if(!clockwise){
					dial.classList.add('reflected');
					btn.textContent = "Turn to clockwise";
				}else{
					dial.classList.remove('reflected');
					btn.textContent = "Turn to reversed clockwise";
				}
				document.getElementById("title").innerHTML = clockwise ? "24h clock" : "Reversed 24h clock";
			}

			function drawNumbers(){
				const oldNumbers = document.querySelectorAll('.number');
				oldNumbers.forEach(n => n.remove());
				const dial = document.getElementById("clockDial");
				for(let i = 0; i < 24; i++){
					let val = fromZero ? i : (i === 0 ? 24 : i);
					let degrees = 15*i;
					let numDiv = document.createElement('div');
					numDiv.className = 'number';
					numDiv.style.setProperty('--rotation', degrees + 'deg');
					numDiv.innerHTML = val + ((i%2 === 0) ? ("<br>" + ((i/2*5)%60)) : "");
					dial.appendChild(numDiv);
				}
			}

			function setClock(){
				const currentDate = new Date();
				const secondsRatio = currentDate.getSeconds()/60;
				const minutesRatio = (secondsRatio*(ANALOG ? 1 : 0) + currentDate.getMinutes())/60;
				const hoursRatio = (minutesRatio*(ANALOG ? 1 : 0) + currentDate.getHours())/24;
				setRotation(SECOND_HAND, secondsRatio);
				setRotation(MINUTE_HAND, minutesRatio);
				setRotation(HOUR_HAND, hoursRatio);
				if(choice === 1){
					document.body.style.backgroundColor = COLORS_1[currentDate.getHours()%6];
				}else if(choice === 2){
					document.body.style.backgroundColor = COLORS_1[currentDate.getSeconds()%6];
				}else if(choice === 3){
					document.body.style.backgroundColor = COLORS_2[currentDate.getSeconds()%30];
				}else if(choice === 4){
					document.body.style.backgroundColor = COLORS_3[currentDate.getSeconds()%10];
				}else if(choice === 5){
					document.body.style.backgroundColor = COLORS_3[Math.floor(currentDate.getSeconds()/6)];
				}else if(choice === 6){
					document.body.style.backgroundColor = COLORS_3[Math.floor(currentDate.getMinutes()/6)];
				}else if(choice === 7){
					document.body.style.backgroundColor = COLORS_3[Math.floor(((currentDate.getHours()*3600) +(currentDate.getMinutes()*60) + (currentDate.getSeconds()))/8640)];
				}else if(choice === 8 && !settledColor){
					settledColor = true;
					document.body.style.backgroundColor = "#" + [...Array(6)].map(() => Math.floor(Math.random()*16).toString(16)).join('');
				}else if(choice === 9){
					const hour = currentDate.getHours();
					document.body.style.backgroundColor = (hour >= 20 || hour < 5) ? NIGHT_COLOR : (hour >= 5 && hour < 8) ? SUNRISE_COLOR : (hour >= 8 && hour < 17) ? DAY_COLOR : SUNSET_COLOR;
				}
				document.getElementById("btnColors").textContent = "Colors' rule: " + LABELS[choice];
			}

			function setRotation(element, rotationRatio){
				let deg = rotationRatio*360;
				element.style.setProperty('--rotation', deg);
			}

			function changeColorsRules(){
				choice = choice >= 9 ? 1 : choice + 1;
				settledColor = false;
				document.getElementById("btnColors").textContent = "Colors' rule: " + LABELS[choice];
			}

			function changeClockDirection(){
				clockwise = !clockwise;
				syncClockDirection();
			}

			function changeMidnightNumber(){
				fromZero = !fromZero;
				drawNumbers();
			}

			drawNumbers();
			setClock();
			syncClockDirection();
			if(FLAG){
				document.getElementById("controlsForm").style.display = "none";
				document.getElementById("clockDial").style.pointerEvents = "auto";
				document.getElementById("clockDial").onclick = changeClockDirection;
			}
		</script>
	</body>
</html>