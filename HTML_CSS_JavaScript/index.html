<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Toolbox & Playground</title>
<style>
	:root{
		--bg-gradient: linear-gradient(135deg, #1e2a38 0%, #11151c 100%);
		--card-bg: rgba(255, 255, 255, 0.05);
		--card-border: rgba(255, 255, 255, 0.1);
		--text-main: #ffffff;
		--text-sec: #a0a0b0;
		--accent: #4a90e2;
		--accent-hover: #357abd;
		--viewer-bg: rgba(20, 20, 25, 0.95);
	}

	*{
		box-sizing: border-box;
	}

	body{
		font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
		margin: 0;
		background: var(--bg-gradient);
		color: var(--text-main);
		min-height: 100vh;
		overflow-x: hidden;
		-webkit-tap-highlight-color: transparent;
	}

	::-webkit-scrollbar {
		width: 8px;
	}

	::-webkit-scrollbar-track{
		background: #111;
	}

	::-webkit-scrollbar-thumb{
		background: #444;
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover{
		background: var(--accent);
	}

	#dashboard{
		padding: 40px 20px;
		max-width: 1000px;
		margin: 0 auto;
		animation: fadeIn 0.8s ease-out;
	}

	h1{
		text-align: center;
		font-weight: 200;
		font-size: 2.5rem;
		letter-spacing: 2px;
		margin-bottom: 50px;
		background: linear-gradient(to right, #fff, #aaa);
		-webkit-background-clip: text;
		background-clip: text;
		-webkit-text-fill-color: transparent;
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	h2{
		border-bottom: 1px solid var(--card-border);
		padding-bottom: 10px;
		margin-top: 50px;
		margin-bottom: 20px;
		color: var(--accent);
		font-size: 0.9rem;
		text-transform: uppercase;
		letter-spacing: 1.5px;
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	.grid{
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
		gap: 20px;
	}

	.card{
		background: var(--card-bg);
		border: 1px solid var(--card-border);
		border-radius: 12px;
		padding: 20px;
		font-size: 1rem;
		color: var(--text-main);
		cursor: pointer;
		min-height: 100px;
		display: flex;
		align-items: center;
		justify-content: center;
		text-align: center;
		transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
		-webkit-backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		box-shadow: 0 4px 6px rgba(0,0,0,0.1);
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	.card:hover{
		transform: translateY(-5px) scale(1.02);
		-webkit-backdrop-filter: blur(5px);
		backdrop-filter: blur(5px);
		box-shadow: 0 4px 6px rgba(0,0,0,0.1);
		-webkit-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

	.card:active{
		transform: scale(0.95);
	}

	#viewer{
		display: none;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: var(--viewer-bg);
		z-index: 2000;
		flex-direction: column;
		-webkit-backdrop-filter: blur(15px);
		backdrop-filter: blur(15px);
		animation: slideUp 0.3s ease-out;
	}

	@keyframes slideUp{
		from{
			transform: translateY(100%);
			opacity: 0;
		}to{
			transform: translateY(0);
			opacity: 1;
		}
	}

	@keyframes fadeIn{
		from{
			opacity: 0;
		}to{
			opacity: 1;
		}
	}

	#app-header{
		height: 50px;
		background: rgba(0,0,0,0.3);
		border-bottom: 1px solid var(--card-border);
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 0 20px;
		flex-shrink: 0;
	}

	#app-title{
		font-weight: 500;
		letter-spacing: 0.5px;
		font-size: 0.95rem;
		color: #fff;
	}

	#close-btn{
		background: transparent;
		color: #fff;
		border: 1px solid rgba(255,255,255,0.3);
		border-radius: 20px;
		padding: 6px 16px;
		font-size: 0.8rem;
		cursor: pointer;
		transition: 0.2s;
		text-transform: uppercase;
		font-weight: bold;
	}

	#close-btn:hover{
		background: #e74c3c;
		border-color: #e74c3c;
	}

	#iframe-container{
		flex-grow: 1;
		width: 100%;
		position: relative;
		background: #fff;
	}

	iframe{
		width: 100%;
		height: 100%;
		border: none;
		display: block;
	}
</style>
</head>
<body>
<div id="dashboard">
	<h1>Toolbox & Playground</h1>
	<div class='section'><h2>üï∞Ô∏è Clocks</h2><div class='grid'><button class='card' onclick="openPage('Clocks_Binary Clock.html')">Binary Clock</button><button class='card' onclick="openPage('Clocks_24h Clock.html')">24h Clock</button><button class='card' onclick="openPage('Clocks_Orbit Clock.html')">Orbit Clock</button><button class='card' onclick="openPage('Clocks_Strange Clock.html')">Strange Clock</button><button class='card' onclick="openPage('Clocks_World Time Zones.html')">World Time Zones</button><button class='card' onclick="openPage('Clocks_Digital Clock.html')">Digital Clock</button><button class='card' onclick="openPage('Clocks_Analog Clock.html')">Analog Clock</button><button class='card' onclick="openPage('Clocks_Seven-Segment Digital Clock.html')">Seven-Segment Digital Clock</button></div></div><div class='section'><h2>üéÆ Games</h2><div class='grid'><button class='card' onclick="openPage('Games_Eight Queens.html')">Eight Queens</button><button class='card' onclick="openPage('Games_Game of Life.html')">Game of Life</button><button class='card' onclick="openPage('Games_Tower of Hanoi.html')">Tower of Hanoi</button><button class='card' onclick="openPage('Games_Connect Four.html')">Connect Four</button><button class='card' onclick="openPage('Games_Modular Matching.html')">Modular Matching</button><button class='card' onclick="openPage('Games_Fifteen.html')">Fifteen</button><button class='card' onclick="openPage('Games_Chess.html')">Chess</button><button class='card' onclick="openPage('Games_Checkers.html')">Checkers</button><button class='card' onclick="openPage('Games_Backgammon.html')">Backgammon</button><button class='card' onclick="openPage('Games_Solitario carte napoletane.html')">Solitario carte napoletane</button></div></div><div class='section'><h2>üõ†Ô∏è Tools</h2><div class='grid'><button class='card' onclick="openPage('Tools_Colors Pro.html')">Colors Pro</button><button class='card' onclick="openPage('Tools_Some Maths.html')">Some Maths</button><button class='card' onclick="openPage('Tools_Sounds.html')">Sounds</button><button class='card' onclick="openPage('Tools_Days.html')">Days</button><button class='card' onclick="openPage('Tools_SuperEnalotto.html')">SuperEnalotto</button><button class='card' onclick="openPage('Tools_Colors Hub.html')">Colors Hub</button></div></div>
</div>
<div id="viewer">
	<div id="app-header">
		<span id="app-title">App Title</span>
		<button id="close-btn" onclick="closePage()">Close</button>
	</div>
	<div id="iframe-container">
		<iframe id="app-frame"></iframe>
	</div>
</div>

<script>
	const pages = {
		
	// --- Binary Clock ---
	'Clocks_Binary Clock.html': { name: `Binary Clock`, content: `<!DOCTYPE html>
<html lang="en"><!--C01#001 - Lucia - Binary Clock-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Binary Clock and Calendar</title>
		<style>
			body{
				background-color: powderblue;
				margin: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				min-height: 100vh;
				font-family: sans-serif;
			}
			#clock-container{
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 5px;
			}
			svg{
				display: block;
				border-radius: 8px;
				box-shadow: 0 4px 15px rgba(0,0,0,0.2);
			}
			.controls{
				display: flex;
				justify-content: center;
				align-items: center;
				gap: 5px;
				box-sizing: border-box;
			}
			input{
				flex: 1; 
				min-width: 0;
				padding: 4px 4px;
				border: 1px solid #444;
				border-radius: 4px;
				text-align: center;
				background-color: #000;
				color: #00FF00;
				font-family: 'Courier New', Courier, monospace;
				font-size: 11px;
				font-weight: bold;
				text-shadow: 0 0 8px rgba(0, 255, 0, 0.6);
				box-shadow: inset 0 0 5px rgba(0, 255, 0, 0.2);
				user-select: none; 
				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				cursor: default;
				transition: all 0.3s ease;
				pointer-events: none;
			}
		</style>
	</head>
	<body>
		<div id="clock-container"></div>
		<script>
			const DESKTOP = !(/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);
			const FLAG = true;
			const UNIT = DESKTOP ? 5 : 3;
			const HORIZONTAL_SPACE = 2*UNIT;
			const VERTICAL_SPACE = 2*UNIT;
			const YEAR_RADIUS = 3*UNIT;
			const RADIUS = 2*YEAR_RADIUS + (HORIZONTAL_SPACE/2);
			const ZERO_COLOR = 'blue';
			const ONE_COLOR = 'red';
			const SEPARATOR_COLOR = 'yellow';
			const PANEL_BACKGROUND_COLOR = 'black';
			let panel;
			let inner_panel;
			let top_panel;
			let bottom_panel;
			let new_bottom_panel;
			const YEAR_C = [];
			const MONTH_C = [];
			const DAY_C = [];
			const HOURS_C = [];
			const MINUTES_C = [];
			const SECONDS_C = [];
			const TS_C = [];
			const LAST_ARRAY_BD_C = [];
			const YEAR_BD = [];
			const MONTH_BD = [];
			const DAY_BD = [];
			const HOURS_BD = [];
			const MINUTES_BD = [];
			const SECONDS_BD = [];
			const TS_BD = [];
			const LAST_ARRAY_BD = [1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0];
			const CONTAINER = document.getElementById('clock-container');
			CONTAINER.innerHTML = \`
				<svg id="panel-svg"></svg>
				<div class="controls">
					<input type="text" id="dec_ts" disabled>
					<input type="text" id="hex_ts" disabled>
					<input type="text" id="end" value="Tuesday 19 January 2038 03:14:07" disabled>
					<input type="text" id="lasting" disabled>
					<input type="text" id="sign" value="caddc7ec" disabled>
				</div>
			\`;

			let clockSetting = (function(){
				let executed = false;
				return function(){
					if(!executed){
						executed = true;
						const svg = document.getElementById("panel-svg");
						const svgns = "http://www.w3.org/2000/svg";
						const svgWidth = 12*RADIUS + 11*HORIZONTAL_SPACE;
						svg.setAttribute("width", svgWidth);
						document.querySelector('.controls').style.width = svgWidth + "px";
						svg.setAttribute("height",(10 + (FLAG ? 1 : 0))*RADIUS + 2*YEAR_RADIUS + 15*VERTICAL_SPACE);
						panel = document.createElementNS(svgns, "rect");
						inner_panel = document.createElementNS(svgns, "rect");
						top_panel = document.createElementNS(svgns, "rect");
						bottom_panel = document.createElementNS(svgns, "rect");
						new_bottom_panel = document.createElementNS(svgns, "rect");
						svg.appendChild(panel);
						svg.appendChild(inner_panel);
						svg.appendChild(top_panel);
						svg.appendChild(bottom_panel);
						if(FLAG){
							svg.appendChild(new_bottom_panel);
						}
						for(let i = 0; i < 12; i++){
							YEAR_C[i] = document.createElementNS(svgns, "circle");
							YEAR_C[i].setAttribute("r", YEAR_RADIUS);
							YEAR_C[i].setAttribute("cx",(i*2 + 1)*YEAR_RADIUS + (i + 3)*HORIZONTAL_SPACE);
							YEAR_C[i].setAttribute("cy", YEAR_RADIUS + 3*VERTICAL_SPACE);
							svg.appendChild(YEAR_C[i]);
							if(i < 6){
								MONTH_C[i] = document.createElementNS(svgns, "circle");
								DAY_C[i] = document.createElementNS(svgns, "circle");
								HOURS_C[i] = document.createElementNS(svgns, "circle");
								MINUTES_C[i] = document.createElementNS(svgns, "circle");
								SECONDS_C[i] = document.createElementNS(svgns, "circle");
								[MONTH_C[i], DAY_C[i], HOURS_C[i], MINUTES_C[i], SECONDS_C[i]].forEach(c => c.setAttribute("r", RADIUS));
								const cx = (i*2 + 1)*RADIUS + (i + 3)*HORIZONTAL_SPACE;
								MONTH_C[i].setAttribute("cx", cx);
								DAY_C[i].setAttribute("cx", cx);
								HOURS_C[i].setAttribute("cx", cx);
								MINUTES_C[i].setAttribute("cx", cx);
								SECONDS_C[i].setAttribute("cx", cx);
								MONTH_C[i].setAttribute("cy", 2*YEAR_RADIUS + 1*RADIUS + 4*VERTICAL_SPACE);
								DAY_C[i].setAttribute("cy", 2*YEAR_RADIUS + 3*RADIUS + 5*VERTICAL_SPACE);
								HOURS_C[i].setAttribute("cy", 2*YEAR_RADIUS + 5*RADIUS + 8*VERTICAL_SPACE);
								MINUTES_C[i].setAttribute("cy", 2*YEAR_RADIUS + 7*RADIUS + 9*VERTICAL_SPACE);
								SECONDS_C[i].setAttribute("cy", 2*YEAR_RADIUS + 9*RADIUS + 10*VERTICAL_SPACE);
								svg.appendChild(MONTH_C[i]);
								svg.appendChild(DAY_C[i]);
								svg.appendChild(HOURS_C[i]);
								svg.appendChild(MINUTES_C[i]);
								svg.appendChild(SECONDS_C[i]);
							}
						}
						for(let i = 0; i < 32; i++){
							TS_C[i] = document.createElementNS(svgns, "circle");
							TS_C[i].setAttribute("r", RADIUS/5);
							TS_C[i].setAttribute("cx",((i*2 + 1)*(RADIUS/5)) + (1*HORIZONTAL_SPACE) + i + (DESKTOP ? i : UNIT));
							TS_C[i].setAttribute("cy", 2*YEAR_RADIUS + 11*RADIUS + 10*VERTICAL_SPACE);
							svg.appendChild(TS_C[i]);
							if(FLAG){
								LAST_ARRAY_BD_C[i] = document.createElementNS(svgns, "circle");
								LAST_ARRAY_BD_C[i].setAttribute("r", RADIUS/5);
								LAST_ARRAY_BD_C[i].setAttribute("cx",((i*2 + 1)*(RADIUS/5)) + (1*HORIZONTAL_SPACE) + i + (DESKTOP ? i : UNIT));
								LAST_ARRAY_BD_C[i].setAttribute("cy", 2*YEAR_RADIUS + 12*RADIUS + 10*VERTICAL_SPACE);
								LAST_ARRAY_BD_C[i].style.fill = (LAST_ARRAY_BD[i] === 0) ? ZERO_COLOR : ONE_COLOR;
								svg.appendChild(LAST_ARRAY_BD_C[i]);
							}
						}
						panel.setAttribute("width", 12*RADIUS + 11*HORIZONTAL_SPACE);
						inner_panel.setAttribute("width", 12*RADIUS + 9*HORIZONTAL_SPACE);
						top_panel.setAttribute("width", 12*RADIUS + 7*HORIZONTAL_SPACE);
						bottom_panel.setAttribute("width", 12*RADIUS + 7*HORIZONTAL_SPACE);
						new_bottom_panel.setAttribute("width", 12*RADIUS + 11*HORIZONTAL_SPACE);
						panel.setAttribute("height",(10 + (FLAG ? 1 : 0))*RADIUS + 2*YEAR_RADIUS + 16*VERTICAL_SPACE);
						inner_panel.setAttribute("height", 10*RADIUS + 2*YEAR_RADIUS + 11*VERTICAL_SPACE);
						top_panel.setAttribute("height", 4*RADIUS + 2*YEAR_RADIUS + 4*VERTICAL_SPACE);
						bottom_panel.setAttribute("height", 6*RADIUS + 4*VERTICAL_SPACE);
						new_bottom_panel.setAttribute("height", 3*VERTICAL_SPACE);
						panel.setAttribute("x", 0);
						inner_panel.setAttribute("x", HORIZONTAL_SPACE);
						top_panel.setAttribute("x", 2*HORIZONTAL_SPACE);
						bottom_panel.setAttribute("x", 2*HORIZONTAL_SPACE);
						new_bottom_panel.setAttribute("x", 0);
						panel.setAttribute("y", 0);
						inner_panel.setAttribute("y", VERTICAL_SPACE);
						top_panel.setAttribute("y", 2*VERTICAL_SPACE);
						bottom_panel.setAttribute("y", 7*VERTICAL_SPACE + 4*RADIUS + 2*YEAR_RADIUS);
						new_bottom_panel.setAttribute("y", 14*VERTICAL_SPACE + 10*RADIUS + 3*YEAR_RADIUS);
						document.getElementById("end").hidden = FLAG;
					}
				};
			})();

			function clock(){
				const d = new Date();
				const year = d.getFullYear();
				const month = d.getMonth() + 1;
				const day = d.getDate();
				const hours = d.getHours();
				const minutes = d.getMinutes();
				const seconds = d.getSeconds();
				const timestamp = Math.floor(Date.now()/1000);
				document.getElementById("dec_ts").value = timestamp;
				document.getElementById("hex_ts").value = timestamp.toString(16);
				document.getElementById("lasting").value = 2147483647 - timestamp;
				clockSetting();
				let sYear = year.toString(2).padStart(12, '0');
				let sMonth = month.toString(2).padStart(6, '0');
				let sDay = day.toString(2).padStart(6, '0');
				let sHours = hours.toString(2).padStart(6, '0');
				let sMinutes = minutes.toString(2).padStart(6, '0');
				let sSeconds = seconds.toString(2).padStart(6, '0');
				let sTimestamp = timestamp.toString(2).padStart(32, '0');
				panel.style.fill = PANEL_BACKGROUND_COLOR;
				inner_panel.style.fill = SEPARATOR_COLOR;
				top_panel.style.fill = PANEL_BACKGROUND_COLOR;
				bottom_panel.style.fill = PANEL_BACKGROUND_COLOR;
				new_bottom_panel.style.fill = "#00FF00";
				for(let i = 0; i < 12; i++){
					YEAR_C[i].style.fill = (sYear.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
					YEAR_C[i].style.transition = "2s";
					if(i < 6){
						MONTH_C[i].style.fill = (sMonth.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
						DAY_C[i].style.fill = (sDay.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
						HOURS_C[i].style.fill = (sHours.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
						MINUTES_C[i].style.fill = (sMinutes.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
						SECONDS_C[i].style.fill = (sSeconds.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
					}
				}
				for(let i = 0; i < 32; i++){
					TS_C[i].style.fill = (sTimestamp.charAt(i) === "0") ? ZERO_COLOR : ONE_COLOR;
					TS_C[i].style.transition = "1s";
				}
			}

			setInterval(clock, 200);
		<\/script>
	</body>
</html>` },

	// --- 24h Clock ---
	'Clocks_24h Clock.html': { name: `24h Clock`, content: `<!DOCTYPE html>
<html lang="en"><!--C02#004 - Giovanna - 24h Clock-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title id="title">Clock</title>
		<style>
			*, *::after, *::before{
				box-sizing: border-box;
				font-family: Gotham Rounded, sans-serif;
			}
			body{
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				transition: background-color 2s ease-in-out;
				background-color: #2f363e;
				-webkit-tap-highlight-color: transparent;
				overflow-x: hidden;
				touch-action: none;
			}
			.clock{
				width: 600px;
				height: 600px;
				background-color: rgba(255, 255, 255, .8);
				border-radius: 50%;
				border: 2px solid black;
				position: relative;
				transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
				cursor: pointer;
				user-select: none;
				touch-action: manipulation;
			}
			.clock.clickable{
				pointer-events: auto;
			}
			.clock.reflected{
				transform: scaleX(-1);
			}
			.clock .number{
				--rotation: 0;
				position: absolute;
				width: 100%;
				height: 100%;
				text-align: center;
				transform: rotate(var(--rotation));
				font-size: 2rem;
				transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
				pointer-events: none;
				overflow-x: hidden;
				user-select: none;
			}
			.clock.reflected .number{
				transform: rotate(var(--rotation)) scaleX(-1);
			}
			.clock .hand{
				--rotation: 0;
				position: absolute;
				bottom: 50%;
				left: 50%;
				border: 1px solid white;
				border-top-left-radius: 10px;
				border-top-right-radius: 10px;
				transform-origin: bottom;
				z-index: 10;
				transform: translateX(-50%) rotate(calc(var(--rotation)*1deg));
				pointer-events: none;
			}
			.clock::after{
				content: '';
				position: absolute;
				background-color: black;
				z-index: 11;
				width: 15px;
				height: 15px;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				border-radius: 50%;
			}
			.clock .hand.second{
				width: 3px;
				height: 45%;
				background-color: red;
			}
			.clock .hand.minute{
				width: 7px;
				height: 40%;
				background-color: black;
			}
			.clock .hand.hour{
				width: 10px;
				height: 35%;
				background-color: black;
			}
			#controlsForm{
				margin-top: 20px;
				text-align: center;
			}
			#controlsForm button{
				color: white;
				border-radius: 50px;
				padding: 10px 28px;
				font-size: 1rem;
				cursor: pointer;
				transition: all 0.3s ease; 
				background-color: rgba(0, 0, 0, 0.25);
				border: 2px solid rgba(0, 0, 0, 0.3);
				outline: none;
				-webkit-tap-highlight-color: transparent;
			}
			@media (hover: hover) and (pointer: fine){
				#controlsForm button:hover {
					background-color: rgba(255, 255, 255, 0.35);
					transform: scale(1.07);
					box-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
				}
			}
			#controlsForm button:active{
				transform: scale(0.95);
				background-color: rgba(255, 255, 255, 0.5) !important;
				transition: none;
			}
			#firstDiv{
				max-width: 100vw;
				display: flex;
				flex-direction: column;
				align-items: center;
				width: 100%;
			}
			button{
				-webkit-tap-highlight-color: transparent;
				outline: none;
			}
			#btnChangeBackgroundColor {
				display: none;
				padding: 10px 18px !important; 
				margin-left: 5px;
				font-weight: bold;
				vertical-align: middle;
			}
			@media (max-width: 768px){
				.clock{
					width: 90vw;
					height: 90vw;
				}
				.clock .number{
					font-size: 1.2rem;
				}
			}
		</style>
	</head>
	<body>
		<div id="firstDiv">
			<div id="clockDial" class="clock" onclick="changeClockDirection()">
				<div class="hand hour" data-hour-hand></div>
				<div class="hand minute" data-minute-hand></div>
				<div class="hand second" data-second-hand></div>
			</div>
			<form id="controlsForm">
				<button type="button" id="btnSettings" onclick="toggleSettings()">Show Settings</button>
				<br><br>
				<div id="extraButtons" style="display:none">
					<button type="button" id="btnClockDirection" onclick="changeClockDirection()">Turn to clockwise</button><br><br>
					<button type="button" id="btnColors" onclick="changeColorsRules()">Colors' rule: random</button>
					<button type="button" id="btnChangeBackgroundColor" onclick="changeBackgroundColor()" style="display:none">‚ü≥</button><br><br>
					<button type="button" id="btnMidnightNumber" onclick="changeMidnightNumber()">Change midnight number</button>
				</div>
			</form>
		</div>
		<script>
			//Original page I copied from: https://www.youtube.com/watch?v=Ki0XXrlKlHY&t=7s&ab_channel=WebDevSimplified
			setInterval(setClock, 200);
			let choice = 9;
			let clockwise = false;
			let fromZero = true;
			let settledColor = false;
			const ANALOG = true;
			const HOUR_HAND = document.querySelector('[data-hour-hand]');
			const MINUTE_HAND = document.querySelector('[data-minute-hand]');
			const SECOND_HAND = document.querySelector('[data-second-hand]');
			const NIGHT_COLOR = "#1a1a2e";
			const SUNRISE_COLOR = "#ff9e5e";
			const DAY_COLOR = "#87ceeb";
			const SUNSET_COLOR = "#e66465";
			const COLORS_1 = ['#f00', '#ff0', '#0f0', '#0ff', '#00f', '#f0f'];
			const COLORS_2 = ['#f00', '#f30', '#f60', '#f90', '#fc0', '#ff0', '#cf0', '#9f0', '#6f0', '#3f0', '#0f0', '#0f3', '#0f6', '#0f9', '#0fc', '#0ff', '#0cf', '#09f', '#06f', '#03f', '#00f', '#30f', '#60f', '#90f', '#c0f', '#f0f', '#f0c', '#f09', '#f06', '#f03'];
			const COLORS_3 = ['#000', '#a60', '#f00', '#f90', '#ff0', '#0f0', '#00f', '#b0b' , '#777', '#fff'];
			const LABELS = ["", "first (1h; 6)", "second (1s; 6)", "third (1s; 30)", "fourth (1s; 10)", "fifth (6s; 10)", "sixth (6m; 10)", "seventh (2h 24m; 10)", "eighth (one color)", "ninth (5,8,17,20; 4)"];

			function syncClockDirection(){
				const dial = document.getElementById("clockDial");
				const btn = document.getElementById("btnClockDirection");
				if(!clockwise){
					dial.classList.add('reflected');
					btn.textContent = "Turn to clockwise";
				}else{
					dial.classList.remove('reflected');
					btn.textContent = "Turn to reversed clockwise";
				}
				document.getElementById("title").innerHTML = clockwise ? "24h clock" : "Reversed 24h clock";
			}

			function drawNumbers(){
				const oldNumbers = document.querySelectorAll('.number');
				oldNumbers.forEach(n => n.remove());
				const dial = document.getElementById("clockDial");
				for(let i = 0; i < 24; i++){
					let val = fromZero ? i : (i === 0 ? 24 : i);
					let degrees = 15*i;
					let numDiv = document.createElement('div');
					numDiv.className = 'number';
					numDiv.style.setProperty('--rotation', degrees + 'deg');
					numDiv.innerHTML = val + ((i%2 === 0) ? ("<br>" + ((i/2*5)%60)) : "");
					dial.appendChild(numDiv);
				}
			}

			function setClock(){
				const currentDate = new Date();
				const secondsRatio = currentDate.getSeconds()/60;
				const minutesRatio = (secondsRatio*(ANALOG ? 1 : 0) + currentDate.getMinutes())/60;
				const hoursRatio = (minutesRatio*(ANALOG ? 1 : 0) + currentDate.getHours())/24;
				setRotation(SECOND_HAND, secondsRatio);
				setRotation(MINUTE_HAND, minutesRatio);
				setRotation(HOUR_HAND, hoursRatio);
				if(choice === 1){
					document.body.style.backgroundColor = COLORS_1[currentDate.getHours()%6];
				}else if(choice === 2){
					document.body.style.backgroundColor = COLORS_1[currentDate.getSeconds()%6];
				}else if(choice === 3){
					document.body.style.backgroundColor = COLORS_2[currentDate.getSeconds()%30];
				}else if(choice === 4){
					document.body.style.backgroundColor = COLORS_3[currentDate.getSeconds()%10];
				}else if(choice === 5){
					document.body.style.backgroundColor = COLORS_3[Math.floor(currentDate.getSeconds()/6)];
				}else if(choice === 6){
					document.body.style.backgroundColor = COLORS_3[Math.floor(currentDate.getMinutes()/6)];
				}else if(choice === 7){
					document.body.style.backgroundColor = COLORS_3[Math.floor(((currentDate.getHours()*3600) +(currentDate.getMinutes()*60) + (currentDate.getSeconds()))/8640)];
				}else if(choice === 8 && !settledColor){
					changeBackgroundColor();
				}else if(choice === 9){
					const hour = currentDate.getHours();
					document.body.style.backgroundColor = (hour >= 20 || hour < 5) ? NIGHT_COLOR : (hour >= 5 && hour < 8) ? SUNRISE_COLOR : (hour >= 8 && hour < 17) ? DAY_COLOR : SUNSET_COLOR;
				}
				document.getElementById("btnColors").textContent = "Colors' rule: " + LABELS[choice];
			}

			function setRotation(element, rotationRatio){
				let deg = rotationRatio*360;
				element.style.setProperty('--rotation', deg);
			}

			function changeColorsRules(){
				choice = choice >= 9 ? 1 : choice + 1;
				settledColor = false;
				document.getElementById("btnColors").textContent = "Colors' rule: " + LABELS[choice];
				const btnReset = document.getElementById("btnChangeBackgroundColor");
				btnReset.style.display = (choice === 8 ? "inline-block" : "none");
				document.activeElement.blur();
			}

			function changeBackgroundColor(){
				settledColor = true;
				document.body.style.backgroundColor = "#" + [...Array(6)].map(() => Math.floor(Math.random()*16).toString(16)).join('');
				document.activeElement.blur();
			}

			function changeClockDirection(){
				clockwise = !clockwise;
				syncClockDirection();
				document.activeElement.blur();
			}

			function changeMidnightNumber(){
				fromZero = !fromZero;
				drawNumbers();
				document.activeElement.blur();
			}

			function toggleSettings(){
				const extra = document.getElementById("extraButtons");
				if(extra.style.display === "none"){
					extra.style.display = "block";
					document.getElementById("btnSettings").textContent = "Hide Settings";
				}else{
					extra.style.display = "none";
					document.getElementById("btnSettings").textContent = "Show Settings";
				}
				document.activeElement.blur();
			}

			document.getElementById("btnChangeBackgroundColor").style.display = (choice === 8 ? "inline-block" : "none");
			drawNumbers();
			setClock();
			syncClockDirection();
		<\/script>
	</body>
</html>` },

	// --- Orbit Clock ---
	'Clocks_Orbit Clock.html': { name: `Orbit Clock`, content: `<!doctype html>
<html lang="en"><!--C03#008 - Nicola - Orbit Clock-->
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Orbit Clock</title>
		<style>
			*{
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}
			body{
				display: flex;
				justify-content: center;
				align-items: center;
				min-height: 100vh;
				background: #2f363e;
				-webkit-tap-highlight-color: transparent;
			}
			.clock{
				position: relative;
				width: 280px;
				height: 280px;
				display: flex;
				justify-content: center;
				align-items: center;
				--base-scale: 2.8;
				--reflect: 1;
				transform: scale(var(--base-scale)) scaleX(var(--reflect));
				box-shadow: inset 5px 5px 25px rgba(0,0,0,0.25);
				border-radius: 50%;
				cursor: pointer;
				transition: transform 0.6s ease-in-out;
				user-select: none;
				outline: none;
			}
			.clock.reflected{
				--reflect: -1;
			}
			@media (max-width: 768px) {
				.clock {
					--base-scale: 1.2;
				}
			}
			.clock::before{
				content: '';
				position: absolute;
				width: 6px;
				height: 6px;
				background: #2f363e;
				z-index: 1000;
				border: 1px solid #fff;
				border-radius: 50%;
			}
			#time{
				position: relative;
				width: 250px;
				height: 250px;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.circle{
				position: absolute;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.circle svg{
				transform: rotate(-90deg);
				overflow: visible;
			}
			.circle svg circle{
				fill: transparent;
				stroke-width: 8;
				stroke: var(--clr);
				opacity: 0.25;
				stroke-linecap: round;
			}
			.circle:nth-child(1), #sc{
				width: 240px;
				height: 240px;
			}
			#ss{
				stroke-dasharray: 754;
			} 
			.circle:nth-child(2), #mn{
				width: 200px;
				height: 200px;
			}
			#mm{
				stroke-dasharray: 628;
			}
			.circle:nth-child(3), #hr{
				width: 160px;
				height: 160px;
			}
			#hh{
				stroke-dasharray: 503;
			}
			.dots{
				position: absolute;
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				z-index: 10;
			}
			.dots::before{
				content: '';
				position: absolute;
				top: -4px;
				width: 10px;
				height: 10px;
				background: var(--clr);
				border-radius: 50%;
				box-shadow: 0 0 20px var(--clr), 0 0 40px var(--clr);
			}
			.niddles{
				position: absolute;
				display: flex;
				justify-content: center;
				z-index: 5;
			}
			.niddles i{
				position: absolute;
				width: 2px;
				background: var(--clr2);
				height: 50%;
				opacity: 0.5;
				border-radius: 6px;
				transform-origin: bottom;
				transform: scaleY(0.5);
			}
			#time span{
				position: absolute;
				inset: 55px;
				text-align: center;
				color: #999;
				font-family: consolas;
				pointer-events: none;
				transform: rotate(calc(15deg*var(--i)));
			}
			#time span b{
				font-size: 0.25em;
				font-weight: 500;
				display: inline-block;
				transform: rotate(calc(-15deg*var(--i)));
			}
			.clock.reflected #time span b{
				transform: rotate(calc(-15deg*var(--i))) scaleX(-1);
			}
		</style>
	</head>
	<body>
		<div id="clock_el" class="clock" onclick="changeClockDirection()">
			<div id="time">
				<div class="circle" style="--clr:#ff0000">
					<div class="dots" id="sec_dot"></div>
					<svg width="240" height="240"><circle cx="120" cy="120" r="120" id="ss"></circle></svg>
				</div>
				<div class="circle" style="--clr:#0000ff">
					<div class="dots" id="min_dot"></div>
					<svg width="200" height="200"><circle cx="100" cy="100" r="100" id="mm"></circle></svg>
				</div>
				<div class="circle" style="--clr:#ffff00">
					<div class="dots" id="hr_dot"></div>
					<svg width="160" height="160"><circle cx="80" cy="80" r="80" id="hh"></circle></svg>
				</div>
				<div class="niddles" style="--clr2:#ff0000;" id="sc"><i></i></div>
				<div class="niddles" style="--clr2:#0000ff;" id="mn"><i></i></div>
				<div class="niddles" style="--clr2:#ffff00;" id="hr"><i></i></div>
			</div>
		</div>
		<script>
			let isReflected = false;
			let lastS = -1;
			const AUDIO_CTX = new(window.AudioContext || window.webkitAudioContext)();

			function updateClock(){
				let now = new Date();
				let h = now.getHours(), m = now.getMinutes(), s = now.getSeconds();
				if(AUDIO_CTX.state === 'running' && s !== lastS){
					playTick();
					lastS = s;
				}
				let sDeg = (s*6);
				let mDeg = (m*6) + (s*0.1);
				let hDeg = (h%24*15) + (m*0.25);
				document.getElementById('sc').style.transform = \`rotateZ(\${sDeg}deg)\`;
				document.getElementById('mn').style.transform = \`rotateZ(\${mDeg}deg)\`;
				document.getElementById('hr').style.transform = \`rotateZ(\${hDeg}deg)\`;
				document.getElementById('sec_dot').style.transform = \`rotateZ(\${sDeg}deg)\`;
				document.getElementById('min_dot').style.transform = \`rotateZ(\${mDeg}deg)\`;
				document.getElementById('hr_dot').style.transform = \`rotateZ(\${hDeg}deg)\`;
				document.getElementById('ss').style.strokeDashoffset = 754 - (754*s)/60;
				document.getElementById('mm').style.strokeDashoffset = 628 - (628*(m + s/60))/60;
				document.getElementById('hh').style.strokeDashoffset = 503 - (503*(h + m/60))/24;
			}

			function playTick(){
				const osc = AUDIO_CTX.createOscillator();
				const gain = AUDIO_CTX.createGain();
				osc.frequency.setValueAtTime(isReflected ? 150 : 800, AUDIO_CTX.currentTime);
				gain.gain.setValueAtTime(0.05, AUDIO_CTX.currentTime);
				gain.gain.exponentialRampToValueAtTime(0.00001, AUDIO_CTX.currentTime + 0.1);
				osc.connect(gain); gain.connect(AUDIO_CTX.destination);
				osc.start(); osc.stop(AUDIO_CTX.currentTime + 0.1);
			}

			function drawNumbers(){
				document.querySelectorAll('#time span').forEach(span => span.remove());
				const timeContainer = document.getElementById("time");
				for(let val = 1; val <= 24; val++){
					let span = document.createElement('span');
					span.style.setProperty('--i', val);
					span.innerHTML = \`<b>\${val}</b>\`;
					timeContainer.appendChild(span);
				}
			}

			function changeClockDirection(){
				if(AUDIO_CTX.state === 'suspended'){
					AUDIO_CTX.resume();
				}
				isReflected = !isReflected;
				document.getElementById('clock_el').classList.toggle('reflected', isReflected);
			}

			drawNumbers();
			setInterval(updateClock, 50);
			updateClock();
		<\/script>
	</body>
</html>` },

	// --- Strange Clock ---
	'Clocks_Strange Clock.html': { name: `Strange Clock`, content: `<!DOCTYPE html>
<html lang="en"><!--C04#015 - Paolo - Strange Clock-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Strange Clock</title>
		<style>
			body{
				margin: 0;
				padding: 0;
				min-height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				font-family: 'Arial', sans-serif;
				background: radial-gradient(circle, #3f3f3f 0%, #1a1a1a 100%);
				color: white;
				overflow: hidden;
			}
			.clock-container{
				position: relative;
				display: flex;
				justify-content: center;
				align-items: center;
			}
			#timeCounter{
				position: absolute;
				text-align: center;
				z-index: 10;
				user-select: none;
				text-shadow: 0 0 20px rgba(0,0,0,1);
			}
			.pi-separator{
				display: inline-block;
				margin: 0 10px;
				font-weight: bold;
				text-shadow: none;
			}
		</style>
	</head>
	<body>
		<div class="clock-container">
			<svg id="panel"></svg>
			
			<div id="timeCounter"></div>
		</div>
		<script>
			const COLORS = ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF", "#00AF00", "#7F007F", "#FFAFAF", "#FFCF4F", "#FF7F00", "#7F3F00"];
			const DESKTOP = !(/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);
			const SIZE = DESKTOP ? 640 : 320;
			const RADIUS = SIZE*0.40;
			const DOT_RADIUS = DESKTOP ? 48 : 24;

			function drawClockFace(){
				const svg = document.getElementById("panel");
				const svgns = "http://www.w3.org/2000/svg";
				svg.setAttribute("width", SIZE);
				svg.setAttribute("height", SIZE);
				svg.innerHTML = "";
				const center = SIZE/2;
				const currentDate = new Date();
				const currentHourIdx = (currentDate.getHours() + 11)%12;
				for(let i = 0; i < COLORS.length; i++){
					let circle = document.createElementNS(svgns, "circle");
					circle.setAttribute("cx", center + RADIUS*Math.cos((i*30 - 90)*(Math.PI/180)));
					circle.setAttribute("cy", center + RADIUS*Math.sin((i*30 - 90)*(Math.PI/180)));
					circle.setAttribute("r", DOT_RADIUS);
					circle.style.fill = COLORS[(i - 1 + COLORS.length)%(COLORS.length)];
					svg.appendChild(circle);
				}
			}

			function updateTime(){
				const date = new Date();
				const counter = document.getElementById("timeCounter");
				const monthColor = COLORS[date.getMonth()%12];
				const hourColor = COLORS[(date.getHours() + 11)%12];
				const day = date.getDate();
				const minutes = date.getMinutes().toString().padStart(2, '0');
				const fontSize = DESKTOP ? "32px" : "16px";
				counter.style.fontSize = fontSize;
				counter.innerHTML = \`
					<div style="color: \${monthColor}; display: inline-block; font-size: 3em; font-weight: bold;">\${day}</div>
					<div class="pi-separator" style=" font-size: 3.5em; background: "#fff"; -webkit-background-clip: text; -webkit-text-fill-color: transparent;">œÄ</div>
					<div style="color: \${hourColor}; display: inline-block; font-size: 3em; font-weight: bold;">\${minutes}</div>
				\`;
				drawClockFace();
			}
			updateTime();
			setInterval(updateTime, 200);
		<\/script>
	</body>
</html>` },

	// --- World Time Zones ---
	'Clocks_World Time Zones.html': { name: `World Time Zones`, content: `<!DOCTYPE html>
<html lang="en"><!--C05#021 - Angela - World Time Zones-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>World Time Zones</title>
		<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
		<style>
			:root{
				--bg: #0d0d12;
				--surface: #16161f;
				--surface2: #1e1e2a;
				--border: #2a2a3a;
				--accent: #00e5a0;
				--accent2: #7c6aff;
				--text: #e8e8f0;
				--muted: #6b6b85;
			}
			body.light-mode{
				--bg: #f0f2f5;
				--surface: #ffffff;
				--surface2: #e4e6eb;
				--border: #d8dadf;
				--accent: #00a372;
				--accent2: #5a4ad1;
				--text: #1c1e21;
				--muted: #65676b;
			}
			*{
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}
			body{
				font-family: 'Syne', sans-serif;
				background: var(--bg);
				color: var(--text);
				min-height: 100vh;
				padding: 24px 16px 48px;
				transition: background-color 0.3s, color 0.3s;
				-webkit-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
			header{
				text-align: center;
				margin-bottom: 32px;
			}
			header h1{
				font-size: clamp(1.6rem, 5vw, 3rem);
				font-weight: 800;
				letter-spacing: -0.03em;
				background: linear-gradient(135deg, var(--accent), var(--accent2));
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
				line-height: 1.1;
				margin-bottom: 8px;
			}
			header p{
				color: var(--muted);
				font-size: 0.9rem;
			}
			.search-container{
				max-width: 600px;
				margin: 0 auto 24px;
				position: relative;
			}
			.search-input{
				width: 100%;
				padding: 14px 20px;
				background: var(--surface);
				border: 2px solid var(--border);
				border-radius: 12px;
				color: var(--text);
				font-family: 'Syne', sans-serif;
				font-size: 1rem;
				outline: none;
				transition: border-color 0.2s, background-color 0.3s, color 0.3s;
			}
			.search-input:focus{
				border-color: var(--accent2);
			}
			.controls{
				position: fixed;
				bottom: 24px;
				right: 24px;
				display: flex;
				flex-direction: column;
				gap: 12px;
				z-index: 1000;
			}
			.fab{
				width: 50px;
				height: 50px;
				border-radius: 50%;
				border: none;
				color: white;
				cursor: pointer;
				box-shadow: 0 4px 15px rgba(0,0,0,0.3);
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 1.2rem;
				font-weight: bold;
				transition: transform 0.15s, box-shadow 0.15s;
			}
			.fab:hover{
				transform: scale(1.08);
				box-shadow: 0 6px 20px rgba(0,0,0,0.4);
			}
			#themeToggle{
				background: var(--accent2);
			}
			#langToggle{
				background: var(--accent);
				color: #000;
				font-size: 0.9rem;
				font-family: 'Space Mono', monospace;
			}
			.filter-section{
				max-width: 1200px;
				margin: 0 auto 28px;
				display: flex;
				flex-direction: column;
				gap: 16px;
				align-items: center;
			}
			.filter-label{
				font-size: 0.7rem;
				color: var(--muted);
				text-transform: uppercase;
				letter-spacing: 0.1em;
				margin-bottom: -8px;
			}
			.filter-bar{
				display: flex;
				flex-wrap: wrap;
				gap: 6px;
				justify-content: center;
			}
			.filter-btn{
				background: var(--surface2);
				border: 1px solid var(--border);
				color: var(--muted);
				font-family: 'Syne', sans-serif;
				font-size: 0.72rem;
				font-weight: 700;
				letter-spacing: 0.05em;
				text-transform: uppercase;
				padding: 6px 12px;
				border-radius: 999px;
				cursor: pointer;
				transition: border-color 0.2s, color 0.2s, background-color 0.2s;
			}
			.filter-btn:hover{
				border-color: var(--accent);
				color: var(--accent);
			}
			.filter-btn.active{
				background: var(--accent);
				border-color: var(--accent);
				color: #000;
			}
			.hour-btn{
				font-family: 'Space Mono', monospace;
				min-width: 40px;
			}
			.result-count{
				text-align: center;
				color: var(--muted);
				font-size: 0.82rem;
				margin-bottom: 20px;
				min-height: 1.2em;
			}
			.container{
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
				gap: 12px;
				max-width: 1400px;
				margin: 0 auto;
			}
			.timezone-card{
				background: var(--surface);
				border: 1px solid var(--border);
				border-radius: 12px;
				padding: 14px 16px;
				position: relative;
				transition: border-color 0.2s, transform 0.15s, background-color 0.3s;
			}
			.timezone-card:hover{
				border-color: var(--accent2);
				transform: translateY(-2px);
			}
			.card-continent{
				font-size: 0.65rem;
				font-weight: 700;
				letter-spacing: 0.12em;
				text-transform: uppercase;
				color: var(--accent);
				margin-bottom: 4px;
			}
			.card-country{
				font-size: 0.92rem;
				font-weight: 700;
				color: var(--text);
				margin-bottom: 2px;
			}
			.card-city{
				font-size: 0.75rem;
				color: var(--muted);
				margin-bottom: 6px;
			}
			.card-time{
				font-family: 'Space Mono', monospace;
				font-size: 1.5rem;
				font-weight: 700;
				color: var(--accent);
			}
			.card-date{
				font-size: 0.7rem;
				color: var(--muted);
			}
			.hidden{
				display: none !important;
			}
			@media (max-width: 480px){
				.container{
					grid-template-columns: 1fr 1fr;
					gap: 8px;
				}
				.card-time{
					font-size: 1.1rem;
				}
			}
		</style>
	</head>
	<body>
		<div class="controls">
			<button class="fab" id="langToggle" title="Switch Language">IT</button>
			<button class="fab" id="themeToggle" title="Toggle Light/Dark Mode">‚òÄÔ∏è</button>
		</div>
		<header>
			<h1 id="mainTitle">üåç World Time Zones</h1>
			<p id="subTitle">Real-time clocks by location and hour</p>
		</header>
		<div class="search-container">
			<input type="text" id="searchInput" class="search-input" placeholder="Search city or country...">
		</div>
		<div class="filter-section">
			<span class="filter-label" id="labelContinent">Filter by Continent</span>
			<div class="filter-bar" id="continentBar"></div>
			<span class="filter-label" id="labelHour">Filter by Current Hour</span>
			<div class="filter-bar" id="hourBar"></div>
		</div>
		<div class="result-count" id="resultCount"></div>
		<div class="container" id="container"></div>
		<script>
			const CONTINENT_LABELS = {
				'Africa':     { en: 'Africa',              it: 'Africa' },
				'America':    { en: 'Americas',            it: 'Americhe' },
				'Antarctica': { en: 'Antarctica',          it: 'Antartide' },
				'Arctic':     { en: 'Arctic',              it: 'Artide' },
				'Asia':       { en: 'Asia',                it: 'Asia' },
				'Atlantic':   { en: 'Atlantic',            it: 'Atlantico' },
				'Australia':  { en: 'Australia / Oceania', it: 'Australia / Oceania' },
				'Europe':     { en: 'Europe',              it: 'Europa' },
				'Indian':     { en: 'Indian Ocean',        it: 'Oceano Indiano' },
				'Pacific':    { en: 'Pacific',             it: 'Pacifico' }
			};
			const CITY_TO_CODE = {
				'Abidjan':'CI','Accra':'GH','Addis_Ababa':'ET','Algiers':'DZ','Asmara':'ER','Bamako':'ML',
				'Bangui':'CF','Banjul':'GM','Bissau':'GW','Blantyre':'MW','Brazzaville':'CG','Bujumbura':'BI',
				'Cairo':'EG','Casablanca':'MA','Ceuta':'ES','Conakry':'GN','Dakar':'SN','Dar_es_Salaam':'TZ',
				'Djibouti':'DJ','Douala':'CM','El_Aaiun':'EH','Freetown':'SL','Gaborone':'BW','Harare':'ZW',
				'Johannesburg':'ZA','Juba':'SS','Kampala':'UG','Khartoum':'SD','Kigali':'RW','Kinshasa':'CD',
				'Lagos':'NG','Libreville':'GA','Lome':'TG','Luanda':'AO','Lubumbashi':'CD','Lusaka':'ZM',
				'Malabo':'GQ','Maputo':'MZ','Maseru':'LS','Mbabane':'SZ','Mogadishu':'SO','Monrovia':'LR',
				'Nairobi':'KE','Ndjamena':'TD','Niamey':'NE','Nouakchott':'MR','Ouagadougou':'BF',
				'Porto-Novo':'BJ','Sao_Tome':'ST','Tripoli':'LY','Tunis':'TN','Windhoek':'NA',
				// Americas
				'Adak':'US','Anchorage':'US','Araguaina':'BR','Argentina':'AR','Asuncion':'PY',
				'Atikokan':'CA','Bahia':'BR','Bahia_Banderas':'MX','Barbados':'BB','Belem':'BR',
				'Belize':'BZ','Blanc-Sablon':'CA','Boa_Vista':'BR','Bogota':'CO','Boise':'US',
				'Cambridge_Bay':'CA','Campo_Grande':'BR','Cancun':'MX','Caracas':'VE','Cayenne':'GF',
				'Cayman':'KY','Chicago':'US','Chihuahua':'MX','Costa_Rica':'CR','Creston':'CA',
				'Cuiaba':'BR','Curacao':'CW','Danmarkshavn':'GL','Dawson':'CA','Dawson_Creek':'CA',
				'Denver':'US','Detroit':'US','Dominica':'DM','Edmonton':'CA','Eirunepe':'BR',
				'El_Salvador':'SV','Fortaleza':'BR','Glace_Bay':'CA','Godthab':'GL','Goose_Bay':'CA',
				'Grand_Turk':'TC','Grenada':'GD','Guadeloupe':'GP','Guatemala':'GT','Guayaquil':'EC',
				'Guyana':'GY','Halifax':'CA','Havana':'CU','Hermosillo':'MX','Indiana':'US',
				'Inuvik':'CA','Iqaluit':'CA','Jamaica':'JM','Juneau':'US','Kentucky':'US',
				'Kralendijk':'BQ','La_Paz':'BO','Lima':'PE','Los_Angeles':'US','Lower_Princes':'SX',
				'Maceio':'BR','Managua':'NI','Manaus':'BR','Marigot':'MF','Martinique':'MQ',
				'Matamoros':'MX','Mazatlan':'MX','Menominee':'US','Merida':'MX','Metlakatla':'US',
				'Mexico_City':'MX','Miquelon':'PM','Moncton':'CA','Monterrey':'MX','Montevideo':'UY',
				'Montserrat':'MS','Nassau':'BS','New_York':'US','Nipigon':'CA','Nome':'US',
				'Noronha':'BR','North_Dakota':'US','Ojinaga':'MX','Panama':'PA','Pangnirtung':'CA',
				'Paramaribo':'SR','Phoenix':'US','Port-au-Prince':'HT','Port_of_Spain':'TT',
				'Porto_Velho':'BR','Puerto_Rico':'PR','Punta_Arenas':'CL','Rainy_River':'CA',
				'Rankin_Inlet':'CA','Recife':'BR','Regina':'CA','Resolute':'CA','Rio_Branco':'BR',
				'Santa_Isabel':'MX','Santarem':'BR','Santiago':'CL','Santo_Domingo':'DO','Sao_Paulo':'BR',
				'Scoresbysund':'GL','Sitka':'US','St_Barthelemy':'BL','St_Johns':'CA','St_Kitts':'KN',
				'St_Lucia':'LC','St_Thomas':'VI','St_Vincent':'VC','Swift_Current':'CA','Tegucigalpa':'HN',
				'Thule':'GL','Thunder_Bay':'CA','Tijuana':'MX','Toronto':'CA','Tortola':'VG',
				'Vancouver':'CA','Whitehorse':'CA','Winnipeg':'CA','Yakutat':'US','Yellowknife':'CA',
				// Asia
				'Aden':'YE','Almaty':'KZ','Amman':'JO','Anadyr':'RU','Aqtau':'KZ','Aqtobe':'KZ',
				'Ashgabat':'TM','Atyrau':'KZ','Baghdad':'IQ','Bahrain':'BH','Baku':'AZ','Bangkok':'TH',
				'Barnaul':'RU','Beirut':'LB','Bishkek':'KG','Brunei':'BN','Chita':'RU','Choibalsan':'MN',
				'Colombo':'LK','Damascus':'SY','Dhaka':'BD','Dili':'TL','Dubai':'AE','Dushanbe':'TJ',
				'Famagusta':'CY','Gaza':'PS','Hebron':'PS','Ho_Chi_Minh':'VN','Hong_Kong':'HK',
				'Hovd':'MN','Irkutsk':'RU','Jakarta':'ID','Jayapura':'ID','Jerusalem':'IL','Kabul':'AF',
				'Kamchatka':'RU','Karachi':'PK','Kathmandu':'NP','Khandyga':'RU','Kolkata':'IN',
				'Krasnoyarsk':'RU','Kuala_Lumpur':'MY','Kuching':'MY','Kuwait':'KW','Macau':'MO',
				'Magadan':'RU','Makassar':'ID','Manila':'PH','Muscat':'OM','Nicosia':'CY',
				'Novokuznetsk':'RU','Novosibirsk':'RU','Omsk':'RU','Oral':'KZ','Phnom_Penh':'KH',
				'Pontianak':'ID','Pyongyang':'KP','Qatar':'QA','Qostanay':'KZ','Qyzylorda':'KZ',
				'Riyadh':'SA','Sakhalin':'RU','Samarkand':'UZ','Seoul':'KR','Shanghai':'CN',
				'Singapore':'SG','Srednekolymsk':'RU','Taipei':'TW','Tashkent':'UZ','Tbilisi':'GE',
				'Tehran':'IR','Thimphu':'BT','Tokyo':'JP','Tomsk':'RU','Ulaanbaatar':'MN','Urumqi':'CN',
				'Ust-Nera':'RU','Vientiane':'LA','Vladivostok':'RU','Yakutsk':'RU','Yangon':'MM',
				'Yekaterinburg':'RU','Yerevan':'AM',
				// Atlantic
				'Azores':'PT','Bermuda':'BM','Canary':'ES','Cape_Verde':'CV','Faroe':'FO',
				'Madeira':'PT','Reykjavik':'IS','South_Georgia':'GS','St_Helena':'SH','Stanley':'FK',
				// Australia
				'Adelaide':'AU','Brisbane':'AU','Broken_Hill':'AU','Darwin':'AU','Eucla':'AU',
				'Hobart':'AU','Lindeman':'AU','Lord_Howe':'AU','Melbourne':'AU','Perth':'AU','Sydney':'AU',
				// Europe
				'Amsterdam':'NL','Andorra':'AD','Astrakhan':'RU','Athens':'GR','Belfast':'GB',
				'Belgrade':'RS','Berlin':'DE','Bratislava':'SK','Brussels':'BE','Bucharest':'RO',
				'Budapest':'HU','Busingen':'DE','Chisinau':'MD','Copenhagen':'DK','Dublin':'IE',
				'Gibraltar':'GI','Guernsey':'GG','Helsinki':'FI','Isle_of_Man':'IM','Istanbul':'TR',
				'Jersey':'JE','Kaliningrad':'RU','Kiev':'UA','Kirov':'RU','Kyiv':'UA','Lisbon':'PT',
				'Ljubljana':'SI','London':'GB','Luxembourg':'LU','Madrid':'ES','Malta':'MT',
				'Mariehamn':'AX','Minsk':'BY','Monaco':'MC','Moscow':'RU','Nicosia':'CY',
				'Oslo':'NO','Paris':'FR','Podgorica':'ME','Prague':'CZ','Riga':'LV','Rome':'IT',
				'Samara':'RU','San_Marino':'SM','Sarajevo':'BA','Saratov':'RU','Simferopol':'UA',
				'Skopje':'MK','Sofia':'BG','Stockholm':'SE','Tallinn':'EE','Tirane':'AL',
				'Ulyanovsk':'RU','Uzhgorod':'UA','Vaduz':'LI','Vatican':'VA','Vienna':'AT',
				'Vilnius':'LT','Volgograd':'RU','Warsaw':'PL','Zagreb':'HR','Zaporozhye':'UA','Zurich':'CH',
				// Indian
				'Antananarivo':'MG','Chagos':'IO','Christmas':'CX','Cocos':'CC','Comoro':'KM',
				'Kerguelen':'TF','Mahe':'SC','Maldives':'MV','Mauritius':'MU','Mayotte':'YT','Reunion':'RE',
				// Pacific
				'Apia':'WS','Auckland':'NZ','Bougainville':'PG','Chatham':'NZ','Chuuk':'FM',
				'Easter':'CL','Efate':'VU','Enderbury':'KI','Fakaofo':'TK','Fiji':'FJ','Funafuti':'TV',
				'Galapagos':'EC','Gambier':'PF','Guadalcanal':'SB','Guam':'GU','Honolulu':'US',
				'Johnston':'UM','Kiritimati':'KI','Kosrae':'FM','Kwajalein':'MH','Majuro':'MH',
				'Marquesas':'PF','Midway':'UM','Nauru':'NR','Niue':'NU','Norfolk':'NF','Noumea':'NC',
				'Pago_Pago':'AS','Palau':'PW','Pitcairn':'PN','Pohnpei':'FM','Port_Moresby':'PG',
				'Rarotonga':'CK','Saipan':'MP','Tahiti':'PF','Tarawa':'KI','Tongatapu':'TO',
				'Wake':'UM','Wallis':'WF'
			};
			const TRANSLATIONS = {
				en: {
					title: "üåç World Time Zones",
					subtitle: "Real-time clocks by location and hour",
					placeholder: "Search city or country...",
					filterContinent: "Filter by Continent",
					filterHour: "Filter by Current Hour",
					all: "All",
					anyTime: "Any",
					found: "time zones found",
					foundSingle: "time zone found"
				},
				it: {
					title: "üåç Fusi Orari Mondiali",
					subtitle: "Orologi in tempo reale per localit√† e ora",
					placeholder: "Cerca citt√† o nazione...",
					filterContinent: "Filtra per Continente",
					filterHour: "Filtra per Ora Attuale",
					all: "Tutti",
					anyTime: "Tutti",
					found: "fusi orari trovati",
					foundSingle: "fuso orario trovato"
				}
			};
			let currentLang = 'en';
			const TIME_ZONES = Intl.supportedValuesOf('timeZone');
			const CONTAINER = document.getElementById('container');
			const CONTINENT_BAR = document.getElementById('continentBar');
			const HOUR_BAR = document.getElementById('hourBar');
			const RESULT_COUNT = document.getElementById('resultCount');
			const SEARCH_INPUT = document.getElementById('searchInput');
			const THEME_TOGGLE = document.getElementById('themeToggle');
			const LANG_TOGGLE = document.getElementById('langToggle');
			let activeContinent = 'ALL';
			let activeHour = 'ALL';
			let searchQuery = '';
			const DISPLAY_NAMES = {};

			function getDisplayNames(lang){
				const locale = lang === 'it' ? 'it-IT' : 'en-US';
				if(!DISPLAY_NAMES[lang]){
					DISPLAY_NAMES[lang] = new Intl.DisplayNames([locale], {type: 'region'});
				}
				return DISPLAY_NAMES[lang];
			}

			function getCountryName(zone, lang){
				const city = zone.split('/').pop();
				const code = CITY_TO_CODE[city];
				if(code){
					try{
						return getDisplayNames(lang).of(code);
					}catch(e){
					}
				}
				return city.replace(/_/g, ' ');
			}

			function parseZone(zone){
				const parts = zone.split('/');
				return{
					continent: parts[0],
					city: parts[parts.length - 1].replace(/_/g, ' ')
				};
			}

			THEME_TOGGLE.addEventListener('click', () => {
				document.body.classList.toggle('light-mode');
				THEME_TOGGLE.textContent = document.body.classList.contains('light-mode') ? 'üåô' : '‚òÄÔ∏è';
			});

			LANG_TOGGLE.addEventListener('click', () => {
				currentLang = currentLang === 'en' ? 'it' : 'en';
				LANG_TOGGLE.textContent = currentLang === 'en' ? 'IT' : 'EN';
				updateLanguage();
			});

			SEARCH_INPUT.addEventListener('input', (e) => {
				searchQuery = e.target.value.toLowerCase();
				updateVisibility();
			});

			function updateLanguage(){
				const t = TRANSLATIONS[currentLang];
				document.getElementById('mainTitle').textContent = t.title;
				document.getElementById('subTitle').textContent = t.subtitle;
				SEARCH_INPUT.placeholder = t.placeholder;
				document.getElementById('labelContinent').textContent = t.filterContinent;
				document.getElementById('labelHour').textContent = t.filterHour;
				CONTINENT_BAR.innerHTML = '';
				HOUR_BAR.innerHTML = '';
				initFilters();
				document.querySelectorAll('.timezone-card').forEach(card => {
					const zone = card.dataset.zone;
					const cont = card.dataset.continent;
					const country = getCountryName(zone, currentLang);
					card.querySelector('.card-continent').textContent = CONTINENT_LABELS[cont] ? CONTINENT_LABELS[cont][currentLang] : cont;
					card.querySelector('.card-country').textContent = country;
					card.dataset.country = country.toLowerCase();
				});
				updateTimes();
				updateVisibility();
			}

			function initFilters(){
				const continents = [...new Set(TIME_ZONES.map(z => parseZone(z).continent))].sort();
				const t = TRANSLATIONS[currentLang];
				createFilterBtn(CONTINENT_BAR, 'ALL', \`üåç \${t.all}\`,
				(val) => {
					activeContinent = val;
					updateVisibility();
				}, activeContinent === 'ALL');
				continents.forEach(c => {
					const label = CONTINENT_LABELS[c] ? CONTINENT_LABELS[c][currentLang] : c;
					createFilterBtn(CONTINENT_BAR, c, label,
						(val) => {
							activeContinent = val;
							updateVisibility();
						}, activeContinent === c);
				});
				createFilterBtn(HOUR_BAR, 'ALL', t.anyTime,
				(val) => {
					activeHour = val;
					updateVisibility();
				}, activeHour === 'ALL');
				for(let i = 0; i < 24; i++){
					const h = i.toString().padStart(2, '0');
					createFilterBtn(HOUR_BAR, h, \`\${h}:00\`,
						(val) => {
							activeHour = val;
							updateVisibility();
						}, activeHour === h, 'hour-btn');
				}
			}

			function createFilterBtn(parent, value, label, callback, isActive = false, extraClass = ''){
				const btn = document.createElement('button');
				btn.className = \`filter-btn\${extraClass ? ' ' + extraClass : ''}\${isActive ? ' active' : ''}\`;
				btn.textContent = label;
				btn.onclick = () => {
					parent.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
					btn.classList.add('active');
					callback(value);
				};
				parent.appendChild(btn);
			}

			function updateVisibility(){
				const cards = CONTAINER.querySelectorAll('.timezone-card');
				let visible = 0;
				cards.forEach(card => {
					const country = card.dataset.country;
					const city = card.dataset.city;
					const matchContinent = activeContinent === 'ALL' || card.dataset.continent === activeContinent;
					const matchHour = activeHour === 'ALL' || card.dataset.currentHour === activeHour;
					const matchSearch = searchQuery === '' || country.includes(searchQuery) || city.includes(searchQuery);
					const show = matchContinent && matchHour && matchSearch;
					card.classList.toggle('hidden', !show);
					if(show){
						visible++;
					}
				});
				const t = TRANSLATIONS[currentLang];
				RESULT_COUNT.textContent = \`\${visible} \${visible === 1 ? t.foundSingle : t.found}\`;
			}

			function createCards(){
				const frag = document.createDocumentFragment();
				TIME_ZONES.forEach(zone => {
					const { continent, city } = parseZone(zone);
					const country = getCountryName(zone, currentLang);
					const id = zone.replaceAll('/', '_');
					const continentLabel = CONTINENT_LABELS[continent] ? CONTINENT_LABELS[continent][currentLang] : continent;
					const div = document.createElement('div');
					div.className = 'timezone-card';
					div.dataset.continent = continent;
					div.dataset.country = country.toLowerCase();
					div.dataset.city = city.toLowerCase();
					div.dataset.zone = zone;
					div.innerHTML = \`
						<div class="card-continent">\${continentLabel}</div>
						<div class="card-country">\${country}</div>
						<div class="card-city">\${city}</div>
						<div class="card-time" id="time_\${id}">--:--:--</div>
						<div class="card-date" id="date_\${id}"></div>
					\`;
					frag.appendChild(div);
				});
				CONTAINER.appendChild(frag);
			}

			function updateTimes(){
				const now = new Date();
				const locale = currentLang === 'en' ? 'en-GB' : 'it-IT';
				let hourFilterChanged = false;
				TIME_ZONES.forEach(zone => {
					const id = zone.replaceAll('/', '_');
					const timeEl = document.getElementById(\`time_\${id}\`);
					if(!timeEl){
						return;
					}
					const card = timeEl.closest('.timezone-card');
					const formatter = new Intl.DateTimeFormat('en-GB', {
						timeZone: zone, hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false
					});
					const parts = formatter.formatToParts(now);
					const h = parts.find(p => p.type === 'hour').value;
					const m = parts.find(p => p.type === 'minute').value;
					const s = parts.find(p => p.type === 'second').value;
					timeEl.textContent = \`\${h}:\${m}:\${s}\`;
					if(card.dataset.currentHour !== h){
						card.dataset.currentHour = h;
						hourFilterChanged = true;
					}
					document.getElementById(\`date_\${id}\`).textContent = new Intl.DateTimeFormat(locale, {
						timeZone: zone, weekday: 'short', day: 'numeric', month: 'short'
					}).format(now);
				});
				if(activeHour !== 'ALL' && hourFilterChanged){
					updateVisibility();
				}
			}

			initFilters();
			createCards();
			updateTimes();
			updateVisibility();
			setInterval(updateTimes, 200);
		<\/script>
	</body>
</html>` },

	// --- Digital Clock ---
	'Clocks_Digital Clock.html': { name: `Digital Clock`, content: `<!DOCTYPE html>
<html lang="en"><!--C06#022 - Giorgio - Digital Clock-->
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Digital Clock</title>
		<style>
			body{
				display: flex;
				height: 100vh;
				margin: 0;
				background: #111;
				color: #0ff;
				font-family: 'Courier New', Courier, monospace;
				justify-content: center;
				align-items: center;
				user-select: none;
				overflow: hidden;
			}
			#clock{
				background: #000;
				padding: 2vw 5vw;
				border-radius: 20px;
				box-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
				font-size: 15vw; 
				font-weight: bold;
				text-align: center;
				white-space: nowrap;
			}
			@media (min-width: 1024px){
				#clock{
					font-size: 10rem;
					padding: 30px 60px;
				}
			}
			@media (max-width: 600px){
				#clock{
					font-size: 18vw;
					padding: 15px 25px;
					letter-spacing: -0.02em;
				}
			}
		</style>
	</head>
	<body>
		<div id="clock">00:00:00</div>
		<script>
			function updateClock() {
				const now = new Date();
				const h = String(now.getHours()).padStart(2, '0');
				const m = String(now.getMinutes()).padStart(2, '0');
				const s = String(now.getSeconds()).padStart(2, '0');
				const clockElement = document.getElementById('clock');
				clockElement.textContent = \`\${h}:\${m}:\${s}\`;
			}
			updateClock();
			setInterval(updateClock, 200);
		<\/script>
	</body>
</html>` },

	// --- Analog Clock ---
	'Clocks_Analog Clock.html': { name: `Analog Clock`, content: `<!DOCTYPE html>
<html lang="en"><!--C07#023 - Simone - Analog Clock-->
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<title>Analog Clock</title>
		<style>
			body{
				display: flex;
				height: 100vh;
				margin: 0;
				background: #111;
				justify-content: center;
				align-items: center;
				overflow: hidden;
				font-family: Arial, sans-serif;
			}
			canvas{
				background-color: #000;
				border-radius: 50%;
				box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
				max-width: 90vw;
				max-height: 90vh;
			}
		</style>
	</head>
	<body>
		<canvas id="analogClock"></canvas>
		<script>
			const CANVAS = document.getElementById('analogClock');
			const CTX = CANVAS.getContext('2d');
			let radius;

			function resizeCanvas(){
				const size = Math.min(window.innerWidth, window.innerHeight)*0.85;
				CANVAS.width = size;
				CANVAS.height = size;
				radius = CANVAS.height/2;
				CTX.setTransform(1, 0, 0, 1, 0, 0); 
				CTX.translate(radius, radius);
				drawClock();
			}

			function drawClock(){
				drawFace(CTX, radius);
				drawNumbers(CTX, radius);
				drawTime(CTX, radius);
			}

			function drawFace(CTX, radius){
				CTX.beginPath();
				CTX.arc(0, 0, radius*0.95, 0, 2*Math.PI);
				CTX.fillStyle = '#000';
				CTX.fill();
				const grad = CTX.createRadialGradient(0, 0, radius*0.85, 0, 0, radius*1.05);
				grad.addColorStop(0, '#0ff');
				grad.addColorStop(0.5, '#222');
				grad.addColorStop(1, '#0ff');
				CTX.strokeStyle = grad;
				CTX.lineWidth = radius*0.07;
				CTX.stroke();
				CTX.beginPath();
				CTX.arc(0, 0, radius*0.05, 0, 2*Math.PI);
				CTX.fillStyle = '#0ff';
				CTX.fill();
			}

			function drawNumbers(CTX, radius){
				CTX.font = radius*0.15 + "px Arial";
				CTX.fillStyle = '#0ff';
				CTX.textBaseline = "middle";
				CTX.textAlign = "center";
				for(let num = 1; num <= 12; num++){
					const ang = num*Math.PI/6;
					CTX.rotate(ang);
					CTX.translate(0, -radius*0.78);
					CTX.rotate(-ang);
					CTX.fillText(num.toString(), 0, 0);
					CTX.rotate(ang);
					CTX.translate(0, radius*0.78);
					CTX.rotate(-ang);
				}
			}

			function drawTime(CTX, radius){
				const now = new Date();
				let hour = now.getHours();
				let minute = now.getMinutes();
				let second = now.getSeconds();
				hour = hour%12;
				const hourAngle = (hour*Math.PI/6) + (minute*Math.PI/(6*60)) + (second*Math.PI/(360*60));
				const minuteAngle = (minute*Math.PI/30) + (second*Math.PI/(30*60));
				const secondAngle = second*Math.PI/30;
				drawHand(CTX, hourAngle, radius*0.5, radius*0.06, '#0ff');
				drawHand(CTX, minuteAngle, radius*0.75, radius*0.04, '#0ff');
				drawHand(CTX, secondAngle, radius*0.85, radius*0.02, '#f00');
			}

			function drawHand(CTX, pos, length, width, color){
				CTX.beginPath();
				CTX.lineWidth = width;
				CTX.lineCap = "round";
				CTX.strokeStyle = color;
				CTX.moveTo(0, 0);
				CTX.rotate(pos);
				CTX.lineTo(0, -length);
				CTX.stroke();
				CTX.rotate(-pos);
			}

			window.addEventListener('resize', resizeCanvas);
			setInterval(drawClock, 200);
			resizeCanvas();
		<\/script>
	</body>
</html>` },

	// --- Seven-Segment Digital Clock ---
	'Clocks_Seven-Segment Digital Clock.html': { name: `Seven-Segment Digital Clock`, content: `<!DOCTYPE html>
	<html lang="en"><!--C08#024 - Eduardo - Seven-Segment Digital Clock-->
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>Seven-Segment Digital Clock</title>
		<style>
			:root{
				--digit-width: 60px;
				--digit-height: 120px;
				--seg-thickness: 8px;
				--gap: 15px;
				--bg-color: #000;
				--on-color: #0f0;
				--off-color: #111;
			}
			@media (max-width: 700px){
				:root{
					--digit-width: 25px;
					--digit-height: 50px;
					--seg-thickness: 4px;
					--gap: 8px;
				}
			}
			body{
				background-color: var(--bg-color);
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				height: 100vh;
				margin: 0;
				gap: 40px;
				overflow: hidden;
			}
			.container{
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 30px;
			}
			.row{
				display: flex;
				gap: var(--gap);
				align-items: center;
			}
			.digit{
				position: relative;
				width: var(--digit-width);
				height: var(--digit-height);
			}
			.segment{
				position: absolute;
				background-color: var(--off-color);
				transition: background-color 0.2s, box-shadow 0.2s;
				border-radius: 0;
			}
			.on{
				background-color: var(--on-color);
				box-shadow: 0 0 10px var(--on-color);
			}
			.segment.a, .segment.g, .segment.d{
				border-radius: 0;
				clip-path: polygon(4px 0%, calc(100% - 4px) 0%, 100% 50%, calc(100% - 4px) 100%, 4px 100%, 0% 50%);
			}
			.segment.b, .segment.c, .segment.e, .segment.f{
				border-radius: 0;
				clip-path: polygon(0% 4px, 50% 0%, 100% 4px, 100% calc(100% - 4px), 50% 100%, 0% calc(100% - 4px));
			}
			.segment.a{
				top: 0;
				left: var(--seg-thickness);
				right: var(--seg-thickness);
				height: var(--seg-thickness);
			}
			.segment.b{
				top: var(--seg-thickness);
				right: 0;
				width: var(--seg-thickness);
				height: calc(50% - var(--seg-thickness));
			}
			.segment.c{
				bottom: var(--seg-thickness);
				right: 0;
				width: var(--seg-thickness);
				height: calc(50% - var(--seg-thickness));
			}
			.segment.d{
				bottom: 0;
				left: var(--seg-thickness);
				right: var(--seg-thickness);
				height: var(--seg-thickness);
			}
			.segment.e{
				bottom: var(--seg-thickness);
				left: 0;
				width: var(--seg-thickness);
				height: calc(50% - var(--seg-thickness));
			}
			.segment.f{
				top: var(--seg-thickness);
				left: 0;
				width: var(--seg-thickness);
				height: calc(50% - var(--seg-thickness));
			}
			.segment.g{
				top: calc(50% - var(--seg-thickness)/2);
				left: var(--seg-thickness);
				right: var(--seg-thickness);
				height: var(--seg-thickness);
			}
			.colon{
				display: flex;
				flex-direction: column;
				justify-content: center;
				gap: calc(var(--digit-height)/4);
			}
			.dot{
				width: var(--seg-thickness);
				height: var(--seg-thickness);
				background-color: var(--on-color);
				border-radius: 50%;
				box-shadow: 0 0 10px var(--on-color);
			}
			.slash{
				width: var(--seg-thickness);
				height: var(--digit-height);
				background-color: var(--on-color);
				transform: rotate(20deg);
				box-shadow: 0 0 10px var(--on-color);
				border-radius: var(--seg-thickness);
				margin: 0 5px;
			}
		</style>
	</head>
	<body>
	<div class="container">
		<div class="row" id="clock-row"></div>
		<div class="row" id="date-row"></div>
	</div>
	<script>
		const SEGMENT_MAP = {
		"0": ["a", "b", "c", "d", "e", "f"],
		"1": ["b", "c"],
		"2": ["a", "b", "g", "e", "d"],
		"3": ["a", "b", "g", "c", "d"],
		"4": ["f", "g", "b", "c"],
		"5": ["a", "f", "g", "c", "d"],
		"6": ["a", "f", "g", "c", "d", "e"],
		"7": ["a", "b", "c"],
		"8": ["a", "b", "c", "d", "e", "f", "g"],
		"9": ["a", "b", "c", "d", "f", "g"]
		};

		function createDigit(){
			const digit = document.createElement('div');
			digit.classList.add('digit');
			['a','b','c','d','e','f','g'].forEach(seg => {
				const segDiv = document.createElement('div');
				segDiv.classList.add('segment', seg);
				digit.appendChild(segDiv);
			});
			return digit;
		}

		function createSeparator(type){
			const sep = document.createElement('div');
			if(type === 'colon'){
				sep.classList.add('colon');
				sep.innerHTML = \`<div class="dot"></div><div class="dot"></div>\`;
			}else{
				sep.classList.add('slash');
			}
			return sep;
		}

		const CLOCK_ROW = document.getElementById('clock-row');
		const DATE_ROW = document.getElementById('date-row');
		const CLOCK_DIGITS = [];
		const DATE_DIGITS = [];

		for(let i = 0; i < 6; i++){
			const d = createDigit();
			CLOCK_DIGITS.push(d);
			CLOCK_ROW.appendChild(d);
			if(i === 1 || i === 3){
				CLOCK_ROW.appendChild(createSeparator('colon'));
			}
		}

		for(let i = 0; i < 6; i++){
			const d = createDigit();
			DATE_DIGITS.push(d);
			DATE_ROW.appendChild(d);
			if(i === 1 || i === 3){
				DATE_ROW.appendChild(createSeparator('slash'));
			}
		}

		function updateDisplay(){
			const now = new Date();
			const h = String(now.getHours()).padStart(2, '0');
			const m = String(now.getMinutes()).padStart(2, '0');
			const s = String(now.getSeconds()).padStart(2, '0');
			renderDigits(h + m + s, CLOCK_DIGITS);
			const dd = String(now.getDate()).padStart(2, '0');
			const mm = String(now.getMonth() + 1).padStart(2, '0');
			const yy = String(now.getFullYear()).slice(-2);
			renderDigits(dd + mm + yy, DATE_DIGITS);
		}

		function renderDigits(str, digitElements){
			for(let i = 0; i < str.length; i++){
				const val = str[i];
				const segments = digitElements[i].querySelectorAll('.segment');
				segments.forEach(seg => {
					const segLetter = seg.classList[1];
					if(SEGMENT_MAP[val].includes(segLetter)){
						seg.classList.add('on');
					}else{
						seg.classList.remove('on');
					}
				});
			}
		}

		setInterval(updateDisplay, 200);
		updateDisplay();
	<\/script>
	</body>
</html>` },

	// --- Eight Queens ---
	'Games_Eight Queens.html': { name: `Eight Queens`, content: `<!DOCTYPE HTML>
<html lang="en"><!--G01#002 - Brigida - Eight Queens-->
	<head>
		<title>Eight Queens</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<style>
			body{
				margin: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				padding: 10px;
				font-family: sans-serif;
				background-color: #ffffcc;
				transition: background 0.4s ease;
				overflow-x: hidden;
			}
			#chessboard{
				display: block;
				box-shadow: 0 5px 15px rgba(0,0,0,0.3);
				border-radius: 4px;
				margin-bottom: 15px;
				background-color: #fff;
				max-width: 95vw;
				max-height: 95vw;
				touch-action: none;
			}
			form{
				background: rgba(255, 255, 255, 0.5);
				padding: 15px;
				border-radius: 10px;
				display: flex;
				flex-direction: column;
				align-items: center;
				gap: 10px;
				width: 95%;
				max-width: 500px;
				box-sizing: border-box;
			}
			.button-group{
				display: flex;
				gap: 5px;
				width: 100%;
				justify-content: center;
			}
			button{
				padding: 12px 5px;
				font-size: 13px;
				font-weight: bold;
				cursor: pointer;
				border: 1px solid #666;
				border-radius: 8px;
				background: #fff;
				flex: 1;
				min-width: 0;
				transition: all 0.2s;
			}
			button:active{
				transform: scale(0.98);
				background: #eee;
			}
			#btnShowSolutions{
				background-color: #fff;
				border-color: #d4a017;
				color: #856404;
				width: 100%;
			}
			#solutionsContainer{
				width: 100%;
				margin-top: 20px;
				display: flex;
				flex-direction: column;
				gap: 15px;
			}
			.solutions-block{
				background: white;
				border: 1px solid #ccc;
				border-radius: 8px;
				padding: 10px;
				box-shadow: 0 2px 5px rgba(0,0,0,0.05);
			}
			.solutions-grid{
				display: flex;
				flex-wrap: wrap;
				gap: 8px;
				justify-content: center;
				margin-top: 10px;
			}
			.mini-board{
				border: 1px solid #333;
				width: 64px;
				height: 64px;
				cursor: pointer;
			}
			h3{
				font-size: 1rem;
				margin: 5px 0;
				color: #444;
			}
		</style>
	</head>
	<body>
		<canvas id="chessboard"></canvas>
		<form onsubmit="return false;">
			<div class="button-group">
				<button type="button" id="semaphore" onclick="changeFlagValue()">Semaphore on</button>
				<button type="button" id="btnDifficulty" onclick="changeDifficulty()">Hard</button>
				<button type="button" id="refreshBtn" onclick="refresh()">Reset</button>
			</div>
			<div class="button-group">
				<button type="button" onclick="bigger()">Size (+)</button>
				<button type="button" onclick="smaller()">Size (-)</button>
				<button type="button" id="queensNumber" onclick="changeTheMaxNumberOfTheQueens()">Queens: 0/64</button>
			</div>
			<button type="button" id="btnShowSolutions" onclick="toggleSolutions()" style="display:none;">Show solutions</button>
		</form>
		<div id="solutionsContainer"></div>
		<script>
			let order = 8;
			const getScreenSize = () => Math.min(window.innerWidth*0.95, 600);
			let side = getScreenSize()/order;
			const COLOR_1 = "yellow";
			const COLOR_2 = "brown";
			const SELECTED = "red";
			const QUEEN_CENTER_COLOR = "#000000";
			const BACKGROUND_COLOR = "#ffffcc";
			const BACKGROUND_WIN_COLOR = "#00ff00";
			const RED_SEMAPHORE_COLOR = "red";
			const BACKGROUND_STUDY_COLOR = "#add8e6";
			let semaphoreFlag = true;
			let easy = false;
			let hasWon = false;
			let limited = false;
			let numberOfQueens = 0;
			let maxNumberOfTheQueens = 64;
			let grid = [];

			const solutions = [
				["04752613","06471352","25317460","31625740","46152037","52460317","71306425","73025164"],
				["05726314","06357142","24175360","36415027","41362750","53602417","71420635","72051463"],
				["13572064","27360514","31750246","36271405","41506372","46027531","50417263","64205713"],
				["14602753","25160374","30471625","35720641","42057136","47306152","52617403","63175024"],
				["14630752","25164073","25703641","37046152","40731625","52074136","52613704","63147025"],
				["15063724","20647135","24603175","35041726","42736051","53174602","57130642","62714053"],
				["15720364","26175304","31475026","37420615","40357162","46302751","51602473","62057413"],
				["16257403","17502463","30475261","36420571","41357206","47302516","60275314","61520374"],
				["16470352","25307461","31625704","37025164","40752613","46152073","52470316","61307425"],
				["24170635","35716024","42061753","53607142"],
				["24730615","25713064","26174035","31746025","46031752","51603742","52064713","53047162"],
				["25147063","25704613","31640752","36074152","41703625","46137025","52073164","52630714"]
			];

			window.onload = init;
			window.onresize = () => { side = getScreenSize()/order; drawAll(); };

			function init(){
				const canvas = document.getElementById("chessboard");
				canvas.addEventListener('mousedown', handleInput);
				canvas.addEventListener('touchstart', (e) => { e.preventDefault(); handleInput(e.touches[0]); });
				drawChessboard();
			}

			function drawChessboard(){
				grid = Array.from({length: order}, () => Array.from({length: order}, () => ({occupied: false, underAttack: false})));
				document.getElementById("btnShowSolutions").style.display = (order === 8) ? "block" : "none";
				refresh();
			}

			function handleInput(e){
				const rect = document.getElementById("chessboard").getBoundingClientRect();
				const x = e.clientX - rect.left;
				const y = e.clientY - rect.top;
				select(x, y);
			}

			function select(x, y){
				let r = Math.floor(x/side), c = Math.floor(y/side);
				if(r<0 || r>=order || c<0 || c>=order || hasWon){
					return;
				}
				if(numberOfQueens < maxNumberOfTheQueens || grid[r][c].occupied){
					numberOfQueens += grid[r][c].occupied ? -1 : 1;
					grid[r][c].occupied = !grid[r][c].occupied;
					updateAttack();
					drawAll();
					checkWin();
					setQueensLimitButtonLabel();
				}
			}

			function drawAll(){
				const canvas = document.getElementById("chessboard");
				canvas.width = canvas.height = side*order;
				for(let i = 0; i < order; i++){
					for(let j = 0; j < order; j++){
						drawCell(i,j);
					}
				}
			}

			function drawCell(row, col){
				let ctx = document.getElementById("chessboard").getContext("2d");
				ctx.fillStyle = (row + col)%2 === 0 ? COLOR_1 : COLOR_2;
				ctx.fillRect(row*side, col*side, side, side);
				if(grid[row][col].occupied){
					drawCircle(ctx, row*side + side/2, col*side + side/2, side/3, SELECTED);
					drawCircle(ctx, row*side + side/2, col*side + side/2, side/6, QUEEN_CENTER_COLOR);
				}else if(easy && grid[row][col].underAttack){
					drawCircle(ctx, row*side + side/2, col*side + side/2, side/8, QUEEN_CENTER_COLOR);
				}
			}

			function drawCircle(ctx, x, y, r, color){
				ctx.fillStyle = color;
				ctx.beginPath();
				ctx.arc(x, y, r, 0, Math.PI*2);
				ctx.fill();
			}

			function updateAttack(){
				for(let i = 0; i < order; i++){
					for(let j = 0; j < order; j++){
						grid[i][j].underAttack = false;
					}
				}
				for(let r = 0; r < order; r++){
					for(let c = 0; c < order; c++){
						if(grid[r][c].occupied){
							for(let i = 0; i < order; i++){
								for(let j = 0; j < order; j++){
									if((r !== i || c !== j) && (r === i || c === j || Math.abs(r-i) === Math.abs(c-j))){
										grid[i][j].underAttack = true;
									}
								}
							}
						}
					}
				}
			}

			function checkWin(){
				let safe = true;
				for(let i = 0; i < order; i++){
					for(let j = 0; j < order; j++){
						if(grid[i][j].occupied && grid[i][j].underAttack){
							safe = false;
						}
					}
				}
				document.body.style.background = (!safe && semaphoreFlag) ? RED_SEMAPHORE_COLOR : BACKGROUND_COLOR;
				if(safe && numberOfQueens === order){
					document.body.style.background = BACKGROUND_WIN_COLOR;
					hasWon = true; setTimeout(() => alert("You win!"), 100);
				}
			}

			function toggleSolutions(){
				const container = document.getElementById("solutionsContainer");
				if(container.innerHTML !== ""){
					container.innerHTML = "";
					document.getElementById("btnShowSolutions").textContent = "Show solutions";
					return;
				}
				solutions.forEach((fam, idx) => {
					let block = document.createElement("div");
					block.className = "solutions-block";
					let gridDiv = document.createElement("div");
					gridDiv.className = "solutions-grid";
					fam.forEach(sol => {
						let mini = document.createElement("canvas");
						mini.className = "mini-board"; mini.width = mini.height = 64;
						drawMini(mini, sol);
						mini.onclick = () => {
							loadSolution(sol);
							window.scrollTo({top: 0, behavior: 'smooth'});
						};
						gridDiv.appendChild(mini);
					});
					block.appendChild(gridDiv);
					container.appendChild(block);
				});
				container.scrollIntoView({behavior: "smooth"});
				document.getElementById("btnShowSolutions").textContent = "Hide solutions";
			}

			function drawMini(canvas, sol){
				let ctx = canvas.getContext("2d"), s = 8;
				for(let i = 0; i < 8; i++){
					for(let j = 0; j < 8; j++){
						ctx.fillStyle = (i + j)%2 === 0 ? "#eee" : "#999";
						ctx.fillRect(i*s, j*s, s, s);
					}
				}
				ctx.fillStyle = "red";
				for(let col = 0; col < 8; col++){
					ctx.beginPath();
					ctx.arc(col*s + 4, parseInt(sol[col])*s + 4, 2.5, 0, 7);
					ctx.fill();
				}
			}

			function loadSolution(sol){
				refresh();
				for(let col = 0; col < 8; col++){
					grid[col][parseInt(sol[col])].occupied = true;
				}
				numberOfQueens = 8;
				updateAttack();
				drawAll();
				setQueensLimitButtonLabel();
				document.body.style.background = "#add8e6"; 
				hasWon = false;
			}

			function refresh(){
				hasWon = false;
				numberOfQueens = 0;
				document.body.style.background = BACKGROUND_COLOR;
				maxNumberOfTheQueens = limited ? order : order*order;
				for(let i = 0; i < order; i++){
					for(let j = 0; j < order; j++){
						grid[i][j].occupied = false;
						grid[i][j].underAttack = false;
					}
				}
				drawAll();
				setQueensLimitButtonLabel();
			}

			function setQueensLimitButtonLabel(){
				document.getElementById("queensNumber").textContent = \`Queens: \${numberOfQueens}/\${maxNumberOfTheQueens}\`;
			}

			function changeDifficulty(){
				easy = !easy;
				document.getElementById("btnDifficulty").textContent = (easy ? "Easy" : "Hard");
				drawAll();
			}

			function changeFlagValue(){
				semaphoreFlag = !semaphoreFlag;
				document.getElementById("semaphore").textContent = (semaphoreFlag ? "Semaphore on" : "No semaphore");
				checkWin();
			}

			function changeTheMaxNumberOfTheQueens(){
				if(numberOfQueens <= order){
					limited = !limited;
					maxNumberOfTheQueens = limited ? order : order*order;
					setQueensLimitButtonLabel();
				}
			}

			function bigger(){
				document.getElementById("solutionsContainer").innerHTML = "";
				order++;
				if(limited){
					maxNumberOfTheQueens = order;
				}else{
					maxNumberOfTheQueens = order*order;
				}
				side = getScreenSize()/order;
				drawChessboard();
			}

			function smaller(){
				if(order > 1){
					document.getElementById("solutionsContainer").innerHTML = "";
					order--;
					if(limited){
						maxNumberOfTheQueens = order;
					}else{
						maxNumberOfTheQueens = order*order;
					}
					side = getScreenSize()/order;
					drawChessboard();
				}
			}
		<\/script>
	</body>
</html>` },

	// --- Game of Life ---
	'Games_Game of Life.html': { name: `Game of Life`, content: `<!DOCTYPE HTML>
<html lang="en"><!--G02#003 - Marco - Game of Life-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Conway's Game of Life</title>
		<style>
			body{
				background: #9999ff;
				text-align: center;
				font-family: sans-serif;
			}
			canvas{
				border: 2px solid #0000ff;
				cursor: crosshair;
				display: block;
				margin: 10px auto;
				background: #000;
			}
			button, select{
				padding: 8px 12px;
				font-weight: bold;
				cursor: pointer;
				margin: 5px;
				border-radius: 5px;
			}
			.controls{
				background: rgba(255,255,255,0.3);
				padding: 15px;
				display: inline-block;
				border-radius: 10px;
				border: 1px solid #777;
			}
			.speed-box{
				margin-top: 10px;
				font-weight: bold;
			}
			input[type=range]{
				vertical-align: middle;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<canvas id="universe">Aggiorna il browser</canvas>
		<div class="controls">
			<button type="button" onclick="refreshPage()">Reset</button>
			<button type="button" onclick="nextGeneration()">Next</button>
			<button type="button" id="life" onclick="live()">Start</button>
			<select id="patterns" onchange="loadPattern(this.value)">
				<option value="">-- Load schema --</option>
				<option value="glider">Glider</option>
				<option value="exploder">Small Exploder</option>
				<option value="row">10 Cell Row</option>
			</select>
			<div class="speed-box">
				Slow <input type="range" id="speedSlider" min="10" max="1000" value="200" step="10" oninput="updateSpeed(this.value)"> Fast
				<span id="speedVal">200</span> ms
			</div>
		</div>
		<script>
			const SIDE = 15;
			const GRID_THICKNESS = 1;
			const ROW_NUMBER = 50;
			const COLUMN_NUMBER = 40;
			const ALIVE_COLOR = "#00ff00";
			const DEAD_COLOR = "#000000";
			let grid = [];
			let dummyGrid = [];
			let goOnAlone = false;
			let nIntervId;
			let currentInterval = 200;
			let canvas, context;

			window.onload = function(){
				canvas = document.getElementById("universe");
				context = canvas.getContext("2d");
				canvas.addEventListener("mousedown", select);
				drawUniverse();
			};

			function updateSpeed(val){
				currentInterval = 1010 - val; 
				document.getElementById("speedVal").innerText = currentInterval;
				if(goOnAlone){
					clearInterval(nIntervId);
					nIntervId = setInterval(nextGeneration, currentInterval);
				}
			}

			function drawSquare(row, column, color){
				context.fillStyle = color;
				context.fillRect(
					(row*(SIDE + GRID_THICKNESS)) + GRID_THICKNESS,
					(column*(SIDE + GRID_THICKNESS)) + GRID_THICKNESS,
					SIDE, SIDE
				);
			}

			function drawUniverse(){
				canvas.width = (SIDE*ROW_NUMBER) + ((ROW_NUMBER + 1)*GRID_THICKNESS);
				canvas.height = (SIDE*COLUMN_NUMBER) + ((COLUMN_NUMBER + 1)*GRID_THICKNESS);
				context.fillStyle = "#333";
				context.fillRect(0, 0, canvas.width, canvas.height);
				for(let i = 0; i < ROW_NUMBER; i++){
					grid[i] = [];
					dummyGrid[i] = [];
					for(let j = 0; j < COLUMN_NUMBER; j++){
						grid[i][j] = false;
						dummyGrid[i][j] = false;
						drawSquare(i, j, DEAD_COLOR);
					}
				}
			}

			function loadPattern(type){
				if(!type){
					return;
				}
				refreshPage();
				const midX = Math.floor(ROW_NUMBER/2);
				const midY = Math.floor(COLUMN_NUMBER/2);
				let coords = [];
				if(type === "glider"){
					coords = [[0,1], [1,2], [2,0], [2,1], [2,2]];
				}else if(type === "exploder"){
					coords = [[0,0], [0,1], [0,2], [-1,1], [1,1], [0,3], [0,4]];
				}else if(type === "row"){
					coords = [[-4,0], [-3,0], [-2,0], [-1,0], [0,0], [1,0], [2,0], [3,0], [4,0], [5,0]];
				}
				coords.forEach(([dx, dy]) => {
					let x = midX + dx; let y = midY + dy;
					if(x >= 0 && x < ROW_NUMBER && y >= 0 && y < COLUMN_NUMBER){
						grid[x][y] = true;
						drawSquare(x, y, ALIVE_COLOR);
					}
				});
				document.getElementById("patterns").value = ""; 
			}

			function select(e){
				const rect = canvas.getBoundingClientRect();
				const x = e.clientX - rect.left;
				const y = e.clientY - rect.top;
				let row = Math.floor(x/(SIDE + GRID_THICKNESS));
				let col = Math.floor(y/(SIDE + GRID_THICKNESS));
				if(row >= 0 && row < ROW_NUMBER && col >= 0 && col < COLUMN_NUMBER){
					grid[row][col] = !grid[row][col];
					drawSquare(row, col, grid[row][col] ? ALIVE_COLOR : DEAD_COLOR);
				}
			}

			function nextGeneration(){
				for(let i = 0; i < ROW_NUMBER; i++){
					for(let j = 0; j < COLUMN_NUMBER; j++){
						let neighbors = countNeighbors(i, j);
						if(grid[i][j]){
							dummyGrid[i][j] = (neighbors === 2 || neighbors === 3);
						}else{
							dummyGrid[i][j] = (neighbors === 3);
						}
					}
				}
				for(let i = 0; i < ROW_NUMBER; i++){
					for(let j = 0; j < COLUMN_NUMBER; j++){
						grid[i][j] = dummyGrid[i][j];
						drawSquare(i, j, grid[i][j] ? ALIVE_COLOR : DEAD_COLOR);
					}
				}
			}

			function countNeighbors(x, y){
				let count = 0;
				for(let i = -1; i <= 1; i++){
					for(let j = -1; j <= 1; j++){
						if(i === 0 && j === 0){
							continue;
						}
						let r = x + i, c = y + j;
						if(r >= 0 && r < ROW_NUMBER && c >= 0 && c < COLUMN_NUMBER && grid[r][c]){
							count++;
						}
					}
				}
				return count;
			}

			function live(){
				const btn = document.getElementById("life");
				if(!goOnAlone){
					goOnAlone = true;
					nIntervId = setInterval(nextGeneration, currentInterval);
					btn.innerHTML = "Stop";
					btn.style.backgroundColor = "#ff4444";
				}else{
					goOnAlone = false;
					clearInterval(nIntervId);
					btn.innerHTML = "Start";
					btn.style.backgroundColor = "";
				}
			}

			function refreshPage(){
				if(goOnAlone){
					live();
				}
				drawUniverse();
			}
		<\/script>
	</body>
</html>` },

	// --- Tower of Hanoi ---
	'Games_Tower of Hanoi.html': { name: `Tower of Hanoi`, content: `<!DOCTYPE HTML>
<html lang="en"><!--G03#007 - Luca - Tower of Hanoi-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Tower of Hanoi</title>
		<style>
			:root{
				--accent-color: #4a90e2;
				--button-hover: #357abd;
				--panel-bg: rgba(255, 255, 255, 0.85);
			}
			body{
				font-family: 'Segoe UI', Tahoma, sans-serif;
				background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
				background-attachment: fixed;
				text-align: center;
				display: flex;
				flex-direction: column;
				align-items: center;
				margin: 0;
				padding: 20px;
				min-height: 100vh;
				user-select: none;
				-webkit-user-select: none;
				touch-action: manipulation;
			}
			.top-bar{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 15px;
			}
			.stats{
				background: var(--panel-bg);
				padding: 10px 25px;
				border-radius: 50px;
				font-weight: bold;
				font-size: 1.2em;
				box-shadow: 0 4px 10px rgba(0,0,0,0.1);
				color: #333;
				display: flex;
				align-items: center;
			}
			.stats span{
				margin-left: 8px;
			}
			canvas{
				background: rgba(255, 255, 255, 0.2);
				cursor: pointer;
				display: block;
				margin: 10px auto;
				max-width: 100%;
				height: auto;
				border-radius: 15px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
				border: 2px solid rgba(255, 255, 255, 0.4);
				touch-action: none;
				-webkit-tap-highlight-color: transparent;
			}
			.controls{
				background: var(--panel-bg);
				padding: 15px 25px;
				border-radius: 12px;
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				gap: 15px;
				box-shadow: 0 4px 15px rgba(0,0,0,0.05);
			}
			select, button{
				padding: 10px 20px;
				font-size: 14px;
				border-radius: 8px;
				border: none;
				cursor: pointer;
				transition: all 0.2s ease;
				outline: none;
			}
			select{
				background: var(--panel-bg);
				border: 1px solid rgba(255,255,255,0.5);
				box-shadow: 0 4px 10px rgba(0,0,0,0.1);
				font-weight: bold;
				height: 44px;
			}
			button{
				background-color: var(--accent-color);
				color: white;
				font-weight: bold;
				text-transform: uppercase;
			}
			button:hover{
				background-color: var(--button-hover);
				transform: translateY(-2px);
			}
			@media screen and (max-width: 600px){
				.controls{
					width: 90%;
				}
			}
		</style>
	</head>
	<body>
		<div class="top-bar">
			<select id="disksNumber" onchange="changeDiskCount()"></select>
			<div class="stats">Moves: <span id="moveCounter">0</span></div>
		</div>
		<canvas id="universe"></canvas>
		<div class="controls">
			<button type="button" onclick="resetGame()">Restart</button>
			<button type="button" onclick="animatedSolving()">How To (Demo)</button>
		</div>
		<script>
			const AUDIO_CTX = new (window.AudioContext || window.webkitAudioContext)();

			function playTone(freq, type, duration){
				if(AUDIO_CTX.state === 'suspended'){
					AUDIO_CTX.resume();
				}
				const osc = AUDIO_CTX.createOscillator();
				const gain = AUDIO_CTX.createGain();
				osc.type = type;
				osc.frequency.setValueAtTime(freq, AUDIO_CTX.currentTime);
				gain.gain.setValueAtTime(0.1, AUDIO_CTX.currentTime);
				gain.gain.exponentialRampToValueAtTime(0.0001, AUDIO_CTX.currentTime + duration);
				osc.connect(gain);
				gain.connect(AUDIO_CTX.destination);
				osc.start();
				osc.stop(AUDIO_CTX.currentTime + duration);
			}

			const DESKTOP = !(/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);
			const UNIT = DESKTOP ? 9 : 7;
			const H_SPACE = 8*UNIT, V_SPACE = 6*UNIT;
			const WIDTH = 36*UNIT; 
			const PAGE_WIDTH = 3.5*UNIT; 
			const BASE_HEIGHT = 2.5*UNIT;
			const DISK_INCREASE = 3*UNIT; 
			const DISK_BASE_LENGTH = 12*UNIT; 
			const DISK_HEIGHT = (DESKTOP ? 5 : 8)*UNIT; 
			const UPPER_MARGIN = 4*UNIT, UPPER_PAGE_MARGIN = 2*UNIT, LOWER_MARGIN = 2*UNIT;
			const TOTAL_WIDTH = (3*WIDTH) + (4*H_SPACE);
			const BROWN = "#8D6E63", ORANGE = "#FFCA28";
			const COLORS = ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF", "#00FFFF", "#FF8000", "#8000FF", "#008000", "#333333"];
			let numberOfDisks = 4;
			let moves = 0;
			let universe, context, nIntervId = null;
			let towers = [[], [], []], selectedTower = [false, false, false];
			let activeTower = -1, wan = false, demo = false, steps = "", step = 0;
			let cursorX = 0;
			let totalHeight, pegHeight;

			window.onload = initGame;

			function initGame(){
				universe = document.getElementById("universe");
				context = universe.getContext("2d");
				const handleInteraction = (e) => {
					const rect = universe.getBoundingClientRect();
					const clientX = e.touches ? e.touches[0].clientX : e.clientX;
					const scaleX = universe.width/rect.width;
					cursorX = (clientX - rect.left)*scaleX;
					selectTowerClick();
					if(e.touches){
						e.preventDefault();
					}
				};
				universe.addEventListener('mousedown', handleInteraction);
				universe.addEventListener('touchstart', handleInteraction, {passive: false});
				resetGame();
			}

			function resetGame(){
				document.body.style.background = "linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)";
				if(nIntervId){
					clearInterval(nIntervId);
					nIntervId = null;
				}
				moves = 0;
				updateMoveDisplay();
				pegHeight = numberOfDisks*DISK_HEIGHT + UPPER_PAGE_MARGIN;
				totalHeight = V_SPACE + UPPER_MARGIN + pegHeight + BASE_HEIGHT + LOWER_MARGIN;
				universe.width = TOTAL_WIDTH;
				universe.height = totalHeight;
				wan = false;
				demo = false;
				activeTower = -1;
				towers = [[], [], []];
				selectedTower = [false, false, false];
				for(let i = 0; i < numberOfDisks; i++){
					towers[0][i] = numberOfDisks - i - 1;
					towers[1][i] = -1;
					towers[2][i] = -1;
				}
				const select = document.getElementById("disksNumber");
				if(select.innerHTML === ""){
					for(let i = 1; i <= 10; i++){
						let opt = document.createElement("option");
						opt.value = i; opt.text = "Level " + i;
						if(i === numberOfDisks){
							opt.selected = true;
						}
						select.add(opt);
					}
				}
				steps = calculateSteps(numberOfDisks);
				step = 0;
				drawAll();
			}

			function updateMoveDisplay(){
				document.getElementById("moveCounter").innerText = moves;
			}

			function drawAll(){
				context.clearRect(0, 0, universe.width, universe.height);
				for(let i = 0; i < 3; i++){
					drawTower(i);
				}
			}

			function drawTower(idx){
				let x0 = H_SPACE + idx*(WIDTH + H_SPACE); 
				context.fillStyle = selectedTower[idx] ? ORANGE : "rgba(0,0,0,0.06)";
				context.fillRect(x0, V_SPACE, WIDTH, totalHeight - V_SPACE);
				context.fillStyle = BROWN;
				context.fillRect(x0 + (WIDTH - PAGE_WIDTH)/2, V_SPACE + UPPER_MARGIN, PAGE_WIDTH, pegHeight);
				context.fillRect(x0 + 3*UNIT, V_SPACE + UPPER_MARGIN + pegHeight, WIDTH - 6*UNIT, BASE_HEIGHT);
				for(let i = 0; i < numberOfDisks; i++){
					let diskValue = towers[idx][i];
					if(diskValue >= 0){
						drawDisk(idx, numberOfDisks - i - 1, diskValue);
					}
				}
			}

			function drawDisk(tIdx, level, dSize){
				let w = DISK_BASE_LENGTH + dSize*DISK_INCREASE;
				let x0 = H_SPACE + tIdx*(WIDTH + H_SPACE); 
				let x = x0 + (WIDTH - w)/2; 
				let y = V_SPACE + level*DISK_HEIGHT + UPPER_MARGIN + UPPER_PAGE_MARGIN;
				let h = DISK_HEIGHT - 2;
				context.fillStyle = COLORS[dSize];
				context.strokeStyle = "#000000";
				context.lineWidth = 1.5;
				context.beginPath();
				if(context.roundRect){
					context.roundRect(x, y, w, h, h/2);
				}else{
					context.rect(x, y, w, h);
				}
				context.fill();
				context.stroke();
			}

			function selectTowerClick(){
				if(wan){
					return;
				}
				let towerIdx = -1;
				for(let i = 0; i < 3; i++){
					let xStart = H_SPACE + i*(WIDTH + H_SPACE); 
					if(cursorX >= xStart && cursorX <= xStart + WIDTH){
						towerIdx = i;
						break;
					}
				}
				if(towerIdx === -1){
					return;
				}
				if(activeTower === -1){
					if(getLastDiskIndex(towerIdx) !== -1){
						activeTower = towerIdx;
						selectedTower[towerIdx] = true;
						playTone(440, 'sine', 0.1);
					}
				}else{
					if(activeTower === towerIdx){
						selectedTower[towerIdx] = false;
						activeTower = -1;
					}else{
						if(moveDisk(activeTower, towerIdx)){
							moves++;
							updateMoveDisplay();
							playTone(600, 'sine', 0.1);
						}else{
							playTone(150, 'triangle', 0.2);
						}
						selectedTower[activeTower] = false;
						activeTower = -1;
					}
				}
				drawAll();
				checkWin();
			}

			function moveDisk(from, to){
				let fromIdx = getLastDiskIndex(from);
				let toIdx = getLastDiskIndex(to);
				let diskToMove = towers[from][fromIdx];
				if(toIdx === -1 || diskToMove < towers[to][toIdx]){
					towers[from][fromIdx] = -1;
					towers[to][toIdx + 1] = diskToMove;
					return true;
				}
				return false;
			}

			function getLastDiskIndex(t){
				let idx = numberOfDisks - 1;
				while(idx >= 0 && towers[t][idx] === -1){
					idx--;
				}
				return idx;
			}

			function checkWin(){
				if(towers[1][numberOfDisks - 1] !== -1 || towers[2][numberOfDisks - 1] !== -1){
					wan = true;
					document.body.style.background = "linear-gradient(135deg, #11998e, #38ef7d)";
					playTone(800, 'sine', 0.4);
					if(!demo){
						setTimeout(() => alert("Wonderful! :-D You win in " + moves + " move" + (moves > 1 ? "s" : "") + "! :-D"), 200);
					}
				}
			}

			function changeDiskCount(){
				numberOfDisks = parseInt(document.getElementById("disksNumber").value);
				resetGame();
			}

			function calculateSteps(n){
				let movesList = [];
				function hanoi(num, from, to, aux){
					if(num === 1){
						movesList.push({f: from, t: to});
						return;
					}
					hanoi(num - 1, from, aux, to);
					movesList.push({f: from, t: to});
					hanoi(num - 1, aux, to, from);
				}
				hanoi(n, 0, 2, 1);
				return movesList;
			}

			function animatedSolving(){
				resetGame();
				demo = true;
				nIntervId = setInterval(() => {
					if(step < steps.length){
						let m = steps[step];
						moveDisk(m.f, m.t);
						moves++;
						updateMoveDisplay();
						drawAll();
						checkWin();
						step++;
						playTone(500, 'sine', 0.05);
					}else{
						clearInterval(nIntervId);
					}
				}, 500);
			}
		<\/script>
	</body>
</html>` },

	// --- Connect Four ---
	'Games_Connect Four.html': { name: `Connect Four`, content: `<!DOCTYPE HTML>
<html lang="en"><!--G04#012 - Carmela - Connect Four-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title id="title">Connect Four</title>
		<style>
			body{
				text-align: center;
				font-family: sans-serif;
				transition: background 0.5s;
				padding: 10px;
				-webkit-tap-highlight-color: transparent;
			}
			canvas{
				cursor: pointer;
				margin-top: 10px;
				border-radius: 8px;
				box-shadow: 0 4px 15px rgba(0,0,0,0.3);
				max-width: 100%;
				height: auto;
			}
			button, select{
				margin: 5px;
				padding: 10px 15px;
				cursor: pointer;
				font-weight: bold;
				border-radius: 5px;
				border: 1px solid #999;
				background: #eee;
			}
			button:hover, select:hover{
				background-color: #ddd;
			}
			.controls{
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				align-items: center;
				max-width: 800px;
				margin: 10px auto;
			}
			.controls button{
				flex: 0 1 140px;
				margin: 5px;
				height: 45px;
			}
			#starter{
				flex-basis: 100%; 
				margin-top: 15px;
				display: inline-block;
			}
			@media (max-width: 600px){
				.controls button {
					flex: 0 1 45%;
				}
			}
		</style>
	</head>
	<body>
		<canvas id="board">Upgrade Browser</canvas>
		<div class="controls">
			<button type="button" id="undoButton" onclick="undoLastMove()">Undo</button>
			<button type="button" id="difficultyButton" onclick="cycleDifficulty()">Medium</button>
			<button type="button" id="restartButton" onclick="refresh()">Start again!</button>
			<button type="button" id="changeLanguageButton" onclick="cycleLanguage()">Language</button>
			<div id="starter">
				<label id="starterText">Starter: </label>
				<input type="radio" id="Yellow" name="beginner" checked onclick="setStarter(true)">
				<label id="YellowLabel" for="Yellow">Yellow</label>
				<input type="radio" id="Red" name="beginner" onclick="setStarter(false)">
				<label id="RedLabel" for="Red">Red</label>
			</div>
		</div>
		<script>
			const DESKTOP = !(/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);
			const UNIT = DESKTOP ? 10 : 5;
			const RADIUS = 4*UNIT;
			const DIAMETER = 2*RADIUS;
			const GRID_THICKNESS = UNIT;
			const ROW_NUMBER = 6;
			const COLUMN_NUMBER = 7;
			const DEPTH = 5;
			const BLUE_COLOR = "#0033FF";
			const YELLOW_COLOR = "#FFFF33";
			const RED_COLOR = "#FF0033";
			const LIGHT_ORANGE_COLOR = "#FFCC33";
			const WHITE = "#FFFFFF";
			const TITLES = ["Connect four", "Forza 4", "Connecter Quatre", "Conecta 4", "Vier Gewinnt", "Conecta 4", "Conecta patru", "–ß–æ—Ç–∏—Ä–∏ –≤ —Ä—è–¥", "Œ£œÖŒΩŒ¥Œ≠œÉœÑŒµ œÑŒ≠œÉœÉŒµœÅŒ±", "Conecta quattuor", "ÂõõÂ≠êËøûÁè†", "ÂõõÁõÆ‰∏¶„Åπ"];
			const RESTART_LABELS = ["Start again!", "Ricomincia", "Recommencer", "¬°Reiniciar!", "Erneut starten!", "Recome√ßar", "√éncepe din nou", "–ü–æ—á–∞—Ç–∏ –∑–∞–Ω–æ–≤–æ", "ŒûŒµŒ∫ŒπŒΩŒÆœÉœÑŒµ ŒæŒ±ŒΩŒ¨", "Iterum incipere", "ÈáçÊñ∞ÂºÄÂßã", "ÂÜç„Çπ„Çø„Éº„Éà"];
			const LANGUAGES_LABELS = ["English", "Italiano", "Fran√ßaise", "Espa√±ol", "Deutsch", "Portugu√™s", "Rom√¢nƒÉ", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞", "ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨", "Latine", "‰∏≠Êñá", "Êó•Êú¨Ë™û"];
			const UNDO_LABELS = ["Undo", "Annulla", "Annuler", "Anula", "Abbrechen", "Desfazer", "AnuleazƒÉ", "–°–∫–∞—Å—É–≤–∞—Ç–∏", "ŒëŒΩŒ±ŒØœÅŒµœÉŒ∑", "Annula", "Êí§ÈîÄ", "ÂÖÉ„Å´Êàª„Åô"];
			const BEGINNING_LABELS = ["Starter: ", "Inizia: ", "Commencer: ", "Comenzar: ", "Anfang: ", "Come√ßar: ", "√éncepe :", "–ü–æ—á–∞—Ç–∏: ", "ŒëœÅœáŒÆ: ", "Incipit: ", "ÂºÄÂßã: ", "ÈñãÂßã: "];
			const YELLOW_LABEL = ["Yellow", "Giallo", "Jaune", "Amarillo", "Gelb", "Amarelo", "Galben", "–ñ–æ–≤—Ç–∏–π", "ŒöŒØœÑœÅŒπŒΩŒø", "Flavus", "ÈªÑËâ≤", "ÈªÑËâ≤"];
			const RED_LABEL = ["Red", "Rosso", "Rouge", "Rojo", "Rot", "Vermelho", "Ro»ôu", "–ß–µ—Ä–≤–æ–Ω–∏–π", "Œöœå–∫Œ∫ŒπŒΩŒø", "Ruber", "Á∫¢Ëâ≤", "Ëµ§"];
			const WINNING_MESSAGE = ["The winner is: ", "Vince: ", "Le gagnant est: ", "El ganador es: ", "Der Gewinner ist: ", "O vencedor √®: ", "C√¢»ôtigƒÉtorul este: ", "–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å: ", "Œü ŒΩŒπŒ∫Œ∑œÑŒÆœÇ √®: ", "Victor est: ", "Ëé∑ËÉúËÄÖÊòØ: ", "ÂãùËÄÖ„ÅØ: "];
			const EASY_LABELS = ["Easy", "Facile", "Facile", "F√°cil", "Einfach", "F√°cil", "U»ôor", "–õ–µ–≥–∫–æ", "ŒïœçŒ∫ŒøŒªŒø", "Facilis", "ÁÆÄÂçï", "Á∞°Âçò"];
			const MEDIUM_LABELS = ["Medium", "Medio", "Moyen", "Medio", "Mittel", "M√©dio", "Mediu", "–°–µ—Ä–µ–¥–Ω—ñ–π", "ŒúŒ≠œÑœÅŒπŒø", "Medium", "‰∏≠Á≠â", "‰∏≠Á¥ö"];
			const HARD_LABELS = ["Hard", "Difficile", "Difficile", "Dif√≠cil", "Schwer", "Dif√≠cil", "Greu", "–í–∞–∂–∫–æ", "ŒîœçœÉŒ∫ŒøŒªŒø", "Difficilis", "Âõ∞Èöæ", "‰∏äÁ¥ö"];
			//const HINT_LABELS = ["Hint", "Suggerimento", "Conseil", "Sugerencia", "Hinweis", "Sugest√£o", "Sugestie", "–ü—ñ–¥–∫–∞–∑–∫–∞", "Œ•œÄœåŒ¥ŒµŒπŒæŒ∑", "Consilium", "ÊèêÁ§∫", "„Éí„É≥„Éà"];
			let difficultyIndex = 1;
			let grid = [];
			let moves = [];
			let moveYellow = true;
			let numberOfMoves = 0;
			let languageIndex = 0;¬†
			let goOn = true;
			let canvas, ctx, blinkInterval;
			let winningCells = [];
			let humanIsYellow = true;

			window.onload = function(){
				canvas = document.getElementById("board");
				ctx = canvas.getContext("2d");
				canvas.addEventListener("click", select);
				updateLabels();¬†
				drawUniverse();
			};

			function playClackSound(){
				try{
					const audioCtx = new(window.AudioContext || window.webkitAudioContext)();
					const oscillator = audioCtx.createOscillator();
					const gainNode = audioCtx.createGain();
					oscillator.type = 'triangle';
					oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
					oscillator.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.1);
					gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
					gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
					oscillator.connect(gainNode);
					gainNode.connect(audioCtx.destination);
					oscillator.start();
					oscillator.stop(audioCtx.currentTime + 0.1);
				}catch(e){}
			}

			function setStarter(isYellow){
				if(numberOfMoves === 0){
					moveYellow = isYellow;
					humanIsYellow = isYellow;
				}
			}

			function drawCircle(row, column, color){
				ctx.fillStyle = color;
				ctx.beginPath();
				ctx.arc((column + 1)*GRID_THICKNESS + column*DIAMETER + RADIUS, (row + 1)*GRID_THICKNESS + row*DIAMETER + RADIUS, RADIUS, 0, 2*Math.PI);
				ctx.fill();
			}

			function drawUniverse(){
				clearInterval(blinkInterval);
				document.body.style.background = LIGHT_ORANGE_COLOR;
				grid = Array.from({length: ROW_NUMBER },() => Array(COLUMN_NUMBER).fill(-1));
				moves = [];
				winningCells = [];
				numberOfMoves = 0;
				goOn = true;
				moveYellow = document.getElementById("Yellow").checked;
				humanIsYellow = moveYellow; 
				canvas.width = COLUMN_NUMBER*DIAMETER + GRID_THICKNESS*(COLUMN_NUMBER + 1);
				canvas.height = ROW_NUMBER*DIAMETER + GRID_THICKNESS*(ROW_NUMBER + 1);
				ctx.fillStyle = BLUE_COLOR;
				ctx.fillRect(0, 0, canvas.width, canvas.height);
				for(let r = 0; r < ROW_NUMBER; r++){
					for(let c = 0; c < COLUMN_NUMBER; c++){
						drawCircle(r, c, WHITE);
					}
				}
				document.getElementById('starter').style.visibility = "visible";
				if(numberOfMoves === 0 && moveYellow !== humanIsYellow){
					setTimeout(computerMove, 600);
				}
			}

			function computerMove(){
				if(!goOn){
					return;
				}
				const difficulty = difficultyIndex.toString();
				let chosenColumn = -1;
				if(difficulty === "0"){
					let validCols = [];
					for(let c = 0; c < COLUMN_NUMBER; c++){
						if(grid[0][c] === -1){
							validCols.push(c);
						}
					}
					chosenColumn = validCols[Math.floor(Math.random()*validCols.length)];
				}else if(difficulty === "1"){
					let bestScore = -Infinity;
					for(let c = 0; c < COLUMN_NUMBER; c++){
						let r = getAvailableRow(c);
						if(r !== -1){
							grid[r][c] = 1;
							let score = evaluateMoveMedium(r, c);
							grid[r][c] = -1;
							if(score > bestScore){
								bestScore = score;
								chosenColumn = c;
							}
						}
					}
				}else{
					let bestScore = -Infinity;
					for(let c = 0; c < COLUMN_NUMBER; c++){
						let r = getAvailableRow(c);
						if(r !== -1){
							grid[r][c] = 1;
							let score = minimax(grid, DEPTH, false, -Infinity, Infinity);
							grid[r][c] = -1;
							if(score > bestScore){
								bestScore = score;
								chosenColumn = c;
							}
						}
					}
				}
				if(chosenColumn !== -1){
					const rect = canvas.getBoundingClientRect();
					const fakeEvent = { clientX: rect.left + (chosenColumn*(DIAMETER + GRID_THICKNESS)) + RADIUS + GRID_THICKNESS };
					select(fakeEvent);
				}
			}

			function evaluateMoveMedium(row, col){
				let score = 0;
				if(check(row, col)){
					return 10000;
				}
				grid[row][col] = 0; 
				if(check(row, col)){
					grid[row][col] = 1;
					return 5000;
				}
				grid[row][col] = 1;
				score += (3 - Math.abs(col - 3))*10;
				return score;
			}

			function minimax(board, depth, isMaximizing, alpha, beta){
				let result = checkBoardHard();
				if(result === 1){
					return 10000 + depth;
				}
				if(result === 0){
					return -10000 - depth;
				}
				if(depth === 0 || moves.length === ROW_NUMBER*COLUMN_NUMBER){
					return evaluateBoardHard();
				}
				if(isMaximizing){
					let maxEval = -Infinity;
					for(let c = 0; c < COLUMN_NUMBER; c++){
						let r = getAvailableRow(c);
						if(r !== -1){
							board[r][c] = 1;
							let ev = minimax(board, depth - 1, false, alpha, beta);
							board[r][c] = -1;
							maxEval = Math.max(maxEval, ev);
							alpha = Math.max(alpha, ev);
							if(beta <= alpha){
								break;
							}
						}
					}
					return maxEval;
				}else{
					let minEval = Infinity;
					for(let c = 0; c < COLUMN_NUMBER; c++){
						let r = getAvailableRow(c);
						if(r !== -1){
							board[r][c] = 0;
							let ev = minimax(board, depth - 1, true, alpha, beta);
							board[r][c] = -1;
							minEval = Math.min(minEval, ev);
							beta = Math.min(beta, ev);
							if(beta <= alpha){
								break;
							}
						}
					}
					return minEval;
				}
			}

			function evaluateBoardHard(){
				let score = 0;
				for(let r = 0; r < ROW_NUMBER; r++){
					if(grid[r][3] === 1){
						score += 3;
					}
					if(grid[r][3] === 0){
						score -= 3;
					}
				}
				return score;
			}

			function checkBoardHard(){
				for(let r = 0; r < ROW_NUMBER; r++){
					for(let c = 0; c < COLUMN_NUMBER; c++){
						if(grid[r][c] !== -1 && check(r, c)){
							return grid[r][c];
						}
					}
				}
				return -1;
			}

			function getAvailableRow(col){
				for(let r = ROW_NUMBER - 1; r >= 0; r--){
					if(grid[r][col] === -1){
						return r;
					}
				}
				return -1;
			}

			function select(e){
				if(!goOn){
					return;
				}
				const rect = canvas.getBoundingClientRect();
				const scaleX = canvas.width/rect.width; 
				const x = (e.clientX - rect.left)*scaleX;
				const column = Math.floor(x/(DIAMETER + GRID_THICKNESS));
				if(column < 0 || column >= COLUMN_NUMBER){
					return;
				}
				let row = getAvailableRow(column);
				if(row >= 0){
					grid[row][column] = moveYellow ? 0 : 1;
					drawCircle(row, column, moveYellow ? YELLOW_COLOR : RED_COLOR);
					playClackSound();
					moves.push({r: row, c: column });
					numberOfMoves++;
					document.getElementById('starter').style.visibility = "hidden";
					let win = check(row, column);
					if(win){
						goOn = false;
						winningCells = win;
						startBlinking(moveYellow ? YELLOW_COLOR : RED_COLOR);
						const winner = moveYellow ? YELLOW_LABEL[languageIndex] : RED_LABEL[languageIndex];
						document.body.style.background = moveYellow ? "#FFFFCC" : "#FFCCCC";
						setTimeout(() => alert(WINNING_MESSAGE[languageIndex] + winner + "!"), 100);
					}
					if(goOn){
						moveYellow = !moveYellow;
						if(moveYellow !== humanIsYellow){
							canvas.style.pointerEvents = "none";
							setTimeout(() => {
								computerMove();
								canvas.style.pointerEvents = "auto";
							}, 600);
						}
					}
				}
			}

			function check(row, col){
				const current = grid[row][col];
				const directions = [[[0,1],[0,-1]], [[1,0],[-1,0]], [[1,1],[-1,-1]], [[1,-1],[-1,1]]];
				for(let d of directions){
					let cells = [{r: row, c: col}];
					for(let [dr, dc] of d){
						let r = row + dr, c = col + dc;
						while(r >= 0 && r < ROW_NUMBER && c >= 0 && c < COLUMN_NUMBER && grid[r][c] === current){
							cells.push({r: r, c: c});
							r += dr; c += dc;
						}
					}
					if(cells.length >= 4){
						return cells;
					}
				}
				return null;
			}

			function startBlinking(color){
				let isOn = true;
				blinkInterval = setInterval(() => {
					winningCells.forEach(cell => drawCircle(cell.r, cell.c, isOn ? WHITE : color));
					isOn = !isOn;
				}, 400);
			}

			function cycleLanguage(){
				languageIndex = (languageIndex + 1)%TITLES.length;
				updateLabels();
			}

			function cycleDifficulty(){
				difficultyIndex = (difficultyIndex + 1)%3;
				updateLabels();
			}

			function updateLabels(){
				document.getElementById("title").textContent = TITLES[languageIndex];
				document.title = TITLES[languageIndex];
				document.getElementById("restartButton").textContent = RESTART_LABELS[languageIndex];
				document.getElementById("changeLanguageButton").textContent = LANGUAGES_LABELS[languageIndex];
				document.getElementById("undoButton").textContent = UNDO_LABELS[languageIndex];
				document.getElementById("starterText").textContent = BEGINNING_LABELS[languageIndex];
				document.getElementById("YellowLabel").textContent = YELLOW_LABEL[languageIndex];
				document.getElementById("RedLabel").textContent = RED_LABEL[languageIndex];
				const diffTexts = [EASY_LABELS, MEDIUM_LABELS, HARD_LABELS];
				document.getElementById("difficultyButton").textContent = diffTexts[difficultyIndex][languageIndex];
			}

			function undoLastMove(){
				for(let i = 0; i < 2; i++){
					if(moves.length > 0){
						let last = moves.pop();
						grid[last.r][last.c] = -1;
						drawCircle(last.r, last.c, WHITE);
						numberOfMoves--;
						moveYellow = !moveYellow;
						goOn = true;
					}
				}
				if(numberOfMoves === 0){
					document.getElementById('starter').style.visibility = "visible";
				}
			}

			function refresh(){
				drawUniverse();
			}
		<\/script>
	</body>
</html>` },

	// --- Modular Matching ---
	'Games_Modular Matching.html': { name: `Modular Matching`, content: `<!DOCTYPE html>
<html lang="en"><!--G05#013 - Federico - Modular Matching-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Modular Matching Game</title>
		<style>
			:root{
				--bg-cell: #f0f0f0;
				--match-color: #8bc34a;
				--reveal-color: #ff9800;
				--error-color: #f44336;
				--color-double: #81d4fa;
				--color-opposite: #fff176;
				--color-both: #4db6ac;
			}
			body{
				font-family: 'Segoe UI', sans-serif;
				margin: 0;
				background-color: #fafafa;
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			.header{
				position: sticky;
				top: 0;
				width: 100%;
				background: white;
				padding: 15px 0;
				text-align: center;
				box-shadow: 0 2px 10px rgba(0,0,0,0.1);
				z-index: 100;
			}
			.controls{
				margin-top: 10px;
				display: flex;
				gap: 10px;
				justify-content: center;
				flex-wrap: wrap;
			}
			.p-input-group{
				margin-right: 5px;
				display: flex;
				gap: 5px;
				align-items: center;
			}
			input[type="number"]{
				width: 60px;
				padding: 5px;
				border-radius: 4px;
				border: 1px solid #ccc;
				font-weight: bold;
			}
			button{
				padding: 8px 15px;
				cursor: pointer;
				border-radius: 5px;
				border: 1px solid #ccc;
				background: white;
				transition: all 0.3s;
			}
			button:hover{
				background: #f5f5f5;
			}
			button.active{
				background: #e0e0e0;
				border-color: #999;
				box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
			}
			.btn-primary{
				background-color: #2196f3;
				color: white;
				border: none;
			}
			.btn-primary:hover{
				background-color: #1976d2;
			}
			.grid{
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
				gap: 8px;
				width: 95%;
				max-width: 800px;
				padding: 20px 0;
			}
			.cell{
				background-color: var(--bg-cell);
				aspect-ratio: 1/1;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: 1.1em;
				font-weight: bold;
				cursor: pointer;
				user-select: none;
				border-radius: 8px;
				border: 1px solid #ccc;
				transition: all 0.2s ease, background-color 0.4s ease;
				text-align: center;
				line-height: 1.2;
			}
			.cell.highlight-double{
				background-color: var(--color-double);
			}
			.cell.highlight-opposite{
				background-color: var(--color-opposite);
			}
			.cell.highlight-both{
				background-color: var(--color-both);
			}
			.matched{
				background-color: var(--match-color) !important;
				color: white;
				font-size: 0.8em;
				border-color: #689f38;
				cursor: default;
			}
			.revealed{
				background-color: var(--reveal-color);
				color: white;
				transform: scale(1.05);
			}
			.error-flash{
				background-color: var(--error-color) !important;
				animation: shake 0.3s;
			}
			@keyframes shake{
				0%, 100%{
					transform: translateX(0);
				}
				25%{
					transform: translateX(-5px);
				}
				75%{
					transform: translateX(5px);
				}
			}
			.cell.matched{
				background-color: var(--match-color) !important;
				color: white;
				font-size: 0.85em; 
				line-height: 1;
				border-color: #689f38;
				cursor: default;
				white-space: nowrap; 
			}
			.cell.matched sup{
				font-size: 0.7em;
				vertical-align: super;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<div>
				<b>Errors: <span id="errors" style="color: var(--error-color);">0</span>/<span id="maxErrors">5</span></b>
			</div>
			<div class="controls">
				<div class="p-input-group">
					<label for="pVal">P = </label>
					<input type="number" id="pVal" value="37" min="3" max="101">
					<button id="btnUpdateP" class="btn-primary">Update P</button>
				</div>
				<div style="width: 100%; display: flex; justify-content: center; gap: 10px; margin-top: 10px;">
					<button id="btnDouble">Highlight doubles (2n)</button>
					<button id="btnOpposite">Highlight opposites (-n)</button>
				</div>
			</div>
		</div>
		<div class="grid" id="gameGrid"></div>
		<script>
			document.addEventListener('DOMContentLoaded',() => {
				let P = 37;
				const GRID = document.getElementById('gameGrid');
				const MAX_NUMBER_OF_ERRORS = 5;
				//const MAX_NUMBER_OF_ERRORS = 86400;
				let currentErrors = 0;
				let selectedCells = [];
				let matchedNumbersCount = 0;
				let showDoubles = false;
				let showOpposites = false;

				function isPrime(num){
					for(let i = 2, s = Math.sqrt(num); i <= s; i++){
						if(num%i === 0){
							return false;
						}
					}
					return num > 1;
				}

				function initGame(){
					const pInput = parseInt(document.getElementById('pVal').value);
					if(pInput < 2){
						return;
					}
					P = pInput;
					if(!isPrime(P)){
						console.warn(P + " is not prime. Some numbers could not have a reverse.");
					}
					GRID.innerHTML = '';
					currentErrors = 0;
					matchedNumbersCount = 0;
					selectedCells = [];
					document.getElementById('errors').textContent = '0';
					document.getElementById('maxErrors').textContent = MAX_NUMBER_OF_ERRORS;
					const fontSize = P > 50 ? "0.9em" : "1.1em";
					for(let i = 1; i < P; i++){
						const cell = document.createElement('div');
						cell.classList.add('cell');
						cell.style.fontSize = fontSize;
						cell.dataset.number = i;
						cell.innerText = i;
						cell.onclick = () => handleCellClick(cell);
						GRID.appendChild(cell);
					}
					updateHighlights();
				}

				function handleCellClick(cell){
					if(cell.classList.contains('matched')){
						return;
					}
					if(cell.classList.contains('revealed')){
						const num = parseInt(cell.dataset.number);
						if((num*num)%P === 1){
							setAsMatched(cell, num, num);
							selectedCells = [];
							checkWin();
							return;
						}else{
							cell.classList.remove('revealed');
							selectedCells = [];
							return;
						}
					}
					cell.classList.add('revealed');
					selectedCells.push(cell);
					if(selectedCells.length === 2){
						setTimeout(checkMatch, 300);
					}
				}

				function checkMatch(){
					if(selectedCells.length < 2){
						return;
					}
					const [cell1, cell2] = selectedCells;
					const num1 = parseInt(cell1.dataset.number);
					const num2 = parseInt(cell2.dataset.number);
					if((num1*num2)%P === 1){
						setAsMatched(cell1, num1, num2);
						setAsMatched(cell2, num2, num1);
						checkWin();
					}else{
						currentErrors++;
						document.getElementById('errors').textContent = currentErrors;
						cell1.classList.add('error-flash');
						cell2.classList.add('error-flash');
						setTimeout(() => {
							cell1.classList.remove('revealed', 'error-flash');
							cell2.classList.remove('revealed', 'error-flash');
						}, 400);
						if(currentErrors >= MAX_NUMBER_OF_ERRORS){
							setTimeout(() => {
								alert('Maximum number of errors reached. Try again!'); 
								initGame(); 
							}, 100);
						}
					}
					selectedCells = [];
				}

				function setAsMatched(cell, n1, n2){
					cell.classList.add('matched');
					cell.classList.remove('revealed');
					cell.innerHTML = (n1 === n2) ? \`\${n1} = \${n1}‚Åª¬π\` : \`\${n1} = \${n2}‚Åª¬π\`;
					matchedNumbersCount++;
					updateHighlights();
				}

				function checkWin(){
					const target = isPrime(P) ? P - 1 : matchedNumbersCount; 
					if(matchedNumbersCount === P - 1){
						setTimeout(() => alert('Congratulations! :-D You win! :-D'), 200);
					}
				}

				function updateHighlights(){
					const cells = Array.from(document.querySelectorAll('.cell'));
					const matchedNumbers = cells.filter(c => c.classList.contains('matched')).map(c => parseInt(c.dataset.number));
						cells.forEach(cell => {
						cell.classList.remove('highlight-double', 'highlight-opposite', 'highlight-both');
						if(cell.classList.contains('matched')){
							return;
						}
						const val = parseInt(cell.dataset.number);
						const isDouble = showDoubles && matchedNumbers.some(m =>(m*2) === val);
						const isOpposite = showOpposites && matchedNumbers.some(m =>(m + val) === P);
						if(isDouble && isOpposite){
							cell.classList.add('highlight-both');
						}else if(isDouble){
							cell.classList.add('highlight-double');
						}else if(isOpposite){
							cell.classList.add('highlight-opposite');
						}
					});
				}

				document.getElementById('btnUpdateP').addEventListener('click',() => {
					const pVal = parseInt(document.getElementById('pVal').value);
					if(!isPrime(pVal)){
						if(!confirm(pVal + " is not prime. Do you want to continue anyway?")){
							return;
						}
					}
					initGame();
				});

				document.getElementById('btnDouble').addEventListener('click',(e) => {
					showDoubles = !showDoubles;
					e.target.classList.toggle('active');
					updateHighlights();
				});

				document.getElementById('btnOpposite').addEventListener('click',(e) => {
					showOpposites = !showOpposites;
					e.target.classList.toggle('active');
					updateHighlights();
				});

				initGame();
			});
		<\/script>
	</body>
</html>` },

	// --- Fifteen ---
	'Games_Fifteen.html': { name: `Fifteen`, content: `<!DOCTYPE HTML>
<html lang="en"><!--G06#014 - Serena - Fifteen-->
	<head>
		<title>Fifteen Puzzle</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<style>
			:root{
				--unit: 5px;
				--side: 100px;
				--border-color: #ff9f00;
			}
			body{
				margin: 0;
				padding: 10px;
				display: flex;
				justify-content: center;
				align-items: flex-start; 
				padding-top: 40px; 
				min-height: 100vh;
				font-family: 'Segoe UI', Arial, sans-serif;
				overflow-x: hidden;
				-webkit-tap-highlight-color: transparent;
				box-sizing: border-box;
			}
			#Fifteen{
				position: relative;
				user-select: none;
				-webkit-user-select: none;
			}
			canvas{
				display: block;
				max-width: 100%;
				height: auto;
			}
			.tile-container{
				position: absolute;
				display: flex;
				justify-content: center;
				align-items: center;
				pointer-events: none;
				z-index: 1;
				width: var(--side);
				height: var(--side);
				font-size: calc(var(--side)*0.6);
				font-weight: 600;
				line-height: var(--side);
			}
			#controls{
				position: absolute;
				display: flex;
				justify-content: space-between;
				z-index: 10;
				box-sizing: border-box;
			}
			.game-btn{
				flex: 1;
				font-family: 'Segoe UI', Arial, sans-serif;
				font-weight: 800;
				cursor: pointer;
				background: rgba(198, 252, 255, 0.9);
				color: #333;
				border-radius: 12px;
				text-transform: uppercase;
				transition: all 0.2s;
				border: calc(var(--unit)/3) solid var(--border-color);
			}
			.game-btn:hover{
				background: var(--border-color);
				color: #fff;
			}
			.game-btn:active{
				transform: translateY(2px);
				box-shadow: none !important;
			}
		</style>
	</head>
	<body id="body">
		<div id="Fifteen">
			<canvas id="board">
				Upgrade Browser
			</canvas>
		</div>
		<script>
			const COLOR_1 = "#a7ffa7";
			const COLOR_2 = "#efefef";
			const BACKGROUND_COLOR = "#af67df";
			const FRAME_COLOR = "#000000";
			const BORDER_COLOR = "#ff9f00";
			const WINNING_COLOR = "#00ff00";
			const DESKTOP = !(/Mobi|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i).test(navigator.userAgent);
			const UNIT = DESKTOP ? 5 : 3;
			const DIVISION_WIDTH = UNIT;
			const BORDER_WIDTH = 4*UNIT;
			const MARGIN_DIM = 2*UNIT;
			const SIDE = 20*UNIT;
			const IDS = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f", "0"];
			const WIDTH = (4*SIDE) + (5*DIVISION_WIDTH) + (2*BORDER_WIDTH) + (MARGIN_DIM);
			const HEIGHT = (4*SIDE) + (5*DIVISION_WIDTH) + (2*BORDER_WIDTH) + (MARGIN_DIM);
			let cursorX, cursorY, r1 = 3, c1 = 3, counterMoves = 0, gameFinished, begun = false, isSolving = false;
			document.documentElement.style.setProperty('--unit', UNIT + 'px');
			document.documentElement.style.setProperty('--side', SIDE + 'px');
			document.documentElement.style.setProperty('--border-color', BORDER_COLOR);

			drawBoard();

			function drawBoard(){
				document.body.style.background = BACKGROUND_COLOR;
				const container = document.getElementById("Fifteen");
				for(let i = 0; i < 16; i++){
					const div = document.createElement("div");
					div.id = IDS[i];
					div.className = "tile-container";
					container.appendChild(div);
				}
				let board = document.getElementById("board");
				board.width = WIDTH; 
				board.height = HEIGHT;
				if(board.getContext("2d")){
					let ctx = board.getContext("2d");
					ctx.fillStyle = BORDER_COLOR;
					ctx.fillRect(MARGIN_DIM, MARGIN_DIM, (SIDE*4) + (DIVISION_WIDTH*5) + (BORDER_WIDTH*2), (SIDE*4) + (DIVISION_WIDTH*5) + (BORDER_WIDTH*2));
					ctx.fillStyle = FRAME_COLOR;
					ctx.fillRect(MARGIN_DIM + BORDER_WIDTH, MARGIN_DIM + BORDER_WIDTH, (SIDE*4) + (DIVISION_WIDTH*5), (SIDE*4) + (DIVISION_WIDTH*5));
				}
				const handleInput = (e) => {
					const rect = board.getBoundingClientRect();
					const clientX = e.touches ? e.touches[0].clientX : e.clientX;
					const clientY = e.touches ? e.touches[0].clientY : e.clientY;
					cursorX = clientX - rect.left;
					cursorY = clientY - rect.top;
					select();
				};
				board.onclick = handleInput;
				board.ontouchstart = (e) => {
					handleInput(e); e.preventDefault();
				};
				createButtons();
				shuffleTiles();
			}

			function createButtons(){
				const oldContainer = document.getElementById("controls");
				if(oldContainer){
					oldContainer.remove();
				}
				const container = document.createElement("div");
				container.id = "controls";
				const boardWidth = (SIDE*4) + (DIVISION_WIDTH*5) + (BORDER_WIDTH*2);
				const boardStartX = MARGIN_DIM;
				const boardBottomY = MARGIN_DIM + boardWidth;
				container.style.left = boardStartX + "px";
				container.style.top = (boardBottomY + (UNIT*5)) + "px";
				container.style.width = boardWidth + "px";
				container.style.gap = UNIT + "px";
				const btnData = [
					{id: "shuffleBtn", txt: "Shuffle", click: "shuffleTiles()"},
					{id: "restartBtn", txt: "Restart", click: "restart()"},
					{id: "solveBtn", txt: "Solve", click: "solve()"}
				];
				btnData.forEach(b => {
					let btn = document.createElement("button");
					btn.id = b.id;
					btn.className = "game-btn";
					btn.innerHTML = b.txt;
					btn.setAttribute("onclick", b.click);
					btn.style.padding = (UNIT*1.5) + "px 0";
					btn.style.fontSize = (UNIT*3.2) + "px";
					btn.style.boxShadow = \`0px \${UNIT/2}px 0px rgba(0,0,0,0.1)\`;
					container.appendChild(btn);
				});
				document.getElementById("Fifteen").appendChild(container);
			}

			function drawTile(row, column, tile){
				let val = parseInt(tile, 16);
				let board = document.getElementById("board");
				let ctx = board.getContext("2d");
				let color = (tile === "0") ? BORDER_COLOR : (((val + Math.floor((val - 1)/4))%2 === 1) ? COLOR_1 : COLOR_2);
				let posX = BORDER_WIDTH + DIVISION_WIDTH + MARGIN_DIM + (column*(SIDE + DIVISION_WIDTH));
				let posY = BORDER_WIDTH + DIVISION_WIDTH + MARGIN_DIM + (row*(SIDE + DIVISION_WIDTH));
				ctx.fillStyle = color;
				ctx.fillRect(posX, posY, SIDE, SIDE);
				let targetId = ((row*4 + column + 1)%16).toString(16);
				const el = document.getElementById(targetId);
				if(el){
					el.textContent = (tile === "0") ? "" : val;
					el.style.left = posX + "px";
					el.style.top = posY + "px";
				}
			}

			function swapTiles(t1, t2){
				const el1 = document.getElementById(t1), el2 = document.getElementById(t2);
				let v1 = el1.textContent, v2 = el2.textContent;
				let idx1 = (parseInt(t1, 16) + 15)%16, idx2 = (parseInt(t2, 16) + 15)%16;
				drawTile(Math.floor(idx1/4), idx1%4, (v2 === "" ? "0" : parseInt(v2).toString(16)));
				drawTile(Math.floor(idx2/4), idx2%4, (v1 === "" ? "0" : parseInt(v1).toString(16)));
				begun = true;
			}

			function select(){
				if(gameFinished || isSolving){
					return;
				}
				let r = Math.floor((cursorY - (BORDER_WIDTH + DIVISION_WIDTH + MARGIN_DIM))/(SIDE + DIVISION_WIDTH));
				let c = Math.floor((cursorX - (BORDER_WIDTH + DIVISION_WIDTH + MARGIN_DIM))/(SIDE + DIVISION_WIDTH));
				if(r >= 0 && r < 4 && c >= 0 && c < 4 && (Math.abs(r - r1) + Math.abs(c - c1)) === 1){
					swapTiles(((4*r + c + 1)%16).toString(16), ((4*r1 + c1 + 1)%16).toString(16));
					r1 = r;
					c1 = c;
					counterMoves++;
					if(begun && checkWin()){
						gameFinished = true;
						document.body.style.background = WINNING_COLOR;
						setTimeout(() => alert("Solved in " + counterMoves + " moves!"), 100);
					}
				}
			}

			function checkWin(){
				for(let i = 0; i < 15; i++){
					if(document.getElementById(((i + 1)%16).toString(16)).textContent !== String(i + 1)){
						return false;
					}
				}
				return true;
			}

			function shuffleTiles(){
				gameFinished = false;
				document.body.style.background = BACKGROUND_COLOR;
				let s = "123456789abcdef0".split('');
				do{
					for(let i = s.length - 1; i > 0; i--){
						const j = Math.floor(Math.random()*(i + 1));
						[s[i], s[j]] = [s[j], s[i]];
					}
				}while(!isSolvable(s));
				s.forEach((id, i) => drawTile(Math.floor(i/4), i%4, id));
				let zIdx = s.indexOf("0");
				r1 = Math.floor(zIdx/4); c1 = zIdx%4;
				counterMoves = 0; begun = false;
			}

			function isSolvable(a){
				let inv = 0, zR = 0;
				for(let i = 0; i < 16; i++){
					if(a[i] === "0"){
						zR = Math.floor(i/4);
						continue;
					}
					for(let j = i + 1; j < 16; j++){
						inv += (a[j] !== "0" && parseInt(a[i], 16) > parseInt(a[j], 16)) ? 1 : 0;
					}
				}
				return (zR%2 === 0) ? (inv%2 !== 0) : (inv%2 === 0);
			}

			function restart(){
				window.parent.postMessage('RELOAD_REQUEST','*');
			}

			function solve(){
				if(isSolving || gameFinished){
					return;
				}
				const btn = document.getElementById("solveBtn");
				btn.innerHTML = "Wait...";
				btn.disabled = true;
				isSolving = true;
				let state = [];
				for(let i = 0; i < 16; i++){
					let val = document.getElementById(((i + 1)%16).toString(16)).textContent;
					state.push(val === "" ? 0 : parseInt(val));
				}
				setTimeout(() => {
					let path = getFastPath(state);
					if(path){
						animate(path);
					}else{
						alert("Too complex...");
						resetUI();
					}
				}, 50);
			}

			function getHeuristic(s){
				let d = 0;
				for(let i = 0; i < 16; i++){
					if(s[i] === 0){
						continue;
					}
					d += Math.abs(Math.floor(i/4) - Math.floor((s[i] - 1)/4)) + Math.abs((i%4) - ((s[i] - 1)%4));
				}
				return d;
			}

			function getFastPath(state){
				let bound = getHeuristic(state);
				let path = [], startTime = Date.now();
				while(Date.now() - startTime < 3000){
					let t = search(state, 0, bound, path, state.indexOf(0), "");
					if(t === "FOUND"){
						return path;
					}
					bound = t + 2;
				}
				return null;
			}

			function search(s, g, bound, path, z, prev){
				let h = getHeuristic(s);
				if(g + h*1.5 > bound){
					return g + h*1.5;
				}
				if(h === 0){
					return "FOUND";
				}
				let min = Infinity, r = Math.floor(z/4), c = z%4;
				let moves = [];
				if(r > 0 && prev !== "D"){
					moves.push({d: "U", i: z - 4 });
				}
				if(r < 3 && prev !== "U"){
					moves.push({d: "D", i: z + 4 });
				}
				if(c > 0 && prev !== "R"){
					moves.push({d: "L", i: z - 1 });
				}
				if(c < 3 && prev !== "L"){
					moves.push({d: "R", i: z + 1 });
				}
				for(let m of moves){
					[s[z], s[m.i]] = [s[m.i], s[z]];
					path.push(m.d);
					let t = search(s, g + 1, bound, path, m.i, m.d);
					if(t === "FOUND"){
						return "FOUND";
					}
					if(t < min){
						min = t;
					}
					path.pop();
					[s[z], s[m.i]] = [s[m.i], s[z]];
				}
				return min;
			}

			function animate(moves){
				let i = 0;
				let timer = setInterval(() => {
					if(i >= moves.length){
						clearInterval(timer);
						gameFinished = true;
						document.body.style.background = WINNING_COLOR;
						resetUI();
						setTimeout(() => alert("Solved in " + counterMoves + " moves!"), 50);
						return;
					}
					let zIdx = r1*4 + c1, tIdx = zIdx + (moves[i] === "U" ? -4 : moves[i] === "D" ? 4 : moves[i] === "L" ? -1 : 1);
					swapTiles(((tIdx + 1)%16).toString(16), ((zIdx + 1)%16).toString(16));
					r1 = Math.floor(tIdx/4);
					c1 = tIdx%4;
					counterMoves++;
					i++;
				}, 180);
			}

			function resetUI(){
				isSolving = false;
				document.getElementById("solveBtn").innerHTML = "Solve";
				document.getElementById("solveBtn").disabled = false;
			}
		<\/script>
	</body>
</html>` },

	// --- Chess ---
	'Games_Chess.html': { name: `Chess`, content: `<!DOCTYPE html>
<html lang="en"><!--G07#016 - Filippo - Chess-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Chess</title>
		<style>
			:root{
				--bg: #2c3e50;
				--light: #f0d9b5;
				--dark: #b58863;
				--sel: #769656;
				--last-move: rgba(255, 255, 0, 0.4);
				--status-color: #f1c40f;
				--sq-size: clamp(35px, 10vw, 60px);
				--save-empty: #4834d4; 
				--save-full: #686de0;
			}
			body{
				font-family: 'Segoe UI', sans-serif;
				background: var(--bg);
				color: white;
				display: flex;
				flex-direction: column;
				align-items: center;
				padding: 10px;
				margin: 0;
				min-height: 100vh;
			}
			.game-layout{
				display: flex;
				flex-wrap: wrap;
				gap: 20px;
				justify-content: center;
				align-items: flex-start;
				margin-top: 10px;
				width: 100%;
				max-width: 1000px;
				position: relative;
			}
			.board{
				display: grid;
				grid-template-columns: repeat(8, var(--sq-size));
				grid-template-rows: repeat(8, var(--sq-size));
				border: 4px solid #34495e;
				box-shadow: 0 10px 30px rgba(0,0,0,0.5);
				user-select: none;
				position: relative;
			}
			.square{
				width: var(--sq-size);
				height: var(--sq-size);
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: calc(var(--sq-size)*0.75);
				cursor: pointer;
				position: relative;
				transition: background 0.2s;
			}
			.light{
				background-color: var(--light);
			}
			.dark{
				background-color: var(--dark);
			}
			.selected{
				background-color: var(--sel) !important;
			}
			.last-move{
				background-color: var(--last-move) !important;
			}
			.in-check{
				background-color: #e74c3c !important;
			}
			.legal-dot::after{
				content: '';
				width: 30%;
				height: 30%;
				background-color: #27ae60;
				border-radius: 50%;
				position: absolute;
				opacity: 0.8;
			}
			.capture-mark{
				background-color: rgba(39, 174, 96, 0.4) !important;
				border: calc(var(--sq-size)*0.05) solid #27ae60;
				box-sizing: border-box;
			}
			.info-panel{
				width: 250px;
				height: calc(8*var(--sq-size));
				background: #34495e;
				padding: 15px;
				border-radius: 8px;
				overflow-y: auto;
				box-sizing: border-box;
				display: none;
			}
			.controls{
				display: flex;
				flex-direction: column;
				gap: 10px;
				margin: 20px 0;
				width: 100%;
				max-width: 500px;
			}
			.row-1{
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 10px;
			}
			.row-2{
				display: grid;
				grid-template-columns: 1fr 1fr 1fr;
				gap: 10px;
			}
			.save-section{
				background: rgba(0,0,0,0.2);
				padding: 10px;
				border-radius: 8px;
				margin-top: 5px;
			}
			.save-grid{
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 12px;
				margin-top: 8px;
			}
			.slot-wrapper{
				position: relative;
				display: flex;
			}
			.save-slot-btn{
				width: 100%;
				display: flex;
				flex-direction: column;
				font-size: 0.65rem !important;
				padding: 10px 2px !important;
			}
			.del-btn{
				position: absolute;
				top: -6px;
				right: -6px;
				background: #e74c3c;
				color: white;
				border: none;
				border-radius: 50%;
				width: 20px;
				height: 20px;
				font-size: 10px;
				cursor: pointer;
				display: none;
				justify-content: center;
				align-items: center;
				box-shadow: 0 2px 4px rgba(0,0,0,0.3);
				z-index: 10;
			}
			.slot-date{
				font-weight: normal;
				font-size: 0.55rem;
				opacity: 0.8;
				margin-top: 2px;
			}
			.controls button{
				padding: 12px 2px;
				cursor: pointer;
				color: white;
				border: none;
				border-radius: 6px;
				font-weight: bold;
				font-size: 0.8rem;
				transition: all 0.3s ease;
				box-shadow: 0 4px 6px rgba(0,0,0,0.2);
			}
			button:active:not(.no-click){
				transform: scale(0.98);
			}
			.no-click{
				cursor: default !important;
			}
			.log-entry{
				font-size: 0.85rem;
				border-bottom: 1px solid #456789;
				padding: 6px 0;
				color: #ecf0f1;
			}
			#promotion-overlay{
				display: none;
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: rgba(0,0,0,0.7);
				z-index: 100;
				justify-content: center;
				align-items: center;
				border-radius: 4px;
			}
			.promotion-box{
				background: #34495e;
				padding: 15px;
				border-radius: 10px;
				display: flex;
				gap: 10px;
				box-shadow: 0 0 20px black;
			}
			.promo-choice{
				font-size: 2.5rem;
				background: var(--light);
				border: none;
				border-radius: 5px;
				cursor: pointer;
				width: 60px; height: 60px;
				display: flex;
				justify-content: center;
				align-items: center;
				color: #333;
			}
			.promo-choice:hover{
				background: white;
			}
			@media (max-width: 600px){
				.info-panel{
					width: 100%;
					height: 200px;
				}
				.square{
					font-size: calc(var(--sq-size)*0.85);
				}
			}
		</style>
	</head>
	<body>
		<div class="game-layout">
			<div id="board" class="board">
				<div id="promotion-overlay">
					<div class="promotion-box">
						<button class="promo-choice" onclick="selectPromotion('Q')">‚ôï</button>
						<button class="promo-choice" onclick="selectPromotion('R')">‚ôñ</button>
						<button class="promo-choice" onclick="selectPromotion('B')">‚ôó</button>
						<button class="promo-choice" onclick="selectPromotion('N')">‚ôò</button>
					</div>
				</div>
			</div>
			<div class="info-panel" id="logContainer">
				<div style="font-weight: bold; border-bottom: 2px solid var(--status-color); margin-bottom: 10px; color: var(--status-color);">LOG MOVES</div>
				<div id="moveLog"></div>
			</div>
		</div>		
		<div class="controls">
			<div class="row-1">
				<button id="statusBtn" class="no-click" style="background: white; color: black;">White to move</button>
				<button id="diffBtn" onclick="cycleDifficulty()" style="background: #c0392b;">Level: Hard</button>
			</div>
			<div class="row-2">
				<button id="toggleLogBtn" onclick="toggleLog()" style="background: #3498db;">Show Log</button>
				<button id="undoBtn" onclick="undoMove()" style="background: #95a5a6;">Undo</button>
				<button onclick="window.parent.postMessage('RELOAD_REQUEST','*')" style="background: #e67e22;">Reset</button>
			</div>
			<div class="save-section">
				<div style="text-align: center; font-size: 0.7rem; font-weight: bold; margin-bottom: 5px; color: #bdc3c7;">
					You have up to three slots to save your game.<br/>Once a slot is occupied, you can load, overwrite, or delete its data. Choose wisely.
				</div>
				<div class="save-grid">
					<div class="slot-wrapper">
						<button id="slot-0" class="save-slot-btn" onclick="handleSlot(0)" style="background: var(--save-empty);">Slot 1<br><span class="slot-date">Empty</span></button>
						<button id="del-0" class="del-btn" onclick="deleteSlot(0)">‚úñ</button>
					</div>
					<div class="slot-wrapper">
						<button id="slot-1" class="save-slot-btn" onclick="handleSlot(1)" style="background: var(--save-empty);">Slot 2<br><span class="slot-date">Empty</span></button>
						<button id="del-1" class="del-btn" onclick="deleteSlot(1)">‚úñ</button>
					</div>
					<div class="slot-wrapper">
						<button id="slot-2" class="save-slot-btn" onclick="handleSlot(2)" style="background: var(--save-empty);">Slot 3<br><span class="slot-date">Empty</span></button>
						<button id="del-2" class="del-btn" onclick="deleteSlot(2)">‚úñ</button>
					</div>
				</div>
			</div>
		</div>
		<script>
			let board = [['r','n','b','q','k','b','n','r'],['p','p','p','p','p','p','p','p'],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['','','','','','','',''],['P','P','P','P','P','P','P','P'],['R','N','B','Q','K','B','N','R']];
			let moved = {'K': false, 'k': false, 'R_7_0': false, 'R_7_7': false, 'r_0_0': false, 'r_0_7': false};
			let enPassantTarget = null;
			let history = [];
			const PIECE_VALUES = {'p': 100, 'n': 320, 'b': 330, 'r': 500, 'q': 900, 'k': 20000};
			const PIECES_NAMES = {'P':'Pawn', 'R':'Rook', 'N':'Knight', 'B':'Bishop', 'Q':'Queen', 'K':'King', 'p':'Pawn', 'r':'Rook', 'n':'Knight', 'b':'Bishop', 'q':'Queen', 'k':'King'};
			const PIECES = {'p':'‚ôü', 'r':'‚ôú', 'n':'‚ôû', 'b':'‚ôù', 'q':'‚ôõ', 'k':'‚ôö', 'P':'‚ôô', 'R':'‚ôñ', 'N':'‚ôò', 'B':'‚ôó', 'Q':'‚ôï', 'K':'‚ôî'};
			let selected = null, legalMoves = [], turn = 'W', lastMove = null;
			const AUDIO_CXT = new (window.AudioContext || window.webkitAudioContext)();
			const LEVELS = [{name: 'Easy', val: 1, color: '#27ae60'}, {name: 'Medium', val: 2, color: '#2980b9'}, {name: 'Hard', val: 3, color: '#c0392b'}, {name: 'Expert', val: 4, color: '#8e44ad'}];
			let currentDiffIdx = 2;
			let pendingPromotion = null;
			const PAWN_TABLE_WHITE = [[0, 0, 0, 0, 0, 0, 0, 0],[50, 50, 50, 50, 50, 50, 50, 50],[10, 10, 20, 30, 30, 20, 10, 10],[5, 5, 10, 25, 25, 10, 5, 5],[0, 0, 0, 20, 20, 0, 0, 0],[5, -5, -10, 0, 0, -10, -5, 5],[5, 10, 10, -20, -20, 10, 10, 5],[0, 0, 0, 0, 0, 0, 0, 0]];
			const KNIGHT_TABLE = [[-50, -40, -30, -30, -30, -30, -40, -50],[-40, -20, 0, 0, 0, 0, -20, -40],[-30, 0, 10, 15, 15, 10, 0, -30],[-30, 5, 15, 20, 20, 15, 5, -30],[-30, 0, 15, 20, 20, 15, 0, -30],[-30, 5, 10, 15, 15, 10, 5, -30],[-40, -20, 0, 5, 5, 0, -20, -40],[-50, -40, -30, -30, -30, -30, -40, -50]];
			const BISHOP_TABLE = [[-20, -10, -10, -10, -10, -10, -10, -20],[-10, 0, 0, 0, 0, 0, 0, -10],[-10, 0, 5, 10, 10, 5, 0, -10],[-10, 5, 5, 10, 10, 5, 5, -10],[-10, 0, 10, 10, 10, 10, 0, -10],[-10, 10, 10, 10, 10, 10, 10, -10],[-10, 5, 0, 0, 0, 0, 5, -10],[-20, -10, -10, -10, -10, -10, -10, -20]];
			const ROOK_TABLE = [[0, 0, 0, 0, 0, 0, 0, 0],[5, 10, 10, 10, 10, 10, 10, 5],[-5, 0, 0, 0, 0, 0, 0, -5],[-5, 0, 0, 0, 0, 0, 0, -5],[-5, 0, 0, 0, 0, 0, 0, -5],[-5, 0, 0, 0, 0, 0, 0, -5],[-5, 0, 0, 0, 0, 0, 0, -5],[0, 0, 0, 5, 5, 0, 0, 0]];
			const QUEEN_TABLE = [[-20, -10, -10, -5, -5, -10, -10, -20],[-10, 0, 0, 0, 0, 0, 0, -10],[-10, 0, 5, 5, 5, 5, 0, -10],[-5, 0, 5, 5, 5, 5, 0, -5],[0, 0, 5, 5, 5, 5, 0, -5],[-10, 5, 5, 5, 5, 5, 0, -10],[-10, 0, 5, 0, 0, 0, 0, -10],[-20, -10, -10, -5, -5, -10, -10, -20]];
			const KING_TABLE_MIDDLE = [[-30, -40, -40, -50, -50, -40, -40, -30],[-30, -40, -40, -50, -50, -40, -40, -30],[-30, -40, -40, -50, -50, -40, -40, -30],[-30, -40, -40, -50, -50, -40, -40, -30],[-20, -30, -30, -40, -40, -30, -30, -20],[-10, -20, -20, -20, -20, -20, -20, -10],[20, 20, 0, 0, 0, 0, 20, 20],[20, 30, 10, 0, 0, 10, 30, 20]];

			function updateSaveUI(){
				for(let i = 0; i < 3; i++){
					const saved = localStorage.getItem(\`chess_slot_\${i}\`);
					const btn = document.getElementById(\`slot-\${i}\`);
					const del = document.getElementById(\`del-\${i}\`);
					if(saved){
						const data = JSON.parse(saved);
						btn.style.background = 'var(--save-full)';
						btn.querySelector('.slot-date').textContent = data.timestamp;
						del.style.display = 'flex';
					}else{
						btn.style.background = 'var(--save-empty)';
						btn.querySelector('.slot-date').textContent = 'Empty';
						del.style.display = 'none';
					}
				}
			}

			function handleSlot(i){
				const saved = localStorage.getItem(\`chess_slot_\${i}\`);
				if(!saved){
					saveToSlot(i);
				}else{
					if(confirm(\`Slot \${i+1}: Do you want to load the saved game?\`)){
						loadFromSlot(i);
					}else{
						if(confirm("Do you want to replace the previous save?")){
							saveToSlot(i);
						}
					}
				}
			}

			function deleteSlot(i){
				if(confirm(\`Are you sure you want to permanently delete the Slot \${i+1} save?\`)){
					localStorage.removeItem(\`chess_slot_\${i}\`);
					updateSaveUI();
				}
			}

			function saveToSlot(i){
				const now = new Date();
				const timeStr = \`\${now.getDate()}/\${now.getMonth()+1} \${now.getHours()}:\${now.getMinutes().toString().padStart(2,'0')}\`;
				const gameState = {
					board, moved, enPassantTarget, history, currentDiffIdx, turn, lastMove,
					logHtml: document.getElementById('moveLog').innerHTML,
					timestamp: timeStr
				};
				localStorage.setItem(\`chess_slot_\${i}\`, JSON.stringify(gameState));
				updateSaveUI();
			}

			function loadFromSlot(i){
				const savedData = localStorage.getItem(\`chess_slot_\${i}\`);
				if(!savedData){
					return;
				}
				const gs = JSON.parse(savedData);
				board = gs.board;
				moved = gs.moved;
				enPassantTarget = gs.enPassantTarget;
				history = gs.history;
				currentDiffIdx = gs.currentDiffIdx;
				turn = gs.turn;
				lastMove = gs.lastMove;
				document.getElementById('moveLog').innerHTML = gs.logHtml;
				const btn = document.getElementById('diffBtn');
				btn.textContent = \`Level: \${LEVELS[currentDiffIdx].name}\`;
				btn.style.background = LEVELS[currentDiffIdx].color;
				selected = null;
				legalMoves = [];
				checkGameState();
				drawBoard();
				if(turn === 'B'){
					setTimeout(pcMove, 600);
				}
			}

			function playSound(type){
				const osc = AUDIO_CXT.createOscillator();
				const gain = AUDIO_CXT.createGain();
				osc.connect(gain);
				gain.connect(AUDIO_CXT.destination);
				const now = AUDIO_CXT.currentTime;
				if(type === 'capture'){
					osc.type = 'square';
					osc.frequency.setValueAtTime(150, now);
					osc.frequency.exponentialRampToValueAtTime(40, now + 0.1);
					gain.gain.setValueAtTime(0.1, now);
					gain.gain.linearRampToValueAtTime(0, now + 0.1);
					osc.start();
					osc.stop(now + 0.1);
				}else if(type === 'check'){
					osc.type = 'sine';
					osc.frequency.setValueAtTime(440, now);
					osc.frequency.exponentialRampToValueAtTime(880, now + 0.1);
					gain.gain.setValueAtTime(0.1, now);
					gain.gain.linearRampToValueAtTime(0, now + 0.2);
					osc.start();
					osc.stop(now + 0.2);
				}else if(type === 'mate'){
					osc.type = 'sawtooth';
					osc.frequency.setValueAtTime(200, now);
					osc.frequency.linearRampToValueAtTime(100, now + 0.5);
					gain.gain.setValueAtTime(0.2, now);
					gain.gain.linearRampToValueAtTime(0, now + 0.5);
					osc.start();
					osc.stop(now + 0.5);
				}else if(type === 'draw'){
					osc.type = 'triangle';
					osc.frequency.setValueAtTime(300, now);
					gain.gain.setValueAtTime(0.1, now);
					gain.gain.linearRampToValueAtTime(0, now + 0.3);
					osc.start();
					osc.stop(now + 0.3);
				}else if(type === 'promo'){
					osc.type = 'sine';
					osc.frequency.setValueAtTime(523.25, now);
					osc.frequency.setValueAtTime(783.99, now + 0.1);
					gain.gain.setValueAtTime(0.1, now);
					gain.gain.linearRampToValueAtTime(0, now + 0.3);
					osc.start();
					osc.stop(now + 0.3);
				}
			}

			function cycleDifficulty(){
				currentDiffIdx = (currentDiffIdx + 1)%LEVELS.length;
				const btn = document.getElementById('diffBtn');
				btn.textContent = \`Level: \${LEVELS[currentDiffIdx].name}\`;
				btn.style.background = LEVELS[currentDiffIdx].color;
			}

			function toggleLog(){
				const container = document.getElementById('logContainer');
				const btn = document.getElementById('toggleLogBtn');
				container.style.display = (container.style.display === 'block') ? 'none' : 'block';
				btn.textContent = container.style.display === 'block' ? "Hide Log" : "Show Log";
			}

			function drawBoard(){
				const boardEl = document.getElementById('board');
				const cells = boardEl.querySelectorAll('.square');
				cells.forEach(c => c.remove());
				const currentKing = findKing(board, turn);
				const inCheck = (turn !== 'OVER') ? isSquareAttacked(board, currentKing.r, currentKing.c, turn === 'W' ? 'B' : 'W') : false;
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						const sq = document.createElement('div');
						sq.className = \`square \${(r + c)%2 === 0 ? 'light' : 'dark'}\`;
						const p = board[r][c];
						if(p){
							sq.textContent = PIECES[p];
							sq.style.color = p === p.toUpperCase() ? "white" : "black";
							if(p === p.toUpperCase()){
								sq.style.textShadow = "0 0 3px black";
							}
						}
						if(lastMove && ((lastMove.fR === r && lastMove.fC === c) || (lastMove.tR === r && lastMove.tC === c))){
							sq.classList.add('last-move');
						}
						if(selected && selected.r === r && selected.c === c){
							sq.classList.add('selected');
						}
						if(p && p.toUpperCase() === 'K' && (p === (turn === 'W' ? 'K' : 'k')) && inCheck){
							sq.classList.add('in-check');
						}
						const move = legalMoves.find(m => m.r === r && m.c === c);
						if(move){
							sq.classList.add((board[r][c] || move.enPassant) ? 'capture-mark' : 'legal-dot');
						}
						sq.onclick = () => handleClick(r, c);
						boardEl.appendChild(sq);
					}
				}
			}

			function findKing(b, color){
				const target = color === 'W' ? 'K' : 'k';
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						if(b[r][c] === target){
							return {r, c};
						}
					}
				}
				return {r:0, c:0};
			}

			function isSquareAttacked(b, row, col, attackerColor){
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						const p = b[r][c];
						if(!p || (attackerColor === 'W' ? p !== p.toUpperCase() : p !== p.toLowerCase())){
							continue;
						}
						if(getRawMoves(b, r, c, false).some(m => m.r === row && m.c === col)){
							return true;
						}
					}
				}
				return false;
			}

			function getRawMoves(b, r, c, includeCastling = true){
				let m = [];
				const piece = b[r][c];
				const p = piece.toLowerCase();
				const isW = piece === piece.toUpperCase();
				const dirs = {'r': [[1,0],[-1,0],[0,1],[0,-1]], 'b': [[1,1],[1,-1],[-1,1],[-1,-1]], 'q': [[1,0],[-1,0],[0,1],[0,-1],[1,1],[1,-1],[-1,1],[-1,-1]], 'n': [[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]], 'k': [[1,0],[-1,0],[0,1],[0,-1],[1,1],[1,-1],[-1,1],[-1,-1]]};
				if(p === 'p'){
					let d = isW ? -1 : 1;
					if(r + d >= 0 && r + d < 8 && !b[r + d][c]){
						m.push({r: r + d, c: c});
						if(((isW && r===6) || (!isW && r===1)) && !b[r + 2*d][c]){
							m.push({r: r + 2*d, c: c});
						}
					}
					for(let dc of [-1,1]){
						let nr = r + d, nc = c + dc;
						if(nr >= 0 && nr < 8 && nc >= 0 && nc < 8){
							if(b[nr][nc] && (isW ? b[nr][nc] === b[nr][nc].toLowerCase() : b[nr][nc] === b[nr][nc].toUpperCase())){
								m.push({r: nr, c: nc});
							}
							if(!b[nr][nc] && enPassantTarget && enPassantTarget.r === nr && enPassantTarget.c === nc){
								m.push({r: nr, c: nc, enPassant: true});
							}
						}
					}
				}else if(dirs[p]){
					for(let [dr, dc] of dirs[p]){
						let nr = r + dr, nc = c + dc;
						while(nr >= 0 && nr < 8 && nc >= 0 && nc < 8){
							if(!b[nr][nc]){
								m.push({r: nr, c: nc});
							}else{
								if(isW ? b[nr][nc] === b[nr][nc].toLowerCase() : b[nr][nc] === b[nr][nc].toUpperCase()){
									m.push({r: nr, c: nc});
								}
								break;
							}
							if(p==='n' || p==='k'){
								break;
							}
							nr += dr;
							nc += dc;
						}
					}
				}
				if(includeCastling && p === 'k'){
					const row = isW ? 7 : 0;
					const opp = isW ? 'B' : 'W';
					if(!moved[piece] && !isSquareAttacked(b, r, c, opp)){
						const rk = isW ? 'R_7_7' : 'r_0_7';
						if(!moved[rk] && !b[row][5] && !b[row][6] && !isSquareAttacked(b, row, 5, opp) && !isSquareAttacked(b, row, 6, opp)){
							m.push({r: row, c: 6, castling: 'K'});
						}
						const rq = isW ? 'R_7_0' : 'r_0_0';
						if(!moved[rq] && !b[row][1] && !b[row][2] && !b[row][3] && !isSquareAttacked(b, row, 3, opp)){
							m.push({r: row, c: 2, castling: 'Q'});
						}
					}
				}
				return m;
			}

			function getSafeMoves(b, r, c){
				const isW = b[r][c] === b[r][c].toUpperCase();
				return getRawMoves(b, r, c).filter(m => {
					const tmp = b.map(row => [...row]);
					if(m.enPassant){
						tmp[r][m.c] = '';
					}
					if(m.castling === 'K'){
						tmp[isW ? 7 : 0][5] = tmp[isW ? 7 : 0][7];
						tmp[isW ? 7 : 0][7] = '';
					}else if(m.castling === 'Q'){
						tmp[isW ? 7 : 0][3] = tmp[isW ? 7 : 0][0];
						tmp[isW ? 7 : 0][0] = '';
					}
					tmp[m.r][m.c] = tmp[r][c];
					tmp[r][c] = '';
					const k = findKing(tmp, isW ? 'W' : 'B');
					return !isSquareAttacked(tmp, k.r, k.c, isW ? 'B' : 'W');
				});
			}

			function checkGameState(){
				let moves = [], piecesLeft = [];
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						const p = board[r][c];
						if(p){
							piecesLeft.push(p.toLowerCase());
							if((turn === 'W' ? p === p.toUpperCase() : p === p.toLowerCase())){
								moves = moves.concat(getSafeMoves(board, r, c));
							}
						}
					}
				}
				const kPos = findKing(board, turn);
				const inCheck = isSquareAttacked(board, kPos.r, kPos.c, turn === 'W' ? 'B' : 'W');
				const statusBtn = document.getElementById('statusBtn');
				if(moves.length === 0){
					if(inCheck){
						playSound('mate');
						statusBtn.textContent = \`CHECKMATE! \${turn === 'W' ? 'Black' : 'White'} wins!\`;
					}else{
						playSound('draw');
						statusBtn.textContent = "STALEMATE! It's a draw.";
					}
					statusBtn.style.background = "#e74c3c";
					statusBtn.style.color = "white";
					turn = 'OVER';
				}else if(piecesLeft.length <= 3){
					const nonKing = piecesLeft.filter(p => p !== 'k');
					if(nonKing.length === 0 || (nonKing.length === 1 && (nonKing[0] === 'b' || nonKing[0] === 'n'))){
						playSound('draw');
						statusBtn.textContent = "DRAW! Insufficient material.";
						statusBtn.style.background = "#e74c3c";
						statusBtn.style.color = "white";
						turn = 'OVER';
					}
				}else{
					if(inCheck){
						playSound('check');
					}
					statusBtn.textContent = \`\${turn === 'W' ? 'White' : 'Black'} to move.\${inCheck ? ' (+)' : ''}\`;
					statusBtn.style.background = (turn === 'W' ? "white" : "black");
					statusBtn.style.color = (turn === 'W' ? "black" : "white");
				}
			}

			function executeMove(fR, fC, tR, tC, special, pcChoice = null){
				if(turn === 'W'){
					history.push({
						board: board.map(row => [...row]),
						moved:{...moved},
						enPassantTarget: enPassantTarget ? {...enPassantTarget} : null,
						lastMove: lastMove ? {...lastMove} : null,
						logCount: document.getElementById('moveLog').children.length
					});
				}
				const p = board[fR][fC];
				if(fR === 7 && fC === 0){
					moved['R_7_0'] = true;
				}
				if(fR === 7 && fC === 7){
					moved['R_7_7'] = true;
				}
				if(fR === 0 && fC === 0){
					moved['r_0_0'] = true;
				}
				if(fR === 0 && fC === 7){
					moved['r_0_7'] = true;
				}
				let captured = board[tR][tC];
				if(special && special.enPassant){
					captured = board[fR][tC];
					board[fR][tC] = '';
				}
				if(captured){
					playSound('capture');
				}
				if(special && special.castling === 'K'){
					board[tR][5] = board[tR][7];
					board[tR][7] = '';
				}else if(special && special.castling === 'Q'){
					board[tR][3] = board[tR][0];
					board[tR][0] = '';
				}
				if(p.toLowerCase() === 'p' && Math.abs(tR - fR) === 2){
					enPassantTarget = {r: (fR + tR)/2, c: fC};
				}else{
					enPassantTarget = null;
				}
				if(p.toUpperCase() === 'K'){
					moved[p] = true;
				}
				board[tR][tC] = p;
				board[fR][fC] = '';
				if(p === 'P' && tR === 0){
					pendingPromotion = {tR, tC, piece: p, captured, special};
					document.getElementById('promotion-overlay').style.display = 'flex';
					lastMove = {fR, fC, tR, tC};
					drawBoard();
					return;
				}
				if(p === 'p' && tR === 7){
					playSound('promo');
					board[tR][tC] = pcChoice || 'q';
					logMove("Black", board[tR][tC], {r: tR, c: tC}, captured, special);
				}else{
					logMove(turn === 'W' ? "White" : "Black", p, {r: tR, c: tC}, captured, special);
				}
				lastMove = {fR, fC, tR, tC};
				selected = null;
				legalMoves = [];
				turn = (turn === 'W') ? 'B' : 'W';
				checkGameState();
				drawBoard();
				if(turn === 'B'){
					setTimeout(pcMove, 600);
				}
			}

			function selectPromotion(choice){
				playSound('promo');
				const{tR, tC, captured, special} = pendingPromotion;
				board[tR][tC] = choice;
				document.getElementById('promotion-overlay').style.display = 'none';
				logMove("White", choice, {r: tR, c: tC}, captured, special);
				pendingPromotion = null;
				selected = null;
				legalMoves = [];
				turn = 'B';
				checkGameState();
				drawBoard();
				setTimeout(pcMove, 600);
			}

			function undoMove(){
				if(turn !== 'W' || history.length === 0){
					return;
				}
				const lastState = history.pop();
				board = lastState.board;
				moved = lastState.moved;
				enPassantTarget = lastState.enPassantTarget;
				lastMove = lastState.lastMove;
				const log = document.getElementById('moveLog');
				while(log.children.length > lastState.logCount){
					log.removeChild(log.firstChild);
				}
				turn = 'W';
				selected = null;
				legalMoves = [];
				checkGameState();
				drawBoard();
			}

			function evaluateBoard(b, forBlack = true){
				let score = 0;
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						const p = b[r][c];
						if(!p){
							continue;
						}
						const isBlackPiece = p === p.toLowerCase();
						const type = p.toLowerCase();
						let value = PIECE_VALUES[type];
						let posBonus = 0;
						if(type === 'p'){
							posBonus = isBlackPiece ? PAWN_TABLE_WHITE[r][c] : PAWN_TABLE_WHITE[7 - r][c];
						}else if(type === 'n'){
							posBonus = isBlackPiece ? KNIGHT_TABLE[r][c] : KNIGHT_TABLE[7 - r][c];
						}else if(type === 'b'){
							posBonus = isBlackPiece ? BISHOP_TABLE[r][c] : BISHOP_TABLE[7 - r][c];
						}else if(type === 'r'){
							posBonus = isBlackPiece ? ROOK_TABLE[r][c] : ROOK_TABLE[7 - r][c];
						}else if(type === 'q'){
							posBonus = isBlackPiece ? QUEEN_TABLE[r][c] : QUEEN_TABLE[7 - r][c];
						}else if(type === 'k'){
							posBonus = isBlackPiece ? KING_TABLE_MIDDLE[r][c] : KING_TABLE_MIDDLE[7 - r][c];
						}
						value += posBonus;
						score += isBlackPiece ? value : -value;
					}
				}
				return forBlack ? score : -score;
			}

			function minimax(b, depth, alpha, beta, maximizing){
				if(depth === 0){
					return evaluateBoard(b, true);
				}
				const color = maximizing ? 'B' : 'W';
				let allMoves = [];
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						const p = b[r][c];
						if(!p || (maximizing ? (p !== p.toLowerCase()) : (p !== p.toUpperCase()))){
							continue;
						}
						getSafeMoves(b, r, c).forEach(m => allMoves.push({fR: r, fC: c, tR: m.r, tC: m.c, special: m}));
					}
				}
				if(allMoves.length === 0){
					const king = findKing(b, color);
					if(isSquareAttacked(b, king.r, king.c, color === 'W' ? 'B' : 'W')){
						return maximizing ? -50000 : 50000;
					}
					return 0;
				}
				if(maximizing){
					let maxEval = -Infinity;
					for(const move of allMoves){
						const isPromo = b[move.fR][move.fC] === 'p' && move.tR === 7;
						const promoChoices = isPromo ? ['q', 'n', 'r', 'b'] : [null];
						for(const choice of promoChoices){
							const tmp = b.map(row => [...row]);
							tmp[move.tR][move.tC] = isPromo ? choice : tmp[move.fR][move.fC];
							tmp[move.fR][move.fC] = '';
							const eval = minimax(tmp, depth - 1, alpha, beta, false);
							maxEval = Math.max(maxEval, eval);
							alpha = Math.max(alpha, eval);
							if(beta <= alpha){
								break;
							}
						}
						if(beta <= alpha){
							break;
						}
					}
					return maxEval;
				}else{
					let minEval = Infinity;
					for(const move of allMoves){
						const isPromo = b[move.fR][move.fC] === 'P' && move.tR === 0;
						const promoChoices = isPromo ? ['Q', 'N', 'R', 'B'] : [null];
						for(const choice of promoChoices){
							const tmp = b.map(row => [...row]);
							tmp[move.tR][move.tC] = isPromo ? choice : tmp[move.fR][move.fC];
							tmp[move.fR][move.fC] = '';
							const eval = minimax(tmp, depth - 1, alpha, beta, true);
							minEval = Math.min(minEval, eval);
							beta = Math.min(beta, eval);
							if(beta <= alpha){
								break;
							}
						}
						if(beta <= alpha){
							break;
						}
					}
					return minEval;
				}
			}

			function pcMove(){
				if(turn !== 'B'){
					return;
				}
				const depth = LEVELS[currentDiffIdx].val;
				let allMoves = [];
				for(let r = 0; r < 8; r++){
					for(let c = 0; c < 8; c++){
						if(board[r][c] && board[r][c] === board[r][c].toLowerCase()){
							getSafeMoves(board, r, c).forEach(m => allMoves.push({fR: r, fC: c, tR: m.r, tC: m.c, special: m }));
						}
					}
				}
				if(allMoves.length === 0){
					return;
				}
				let bestMove = null, bestValue = -Infinity, bestPromo = 'q';
				for(const m of allMoves){
					const isPromo = board[m.fR][m.fC] === 'p' && m.tR === 7;
					const promoChoices = isPromo ? ['q', 'n', 'r', 'b'] : [null];
					for(const choice of promoChoices){
						const tmp = board.map(row => [...row]);
						tmp[m.tR][m.tC] = isPromo ? choice : tmp[m.fR][m.fC];
						tmp[m.fR][m.fC] = '';
						let v = minimax(tmp, depth - 1, -Infinity, Infinity, false);
						if(v > bestValue){ 
							bestValue = v;
							bestMove = m; 
							if(isPromo){
								bestPromo = choice;
							}
						}
					}
				}
				if(bestMove){
					executeMove(bestMove.fR, bestMove.fC, bestMove.tR, bestMove.tC, bestMove.special, bestPromo);
				}
			}

			function handleClick(r, c){
				if(AUDIO_CXT.state === 'suspended'){
					AUDIO_CXT.resume();
				}
				if(turn !== 'W' || pendingPromotion){
					return;
				}
				const move = legalMoves.find(m => m.r === r && m.c === c);
				if(move){
					executeMove(selected.r, selected.c, r, c, move);
					return;
				}
				if(selected && selected.r === r && selected.c === c){
					selected = null;
					legalMoves = [];
				}else if(board[r][c] && board[r][c] === board[r][c].toUpperCase()){
					selected = {r, c};
					legalMoves = getSafeMoves(board, r, c);
				}else{
					selected = null;
					legalMoves = [];
				}
				drawBoard();
			}

			function logMove(who, piece, to, captured, special){
				const log = document.getElementById('moveLog');
				const coords = String.fromCharCode(97 + to.c) + (8 - to.r);
				let text = (special && special.castling) ? (special.castling === 'K' ? 'O-O' : 'O-O-O') : \`\${who}: \${PIECES_NAMES[piece]} \${coords}\`;
				if(captured){
					text += ' (x)';
				}
				let div = document.createElement('div');
				div.className = 'log-entry';
				div.textContent = text;
				log.prepend(div);
			}

			drawBoard();
			updateSaveUI();
		<\/script>
	</body>
</html>` },

	// --- Checkers ---
	'Games_Checkers.html': { name: `Checkers`, content: `<!DOCTYPE html>
<html lang="en"><!--G08#017 - Mara - Checkers-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Checkers World Master</title>
		<style>
			:root{
				--bg: #1a1a1a;
				--panel: #262626;
				--accent: #27ae60;
				--danger: #e74c3c;
			}
			body{
				font-family: 'Segoe UI', sans-serif;
				background: var(--bg);
				color: #f0f0f0;
				display: flex;
				flex-direction: column;
				align-items: center;
				margin: 0;
				padding: 20px;
			}
			#setup-menu{
				background: var(--panel);
				padding: 30px;
				border-radius: 15px;
				box-shadow: 0 10px 40px rgba(0,0,0,0.8);
				text-align: center;
				max-width: 650px;
				border: 1px solid #444;
			}
			.variant-grid{
				display: grid;
				grid-template-columns: repeat(3, 1fr);
				gap: 15px;
				margin: 25px 0;
			}
			label{
				background: #333;
				padding: 15px 10px;
				border-radius: 8px;
				cursor: pointer;
				font-size: 0.85em;
				transition: 0.3s;
				border: 1px solid transparent;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				line-height: 1.4;
			}
			label span{
				color: #888;
				font-size: 0.9em;
				margin-top: 4px;
				display: block;
			}
			label:hover{
				background: #444;
				border-color: var(--accent);
			}
			input[type="radio"]{
				margin-bottom: 8px;
				accent-color: var(--accent);
			}
			#game-container{
				display: none;
				flex-direction: column;
				align-items: center;
				width: 100%;
			}
			#board{
				display: grid;
				border: 10px solid #333;
				background: #000;
				box-shadow: 0 0 50px rgba(0,0,0,0.6);
				max-width: 95vw;
			}
			.cell{
				width: 50px;
				height: 50px;
				display: flex;
				justify-content: center;
				align-items: center;
				position: relative;
			}
			@media (max-width: 600px){
				.cell{
					width: 35px;
					height: 35px;
				}
			}
			.black-cell{
				background-color: #5d4037;
			}
			.white-cell{
				background-color: #d7ccc8;
			}
			.piece{
				width: 82%;
				height: 82%;
				border-radius: 50%;
				cursor: pointer;
				border: 3px solid rgba(0,0,0,0.3);
				z-index: 5;
				transition: transform 0.2s;
				position: relative;
			}
			.white-piece{
				background: radial-gradient(circle at 30% 30%, #ffffff, #b0b0b0);
			}
			.black-piece{
				background: radial-gradient(circle at 30% 30%, #424242, #000000);
			}
			.king::after{
				content: "üëë";
				font-size: 1.2em;
				color: #ffeb3b;
				display: block;
				text-align: center;
				text-shadow: 0 0 3px #000;
			}
			.selected{
				transform: scale(1.1);
				outline: 4px solid #f1c40f;
				box-shadow: 0 0 20px #f1c40f;
				z-index: 10;
			}
			.status-bar{
				margin: 5px;
				font-size: 1.4em;
				color: #f1c40f;
				font-weight: bold;
				text-transform: uppercase;
			}
			.variant-badge{
				background: #444;
				padding: 4px 12px;
				border-radius: 20px;
				font-size: 0.6em;
				color: #aaa;
				margin-bottom: 10px;
				border: 1px solid #555;
			}
			.btn{
				padding: 15px 30px;
				border: none;
				color: white;
				border-radius: 8px;
				cursor: pointer;
				font-weight: bold;
				font-size: 1em;
				transition: 0.3s;
			}
			.btn-start{
				background: var(--accent);
				width: 100%;
			}
			.btn-reset{
				background: var(--danger);
				margin-top: 20px;
			}
		</style>
	</head>
	<body>
		<div id="setup-menu">
			<h1 style="margin-top:0">Checkers Elite</h1>
			<p style="color: #aaa">Select a Rule Set</p>
			<div class="variant-grid">
				<label><input type="radio" name="v" value="int" checked>International <span>(10x10)</span></label>
				<label><input type="radio" name="v" value="it">Italian <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="en">English/USA <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="br">Brazilian <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="ru">Russian <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="es">Spanish <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="pool">Pool <span>(8x8)</span></label>
				<label><input type="radio" name="v" value="ca">Canadian <span>(12x12)</span></label>
				<label><input type="radio" name="v" value="tu">Turkish <span>(8x8)</span></label>
			</div>
			<button class="btn btn-start" onclick="startGame()">Start Game</button>
		</div>
		<div id="game-container">
			<div class="variant-badge" id="active-variant-name">Mode: International</div>
			<div class="status-bar" id="status">White to move.</div>
			<div id="board"></div>
			<button class="btn btn-reset" onclick="window.parent.postMessage('RELOAD_REQUEST','*')">Exit to Menu</button>
		</div>
		<script>
			let cfg ={}, turn = 'white', selected = null, isAITurn = false;
			const AUDIO_CTX = new (window.AudioContext || window.webkitAudioContext)();

			const VARIANTS ={
				int: {name: "International", s: 10, fly: true, back: true,  kingEat: true,  start: 4, ortho: false, reverse: false},
				it:  {name: "Italian", s: 8,  fly: false, back: false, kingEat: false, start: 3, ortho: false, reverse: false},
				en:  {name: "English/USA", s: 8,  fly: false, back: false, kingEat: true,  start: 3, ortho: false, reverse: false},
				br:  {name: "Brazilian", s: 8,  fly: true,  back: true,  kingEat: true,  start: 3, ortho: false, reverse: false},
				ru:  {name: "Russian", s: 8,  fly: true,  back: true,  kingEat: true,  start: 3, ortho: false, reverse: false},
				es:  {name: "Spanish", s: 8,  fly: true,  back: false, kingEat: true,  start: 3, ortho: false, reverse: true},
				pool:{name: "Pool Checkers", s: 8,  fly: true,  back: true,  kingEat: true,  start: 3, ortho: false, reverse: false},
				ca:  {name: "Canadian", s: 12, fly: true,  back: true,  kingEat: true,  start: 5, ortho: false, reverse: false},
				tu:  {name: "Turkish", s: 8,  fly: true,  back: false, kingEat: true,  start: 3, ortho: true,  reverse: false}
			};

			function playSound(isCapture){
				if(AUDIO_CTX.state === 'suspended'){
					AUDIO_CTX.resume();
				}
				const osc = AUDIO_CTX.createOscillator();
				const gain = AUDIO_CTX.createGain();
				osc.connect(gain);
				gain.connect(AUDIO_CTX.destination);
				osc.frequency.setValueAtTime(isCapture ? 150 : 300, AUDIO_CTX.currentTime);
				gain.gain.setValueAtTime(0.1, AUDIO_CTX.currentTime);
				gain.gain.exponentialRampToValueAtTime(0.01, AUDIO_CTX.currentTime + 0.1);
				osc.start();
				osc.stop(AUDIO_CTX.currentTime + 0.1);
			}

			function startGame(){
				const v = document.querySelector('input[name="v"]:checked').value;
				cfg = VARIANTS[v];
				document.getElementById('active-variant-name').innerText = \`Mode: \${cfg.name} (\${cfg.s}x\${cfg.s})\`;
				document.getElementById('setup-menu').style.display = 'none';
				document.getElementById('game-container').style.display = 'flex';
				initBoard();
			}

			function initBoard(){
				const b = document.getElementById('board');
				b.innerHTML = '';
				b.style.gridTemplateColumns = \`repeat(\${cfg.s}, minmax(30px, 50px))\`;
				for(let r = 0; r < cfg.s; r++){
					for(let c = 0; c < cfg.s; c++){
						const cell = document.createElement('div');
						const isPlayable = cfg.ortho ? (r > 0 && r < cfg.s - 1) : (cfg.reverse ? (r + c)%2 === 0 : (r + c)%2 !== 0);
						cell.className = \`cell \${isPlayable ? 'black-cell' : 'white-cell'}\`;
						cell.dataset.r = r; cell.dataset.c = c;
						if(isPlayable){
							if(r < cfg.start){
								createPiece(cell, 'black');
							}else if(r >= cfg.s - cfg.start){
								createPiece(cell, 'white');
							}
						}
						cell.onclick = () => onCellClick(r, c);
						b.appendChild(cell);
					}
				}
			}

			function createPiece(cell, col){
				const p = document.createElement('div');
				p.className = \`piece \${col}-piece\`;
				cell.appendChild(p);
			}

			function onCellClick(r, c){
				if(turn !== 'white' || isAITurn){
					return;
				}
				const cell = getCell(r, c);
				const piece = cell.querySelector('.piece');
				if(piece && piece.classList.contains('white-piece')){
					deselect();
					piece.classList.add('selected');
					selected ={r, c, el: piece, king: piece.classList.contains('king')};
				}else if(selected && !piece){
					const move = checkMove(selected.r, selected.c, r, c, 'white', selected.king);
					if(move.valid){
						applyMove(selected.r, selected.c, r, c, move.cap);
						playSound(!!move.cap);
						if(move.cap && canJumpAgain(r, c, 'white', selected.king)){
							selected ={r, c, el: getCell(r,c).querySelector('.piece'), king: getCell(r,c).querySelector('.piece').classList.contains('king')};
							selected.el.classList.add('selected');
						}else{
							endTurn();
						}
					}
				}
			}

			function checkMove(sr, sc, tr, tc, col, isKing){
				const dr = tr - sr, dc = tc - sc, absR = Math.abs(dr), absC = Math.abs(dc);
				if(cfg.ortho){
					if(absR + absC === 1){
						if(!isKing && ((col === 'white' && dr > 0) || (col === 'black' && dr < 0))){
							return {valid:false};
						}
						return{valid: true, cap: null};
					}
					if(absR + absC === 2 && (absR === 2 || absC === 2)){
						const mr = sr + dr/2, mc = sc + dc/2, mid = getCell(mr, mc).querySelector('.piece');
						if(mid && !mid.classList.contains(col+'-piece')){
							return{valid: true, cap:{r: mr, c: mc}};
						}
					}
					return{valid: false};
				}
				if(absR !== absC){
					return{valid: false};
				}
				if(absR === 1){
					if(!isKing && !cfg.back && ((col === 'white' && dr>0) || (col === 'black' && dr<0))){
						return{valid: false};
					}
					return{valid: true, cap: null};
				}
				if(absR === 2){
					const mr = sr + dr/2, mc = sc + dc/2, mid = getCell(mr, mc).querySelector('.piece');
					if(mid && !mid.classList.contains(col+'-piece')){
						if(!isKing && !cfg.kingEat && mid.classList.contains('king')){
							return{valid: false};
						}
						return{valid: true, cap:{r: mr, c: mc}};
					}
				}
				if(isKing && cfg.fly && absR > 1){
					let enemies = [], stepR = dr/absR, stepC = dc/absC;
					for(let i = 1; i < absR; i++){
						const p = getCell(sr+i*stepR, sc+i*stepC).querySelector('.piece');
						if(p){
							if(p.classList.contains(col + '-piece')){
								return{valid: false};
							}
							enemies.push({r: sr + i*stepR, c: sc + i*stepC});
						}
					}
					if(enemies.length === 0){
						return{valid: true, cap: null};
					}
					if(enemies.length === 1){
						return{valid: true, cap: enemies[0]};
					}
				}
				return{valid: false};
			}

			function applyMove(sr, sc, tr, tc, cap){
				const p = getCell(sr, sc).querySelector('.piece');
				getCell(tr, tc).appendChild(p);
				if(cap){
					getCell(cap.r, cap.c).querySelector('.piece').remove();
				}
				if((turn === 'white' && tr === 0) || (turn === 'black' && tr === cfg.s-1)){
					p.classList.add('king');
				}
			}

			function canJumpAgain(r, c, col, isKing){
				const steps = cfg.ortho ? [[0,2],[0,-2],[2,0],[-2,0]] : [[2,2],[2,-2],[-2,2],[-2,-2]];
				return steps.some(s => {
					const tr = r + s[0], tc = c + s[1];
					return tr >= 0 && tr < cfg.s && tc >= 0 && tc < cfg.s && !getCell(tr,tc).querySelector('.piece') && checkMove(r, c, tr, tc, col, isKing).cap;
				});
			}

			function endTurn(){
				deselect();
				turn = (turn === 'white') ? 'black' : 'white';
				document.getElementById('status').innerText = ((turn === 'white' ? "White" : "Black") + " to move.");
				setTimeout(() => {
					if(checkWin()){
						return;
					}
					if(turn === 'black'){
						isAITurn = true;
						setTimeout(cpuBrain, 700);
					}
				}, 600);
			}

			function cpuBrain(){
				const pieces = document.querySelectorAll('.black-piece');
				let moves = [];
				pieces.forEach(p => {
					const r = parseInt(p.parentElement.dataset.r), c = parseInt(p.parentElement.dataset.c), isKing = p.classList.contains('king');
					const range = (isKing && cfg.fly) ? cfg.s - 1 : 2;
					for(let dr = -range; dr <= range; dr++){
						for(let dc = -range; dc <= range; dc++){
							let tr = r + dr, tc = c + dc;
							if(tr >= 0 && tr < cfg.s && tc >= 0 && tc < cfg.s && !getCell(tr,tc).querySelector('.piece')){
								const m = checkMove(r, c, tr, tc, 'black', isKing);
								if(m.valid){
									moves.push({r, c, tr, tc, cap: m.cap});
								}
							}
						}
					}
				});
				if(moves.length > 0){
					const best = moves.sort((a,b) => (b.cap ? 1:0) - (a.cap ? 1:0))[0];
					applyMove(best.r, best.c, best.tr, best.tc, best.cap);
					playSound(!!best.cap);
					if(best.cap && canJumpAgain(best.tr, best.tc, 'black', getCell(best.tr, best.tc).querySelector('.piece').classList.contains('king'))){
						setTimeout(cpuBrain, 600);
					}else{
						isAITurn = false;
						endTurn();
					}
				}else{
					alert("You Win! CPU is blocked.");
					window.parent.postMessage('RELOAD_REQUEST','*');
				}
			}

			function checkWin(){
				const w = document.querySelectorAll('.white-piece').length, b = document.querySelectorAll('.black-piece').length;
				if(w === 0){
					alert("GAME OVER! Black Wins."); window.parent.postMessage('RELOAD_REQUEST','*');
					return true;
				}
				if(b === 0){
					alert("VICTORY! You defeated the CPU.");
					window.parent.postMessage('RELOAD_REQUEST','*');
					return true;
				}
				return false;
			}

			function getCell(r, c){
				return document.querySelector(\`[data-r='\${r}'][data-c='\${c}']\`);
			}

			function deselect(){
				document.querySelectorAll('.piece').forEach(p => p.classList.remove('selected'));
				selected = null;
			}
		<\/script>
	</body>
</html>` },

	// --- Backgammon ---
	'Games_Backgammon.html': { name: `Backgammon`, content: `<!DOCTYPE html>
<html lang="en"><!--G09#019 - Samuele - Backgammon-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<title>Backgammon</title>
	<style>
		:root{
			--wood: #3e2723;
			--felt: #1b5e20;
			--accent: #f1c40f;
		}
		body{
			background: #121212;
			font-family: sans-serif;
			display: flex;
			flex-direction: column;
			align-items: center;
			color: white;
			margin: 0;
			padding: 10px;
			-webkit-tap-highlight-color: transparent;
			user-select: none;
			touch-action: manipulation;
		}
		canvas{
			background: var(--felt);
			border: 10px solid var(--wood);
			border-radius: 12px;
			max-width: 100%;
			height: auto;
			cursor: pointer;
		}
		.panel{
			display: flex;
			width: 100%;
			max-width: 660px;
			flex-wrap: wrap; 
			justify-content: center;
			align-items: center;
			background: #252525;
			padding: 15px;
			border-radius: 12px;
			margin-top: 10px;
			box-sizing: border-box;
			gap: 10px;
		}
		#dice-ui{
			font-size: 2em;
			min-width: 50px;
			text-align: center;
		}
		.btn{
			padding: 12px;
			font-size: 0.9em;
			cursor: pointer;
			background: #c0392b;
			border: none;
			color: white;
			border-radius: 6px;
			font-weight: bold;
			flex: 1;
			min-width: 80px;
		}
		.btn-undo{
			background: #2980b9;
		}
		.btn:disabled{
			opacity: 0.3;
		}
		.score-container{
			width: 100%;
			display: flex;
			justify-content: space-around;
			margin-top: 5px;
			font-size: 0.9em;
			border-top: 1px solid #444;
			padding-top: 10px;
		}
		@media (min-width: 850px){
			#game-container{
				display: flex;
				flex-direction: row;
				align-items: flex-start;
				gap: 20px;
			}
			.panel{
				flex-direction: column;
				width: 180px;
				flex-wrap: nowrap;
				margin-top: 0;
				height: 540px;
				justify-content: flex-start;
			}
			.btn{
				width: 100%;
				flex: 0 0 auto;
				margin-bottom: 5px;
			}
			#dice-ui{
				margin-bottom: 20px;
				font-size: 3em;
			}
			.score-container{
				flex-direction: column;
				align-items: center;
				gap: 10px;
				margin-top: auto;
				border-top: none;
			}
		}
	</style>
	</head>
	<body>
		<div id="status" style="margin-bottom:10px">Roll the dice to play</div>
		<div id="game-container">
			<canvas id="board" width="660" height="540"></canvas>
			<div class="panel">
				<div id="dice-ui" style="font-size:3em; margin-bottom:10px">üé≤</div>
				<button id="roll-btn" class="btn">ROLL THE DICE</button>
				<button id="undo-btn" class="btn btn-undo" disabled>UNDO</button>
				<div style="margin-top:20px; text-align:center">
					‚ö™ YOU: <span id="w-off">0</span>/15<br/>
					‚ö´ AI: <span id="b-off">0</span>/15
				</div>
			</div>
		</div>
		<script>
			const CANVAS = document.getElementById('board');
			const CTX = CANVAS.getContext('2d');
			const ROLL_BTN = document.getElementById('roll-btn');
			const UNDO_BTN = document.getElementById('undo-btn');
			const BW = 660, BH = 540, TW = 46, TH = 200, PR = 18;
			let history = [];
			let game ={board: [2, 0, 0, 0, 0, -5, 0, -3, 0, 0, 0, 5, -5, 0, 0, 0, 3, 0, 5, 0, 0, 0, 0, -2], bar:{ 1: 0, "-1": 0 }, off:{ 1: 0, "-1": 0 }, turn: 1, dice: [], moves: [], selected: null };

			function getX(i){
				let col = i < 12 ? 11 - i : i - 12;
				let x = col*TW + 32;
				if(col >= 6){
					x += 45;
				}
				return x;
			}

			function draw(){
				CTX.fillStyle = "#3e2723";
				CTX.fillRect(0, 0, BW, BH);
				CTX.fillStyle = "#1b5e20";
				CTX.fillRect(10, 10, BW - 20, BH - 20);
				for(let i = 0; i < 24; i++){
					CTX.fillStyle = (i % 2 === 0) ? "#d7ccc8" : "#8d6e63";
					let x = getX(i), y = i >= 12 ? 10 : BH - 10;
					CTX.beginPath();
					CTX.moveTo(x, y);
					CTX.lineTo(x + TW, y);
					CTX.lineTo(x + TW/2, i >= 12 ? TH + 10 : BH - TH - 10);
					CTX.fill();
					let n = game.board[i], count = Math.abs(n), col = n > 0 ? "#fff" : "#222";
					for(let j = 0; j < count; j++){
						CTX.fillStyle = col;
						CTX.beginPath();
						CTX.arc(x + TW/2, i >= 12 ? (j*32 + 35) : (BH - j*32 - 35), PR, 0, 7);
						CTX.fill();
						CTX.stroke();
						if(game.selected === i && j === count - 1){
							CTX.strokeStyle = "#f1c40f";
							CTX.lineWidth = 3;
							CTX.stroke();
							CTX.strokeStyle = "#000";
							CTX.lineWidth = 1;
						}
					}
				}
				document.getElementById('w-off').innerText = game.off[1];
				document.getElementById('b-off').innerText = game.off[-1];
			}

			ROLL_BTN.onclick = () => {
				if(game.turn === 1 && game.moves.length === 0){
					history = [];
					rollDice();
				}
			};

			UNDO_BTN.onclick = () => {
				if(history.length > 0){
					game = JSON.parse(history.pop());
					UNDO_BTN.disabled = history.length === 0;
					draw();
				}
			};

			function rollDice(){
				game.dice = [Math.floor(Math.random()*6) + 1, Math.floor(Math.random()*6) + 1];
				game.moves = (game.dice[0] === game.dice[1]) ? [game.dice[0], game.dice[0], game.dice[0], game.dice[0]] : [...game.dice];
				document.getElementById('dice-ui').innerText = game.dice.join(" ");
				if(game.turn === -1){
					document.getElementById('status').innerText = "AI is playing...";
					setTimeout(aiPlay, 1000);
				}else{
					document.getElementById('status').innerText = "You to move!";
				}
				draw();
			}

			CANVAS.onclick = (e) => {
				if(game.turn !== 1 || game.moves.length === 0){
					return;
				}
				const rect = CANVAS.getBoundingClientRect();
				const x = (e.clientX - rect.left)*(BW/rect.width);
				const y = (e.clientY - rect.top)*(BH/rect.height);
				let clicked = -1;
				for(let i = 0; i < 24; i++){
					let px = getX(i);
					if(x >= px && x <= px + TW){
						clicked = i;
					}
				}
				if(x > BW - 60){
					clicked = 99;
				}
				if(game.selected === null){
					if(game.bar[1] > 0){
						game.selected = "bar";
					}else if(clicked !== -1 && game.board[clicked] > 0){
						game.selected = clicked;
					}
				}else{
					history.push(JSON.stringify(game));
					UNDO_BTN.disabled = false;
					if(!executeMove(game.selected, clicked)){
						history.pop();
						UNDO_BTN.disabled = history.length === 0;
					}
					game.selected = null;
				}
				draw();
			};

			function executeMove(f, t){
				let mIdx = game.moves.findIndex(m => {
					let target = (f === "bar") ? m - 1 : f + m;
					if(t === 99 && f >= 18 && target >= 24){
						return true;
					}
					return target === t;
				});
				if(mIdx === -1){
					return false;
				}
				if(t === 99){
					game.board[f]--; game.off[1]++;
				}else{
					if(game.board[t] < -1){
						return false;
					}
					if(game.board[t] === -1){
						game.board[t] = 0;
						game.bar[-1]++;
					}
					if(f === "bar"){
						game.bar[1]--;
					}else{
						game.board[f]--;
					}
					game.board[t]++;
				}
				game.moves.splice(mIdx, 1);
				if(game.moves.length === 0){
					game.turn = -1;
					setTimeout(rollDice, 800);
				}
				return true;
			}

			function aiPlay(){
				if(game.moves.length > 0){
					let moved = false;
					for(let m of game.moves){
						for(let i = 23; i >= 0; i--){
							if(game.board[i] < 0){
								let target = i - m;
								if(target >= 0 && game.board[target] <= 1){
									if(game.board[target] === 1){
										game.board[target] = 0;
										game.bar[1]++;
									}
									game.board[i]++;
									game.board[target]--;
									game.moves.splice(game.moves.indexOf(m), 1);
									moved = true; break;
								}
							}
						}
						if(moved){
							break;
						}
					}
					if(moved){
						draw();
						setTimeout(aiPlay, 600);
					}else{
						game.moves = [];
						game.turn = 1;
						document.getElementById('status').innerText = "You to move!";
						draw();
					}
				}else{
					game.turn = 1;
					document.getElementById('status').innerText = "You to move!";
					draw();
				}
			}

			draw();
		<\/script>
	</body>
</html>` },

	// --- Solitario carte napoletane ---
	'Games_Solitario carte napoletane.html': { name: `Solitario carte napoletane`, content: `<!DOCTYPE html>
<html lang="en"><!--G10#020 - Armando - Solitario carte napoletane-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Solitario carte napoletane</title>
		<style>
			:root{
				--bg-color: #1b5e20;
				--bg-D: #F5C842;
				--bg-C: #4FC3F7;
				--bg-S: #CE93D8;
				--bg-B: #FFAB76;
				--card-width: clamp(40px, 13vw, 85px); 
				--card-height: clamp(58px, 19vw, 125px);
				--gap: clamp(2px, 1.2vw, 15px);
				--overlap: clamp(50px, 12.5vw, 100px);
				--font-val: clamp(9px, 3vw, 16px);
			}
			*, *::before, *::after{
				box-sizing: border-box;
			}
			body{
				font-family: 'Arial', sans-serif;
				background-color: var(--bg-color);
				color: white;
				display: flex;
				flex-direction: column;
				align-items: center;
				margin: 0;
				user-select: none;
				touch-action: manipulation;
				min-height: 100dvh;
				padding: 8px 4px;
			}
			h1{
				font-size: clamp(20px, 5vw, 32px);
				margin: 0 0 15px;
				text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
				font-weight: 300;
				letter-spacing: 1px;
			}
			button{
				padding: 10px 25px;
				background: #ffffff;
				color: #1b5e20;
				border: none;
				border-radius: 50px;
				cursor: pointer;
				font-weight: bold;
				font-size: 14px;
				margin-bottom: 25px;
				box-shadow: 0 4px 15px rgba(0,0,0,0.2);
				transition: transform 0.2s, background 0.2s;
			}
			button:active{
				transform: scale(0.95);
			}
			.top-row{
				display: flex;
				justify-content: space-between;
				align-items: flex-start;
				width: 100%;
				max-width: 900px;
				margin-bottom: clamp(10px, 2.5vw, 30px);
				gap: 8px;
			}
			.deck-area, .foundation-area{
				display: flex;
				gap: var(--gap);
				flex-wrap: nowrap;
				flex-shrink: 0;
			}
			.tableau{
				display: flex;
				justify-content: center;
				gap: var(--gap);
				width: 100%;
				max-width: 900px;
			}
			.column{
				width: var(--card-width);
				min-height: var(--card-height);
				border: 2px dashed rgba(255,255,255,0.15);
				border-radius: 6px;
				flex-shrink: 0;
			}
			.waste-slot{
				width: var(--card-width);
				height: var(--card-height);
				position: relative;
				border: 2px solid rgba(255,255,255,0.2);
				border-radius: 6px;
				flex-shrink: 0;
			}
			.foundation-slot, .deck-slot{
				width: var(--card-width);
				height: var(--card-height);
				border: 2px solid rgba(255,255,255,0.3);
				border-radius: 6px;
				display: flex;
				justify-content: center;
				align-items: center;
				font-size: var(--font-val);
				color: rgba(255,255,255,0.35);
				position: relative;
				cursor: pointer;
				flex-shrink: 0;
				touch-action: manipulation;
			}
			.foundation-slot.valid-target{
				border-color: #ffeb3b;
				box-shadow: 0 0 10px #ffeb3b88;
			}
			.card{
				width: var(--card-width);
				height: var(--card-height);
				background-color: white;
				border-radius: 6px;
				border: 1px solid #999;
				color: #111;
				position: relative;
				box-shadow: 0 2px 4px rgba(0,0,0,0.4);
				cursor: pointer;
				flex-shrink: 0;
				touch-action: manipulation;
			}
			.card.suit-D{
				background-color: var(--bg-D);
				border-color: #c8a000;
			}
			.card.suit-C{
				background-color: var(--bg-C);
				border-color: #0288d1;
			}
			.card.suit-S{
				background-color: var(--bg-S);
				border-color: #9c27b0;
			}
			.card.suit-B{
				background-color: var(--bg-B);
				border-color: #e65100;
			}
			.column .card{
				margin-bottom: calc(-1 * var(--overlap));
			}
			.foundation-slot .card, .waste-slot .card{
				position: absolute;
				top: 0; left: 0;
				margin-bottom: 0;
			}
			.foundation-slot .card{
				pointer-events: none;
			}
			.foundation-slot .card:last-child{
				pointer-events: auto;
			}
			.card.back{
				background: #b71c1c linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%);
				background-size: 10px 10px;
			}
			.card.selected{
				box-shadow: 0 0 12px #ffeb3b;
				transform: translateY(-8px);
				z-index: 1000 !important;
			}
			.card-val{
				position: absolute;
				font-weight: bold;
				font-size: calc(var(--font-val) * 0.9);
				color: #111;
				pointer-events: none;
				line-height: 1;
				white-space: nowrap;
			}
			.v-tl{
				top: 4px;
				left: 5px;
			}
			.v-tr{
				top: 4px;
				right: 5px;
			}
			.v-bl{
				bottom: 4px;
				left: 5px;
				transform: rotate(180deg);
			}
			.v-br{
				bottom: 4px;
				right: 5px;
				transform: rotate(180deg);
			}
			.suit-icon{
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				font-size: calc(var(--font-val) * 2.5);
				opacity: 0.8;
			}
			.column .card:not(:last-child){
				cursor: default;
			}
			*{
				-webkit-tap-highlight-color: transparent;
			}
			button:focus, .card:focus {
				outline: none;
			}
			@media (max-width: 380px){
				.top-row{
					flex-direction: column;
					align-items: center;
				}
				.deck-area, .foundation-area{
					justify-content: center;
				}
			}
		</style>
	</head>
	<body>
		<h1>Solitario carte napoletane</h1>
		<button onclick="initGame()">Nuova Partita</button>
		<div class="top-row">
			<div class="deck-area">
				<div id="deck" class="deck-slot" onclick="handleDeckClick()">Mazzo</div>
				<div id="waste" class="waste-slot"></div>
			</div>
			<div class="foundation-area" id="foundation-area">
				<div class="foundation-slot" data-fslot="0" onclick="handleFoundationSlotClick(0)">A</div>
				<div class="foundation-slot" data-fslot="1" onclick="handleFoundationSlotClick(1)">A</div>
				<div class="foundation-slot" data-fslot="2" onclick="handleFoundationSlotClick(2)">A</div>
				<div class="foundation-slot" data-fslot="3" onclick="handleFoundationSlotClick(3)">A</div>
			</div>
		</div>
		<div class="tableau" id="tableau">
			<div class="column" id="col-0" onclick="handleEmptyColumnClick(0)"></div>
			<div class="column" id="col-1" onclick="handleEmptyColumnClick(1)"></div>
			<div class="column" id="col-2" onclick="handleEmptyColumnClick(2)"></div>
			<div class="column" id="col-3" onclick="handleEmptyColumnClick(3)"></div>
			<div class="column" id="col-4" onclick="handleEmptyColumnClick(4)"></div>
		</div>
		<script>
			const SUITS = ['S', 'C', 'D', 'B'];
			const IS_MULTIPLE_SELECTION_POSSIBLE = false;
			let foundationSlots = [
				{suit:null, value:0},
				{suit:null, value:0},
				{suit:null, value:0},
				{suit:null, value:0}
			];
			let deckData = [];
			let selection = null;

			function initGame(){
				deckData = [];
				selection = null;
				foundationSlots = [{suit:null,value:0},{suit:null,value:0},{suit:null,value:0},{suit:null,value:0}];
				document.getElementById('waste').innerHTML = '';
				document.querySelectorAll('.foundation-slot').forEach(s => {
					s.querySelectorAll('.card').forEach(c => c.remove());
				});
				for(let s of SUITS){
					for(let v = 1; v <= 10; v++){
						deckData.push({ suit: s, value: v });
					}
				}
				deckData.sort(() => Math.random() - 0.5);
				for(let i = 0; i < 5; i++){
					const col = document.getElementById(\`col-\${i}\`);
					col.innerHTML = '';
					const count = 5 - i;
					for(let j = 0; j < count; j++){
						addCard(col, deckData.pop(), j === count - 1);
					}
				}
				updateDeckUI();
			}

			function addCard(container, data, faceUp){
				const card = document.createElement('div');
				card.className = \`card suit-\${data.suit}\`;
				card.dataset.suit = data.suit;
				card.dataset.value = data.value;
				card.dataset.faceUp = faceUp ? "true" : "false";
				if(faceUp){
					renderCardContent(card);
				}else{
					card.classList.add('back');
				}
				card.addEventListener('click', e => {
					e.stopPropagation();
					handleCardClick(card);
				});
				container.appendChild(card);
			}

			function renderCardContent(card){
				const v = card.dataset.value;
				const s = card.dataset.suit;
				const suitSymbols = {'D': 'üü°', 'C': 'üç∑', 'S': '‚öîÔ∏è', 'B': 'ü™µ'};
				const symbol = suitSymbols[s] || '';
				card.innerHTML = \`
					<div class="card-val v-tl">\${v}\${symbol}</div>
					<div class="suit-icon">\${symbol}</div>
					<div class="card-val v-br">\${v}\${symbol}</div>
				\`;
				card.classList.remove('back');
				card.dataset.faceUp = "true";
			}

			function handleCardClick(card){
				if(card.dataset.faceUp === "false"){
					return;
				}
				const parent = card.parentElement;
				const inFoundation = parent.classList.contains('foundation-slot');
				const inWaste = parent.classList.contains('waste-slot');
				const inColumn = parent.classList.contains('column');
				if(!selection){
					if(inFoundation){
						const all = parent.querySelectorAll('.card');
						if(card !== all[all.length - 1]){
							return;
						}
						selection = {
							cards: [card],
							origin: parent,
							originType: 'foundation',
							fslot: parseInt(parent.dataset.fslot),
							value: parseInt(card.dataset.value),
							suit: card.dataset.suit
						};
					}else{
						if(IS_MULTIPLE_SELECTION_POSSIBLE){
							const siblings = Array.from(parent.children);
							const idx = siblings.indexOf(card);
							selection = {
								cards: siblings.slice(idx),
								origin: parent,
								originType: inWaste ? 'waste' : 'column',
								value: parseInt(card.dataset.value),
								suit: card.dataset.suit
							};
						}else{
							if(card !== parent.lastElementChild){
								console.log("Puoi muovere solo l'ultima carta della colonna!");
								return; 
							}
							selection = {
								cards: [card],
								origin: parent,
								originType: inWaste ? 'waste' : 'column',
								value: parseInt(card.dataset.value),
								suit: card.dataset.suit
							};
						}
					}
					selection.cards.forEach(c => c.classList.add('selected'));
					highlightValidFoundations();
				}else{
					if(inFoundation){
						handleFoundationSlotClick(parseInt(parent.dataset.fslot));
					}else if(inColumn &&
						parseInt(card.dataset.value) === selection.value + 1 &&
						card.dataset.suit !== selection.suit &&
						card === parent.lastElementChild){
						moveSelectionToColumn(parent);
					}else{
						clearSelection();
					}
				}
			}

			function handleEmptyColumnClick(idx){
				const col = document.getElementById(\`col-\${idx}\`);
				if(selection && col.children.length === 0){
					moveSelectionToColumn(col);
				}else{
					clearSelection();
				}
			}

			function handleFoundationSlotClick(fslotIdx){
				clearHighlights();
				if(!selection){
					return;
				}
				if(selection.cards.length > 1){
					clearSelection();
					return;
				}
				const card = selection.cards[0];
				const cardSuit = card.dataset.suit;
				const cardValue = parseInt(card.dataset.value);
				const fs = foundationSlots[fslotIdx];
				const valid = (fs.suit === null && cardValue === 1)||(fs.suit === cardSuit && cardValue === fs.value + 1);
				if(valid){
					placeCardOnFoundation(fslotIdx, card);
				}else{
					clearSelection();
				}
			}

			function placeCardOnFoundation(fslotIdx, card){
				const destSlot = document.querySelector(\`.foundation-slot[data-fslot="\${fslotIdx}"]\`);
				const origin = selection.origin;
				const originType = selection.originType;
				const originFslot = selection.fslot;
				card.classList.remove('selected');
				origin.removeChild(card);
				destSlot.appendChild(card);
				foundationSlots[fslotIdx].suit = card.dataset.suit;
				foundationSlots[fslotIdx].value = parseInt(card.dataset.value);
				if(originType === 'foundation'){
					foundationSlots[originFslot].value -= 1;
					if(foundationSlots[originFslot].value === 0){
						foundationSlots[originFslot].suit = null;
					}
					refreshFoundationPointerEvents(origin);
				}
				selection = null;
				refreshFoundationPointerEvents(destSlot);
				revealTopCard(origin);
				checkWin();
			}
	
			function moveSelectionToColumn(destCol){
				const origin = selection.origin;
				const originType = selection.originType;
				selection.cards.forEach(c => {
					c.classList.remove('selected');
					destCol.appendChild(c);
				});
				if(originType === 'foundation'){
					const fslotIdx = selection.fslot;
					foundationSlots[fslotIdx].value -= 1;
					if(foundationSlots[fslotIdx].value === 0){
						foundationSlots[fslotIdx].suit = null;
					}
					refreshFoundationPointerEvents(origin);
				}
				selection = null;
				clearHighlights();
				revealTopCard(origin);
			}

			function refreshFoundationPointerEvents(slot){
				if(!slot.classList.contains('foundation-slot')){
					return;
				}
				const cards = slot.querySelectorAll('.card');
				cards.forEach((c, i) => {
					c.style.pointerEvents = (i === cards.length - 1) ? 'auto' : 'none';
				});
			}

			function revealTopCard(container){
				if(!container){
					return;
				}
				const last = container.lastElementChild;
				if(last && last.classList.contains('card') && last.dataset.faceUp === "false"){
					renderCardContent(last);
				}
			}

			function handleDeckClick(){
				const waste = document.getElementById('waste');
				clearSelection();
				if(deckData.length > 0){
					const emptyCol = findEmptyColumn();
					const cardData = deckData.pop();
					addCard(emptyCol || waste, cardData, true);
				}else{
					const wasteCards = Array.from(waste.children);
					if(wasteCards.length === 0){
						alert("Nessuna carta rimasta nel mazzo o negli scarti!");
						return;
					}
					wasteCards.reverse().forEach(c =>
						deckData.push({ suit: c.dataset.suit, value: parseInt(c.dataset.value) })
					);
					waste.innerHTML = '';
				}
				updateDeckUI();
			}

			function findEmptyColumn(){
				for(let i = 0; i < 5; i++){
					const col = document.getElementById(\`col-\${i}\`);
					if(col.children.length === 0){
						return col;
					}
				}
				return null;
			}

			function clearSelection(){
				if(selection){
					selection.cards.forEach(c => c.classList.remove('selected'));
					selection = null;
				}
				clearHighlights();
			}

			function highlightValidFoundations(){
				if(!selection || selection.cards.length !== 1){
					return;
				}
				const { suit, value } = selection;
				if(value === 1){
					const firstEmpty = foundationSlots.findIndex(fs => fs.suit === null);
					if(firstEmpty !== -1){
						document.querySelector(\`.foundation-slot[data-fslot="\${firstEmpty}"]\`).classList.add('valid-target');
					}
				}else{
					foundationSlots.forEach((fs, i) => {
						if(fs.suit === suit && value === fs.value + 1){
							document.querySelector(\`.foundation-slot[data-fslot="\${i}"]\`).classList.add('valid-target');
						}
					});
				}
			}

			function clearHighlights(){
				document.querySelectorAll('.foundation-slot.valid-target').forEach(s => s.classList.remove('valid-target'));
			}

			function updateDeckUI(){
				const d = document.getElementById('deck');
				if(deckData.length > 0){
					d.className = 'deck-slot card back';
					d.innerHTML = '';
				}else{
					d.className = 'deck-slot';
					d.innerHTML = '‚ü≥';
				}
			}

			function checkWin(){
				if(foundationSlots.every(fs => fs.value === 10)){
					setTimeout(() => alert('üéâ Hai vinto! Complimenti!'), 100);
				}
			}

			initGame();
		<\/script>
	</body>
</html>` },

	// --- Colors Pro ---
	'Tools_Colors Pro.html': { name: `Colors Pro`, content: `<!DOCTYPE html>
<html lang="en"><!--T01#005 - Irene - Colors Pro-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Colors and their codes</title>
		<style>
			body{
				margin: 0;
				min-height: 100vh;
				display: flex;
				justify-content: center;
				align-items: center;
				transition: background-color 0.1s;
				font-family: sans-serif;
			}
			#optionZone{
				background-color: rgba(255, 255, 255, 0.85);
				text-align: center;
				padding: 25px;
				border-radius: 20px;
				box-shadow: 0 10px 30px rgba(0,0,0,0.3);
				backdrop-filter: blur(5px);
				width: 600px;
				max-width: 95%;
				max-height: 95vh;
				overflow-y: auto;
				user-select: none;
			}
			#sliders{
				display: block;
				width: 100%;
				margin-top: 20px;
			}
			.slider-row{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 15px;
				width: 100%;
			}
			.slider-row label{
				flex-basis: 50px;
				flex-shrink: 0;
				text-align: right;
				font-weight: bold;
				font-size: 0.9em;
			}
			.slider{
				-webkit-appearance: none;
				appearance: none;
				flex-grow: 1;
				height: 8px;
				border-radius: 5px;
				background: #ddd;
				outline: none;
			}
			.slider::-webkit-slider-thumb{
				-webkit-appearance: none;
				width: 20px;
				height: 20px;
				background: #0075FF;
				cursor: pointer;
				border-radius: 50%;
				border: 2px solid white;
			}
			output{
				background: #FFFF00;
				flex-basis: 45px;
				flex-shrink: 0;
				text-align: center;
				font-family: monospace;
				font-weight: bold;
				border-radius: 4px;
				padding: 2px 5px;
			}
			#valueHexCode{
				cursor: pointer;
				padding: 5px 15px;
				transition: transform 0.1s;
			}
			#valueHexCode:active{
				transform: scale(0.9);
			}
			.btn-group{
				margin: 10px 0;
			}
			.btn-group button{
				cursor: pointer;
				padding: 8px 12px;
				margin: 2px;
				border: 1px solid #ccc;
				border-radius: 5px;
				font-weight: bold;
				min-width: 75px;
				background: white;
				outline: none;
				user-select: none;
			}
			#more, #less{
				min-width: 0 !important;
				width: auto;
				padding-left: 10px;
				padding-right: 10px;
			}
			.control-group{
				display: flex;
				flex-direction: column;
				gap: 8px;
				margin-top: 15px;
				user-select: none;
			}
			.button-row{
				display: flex;
				justify-content: center;
				gap: 1px;
				flex-wrap: nowrap;
				width: 100%;
			}
			button.step{
				flex: 1;
				min-width: 25px;
				max-width: 45px;
				padding: 8px 0;
				margin: 0;
				font-size: 10px;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				font-weight: bold;
				box-sizing: border-box;
				outline: none;
				user-select: none;
			}
			.redButtons{
				background: #ff4d4d;
				color: white;
			}
			.greenButtons{
				background: #2ecc71;
				color: white;
			}
			.blueButtons{
				background: #3498db;
				color: white;
			}
			.grayButtons{
				background: #7f8c8d;
				color: white;
			}
			@media (max-width: 480px){
				button.step{
					min-width: 20px;
					padding: 10px 0;
					font-size: 10px;
				}
				.button-row {
					gap: 1px;
				}
				#optionZone{
					padding: 10px;
					width: 98%;
				}
				.btn-group button{
					padding: 10px 5px;
					min-width: 65px;
					font-size: 0.8em;
				}
				#more, #less{
					padding: 10px 8px;
				}
			}
		</style>
	</head>
	<body>
		<div id="optionZone">
			<h3 style="margin-top:0">HEX: <output id="valueHexCode" style="width: auto;" title="Clicca per copiare"></output></h3>
			<div class="btn-group">
				<button type="button" onclick="revert()">Revert</button>
				<button type="button" onclick="random()">Random</button>
				<button type="button" onclick="setColor(255, 255, 255)">White</button>
				<button type="button" onclick="setColor(0, 0, 0)">Black</button>
				<button id="more" type="button" onclick="showMore()">‚Üì</button>
				<button id="less" type="button" onclick="showLess()">‚Üë</button>
			</div>
			<div id="sliders">
				<div class="slider-row"><label>R</label> <input type="range" id="red" class="slider" oninput="setAndPatch(0)"/> <output id="valueR"></output></div>
				<div class="slider-row"><label>G</label> <input type="range" id="green" class="slider" oninput="setAndPatch(1)"/> <output id="valueG"></output></div>
				<div class="slider-row"><label>B</label> <input type="range" id="blue" class="slider" oninput="setAndPatch(2)"/> <output id="valueB"></output></div>
				<div class="slider-row"><label>Gray</label> <input type="range" id="gray" class="slider" oninput="setAndPatch(3)"/> <output id="valueGray"></output></div>
				<div class="slider-row"><label>Light</label> <input type="range" id="light" class="slider" oninput="setAndPatch(4)"/> <output id="valueLight"></output></div>
				<div class="slider-row"><label>C</label> <input type="range" id="cyan" class="slider" oninput="setAndPatch(5)"/> <output id="valueC"></output></div>
				<div class="slider-row"><label>M</label> <input type="range" id="magenta" class="slider" oninput="setAndPatch(6)"/> <output id="valueM"></output></div>
				<div class="slider-row"><label>Y</label> <input type="range" id="yellow" class="slider" oninput="setAndPatch(7)"/> <output id="valueY"></output></div>
				<div class="slider-row"><label>K</label> <input type="range" id="black" class="slider" oninput="setAndPatch(8)"/> <output id="valueK"></output></div>
			</div>
			<div id="colorButtons" class="control-group">
				<div class="button-row">
					<button class="redButtons step" onclick="changeColor(0,-20)">-20</button>
					<button class="redButtons step" onclick="changeColor(0,-10)">-10</button>
					<button class="redButtons step" onclick="changeColor(0,-5)">-5</button>
					<button class="redButtons step" onclick="changeColor(0,-2)">-2</button>
					<button class="redButtons step" onclick="changeColor(0,-1)">-1</button>
					<div style="width: 2px; flex-shrink: 0;"></div> <button class="redButtons step" onclick="changeColor(0, 1)">+1</button>
					<button class="redButtons step" onclick="changeColor(0, 2)">+2</button>
					<button class="redButtons step" onclick="changeColor(0, 5)">+5</button>
					<button class="redButtons step" onclick="changeColor(0, 10)">+10</button>
					<button class="redButtons step" onclick="changeColor(0, 20)">+20</button>
				</div>
				<div class="button-row">
					<button class="greenButtons step" onclick="changeColor(1,-20)">-20</button>
					<button class="greenButtons step" onclick="changeColor(1,-10)">-10</button>
					<button class="greenButtons step" onclick="changeColor(1,-5)">-5</button>
					<button class="greenButtons step" onclick="changeColor(1,-2)">-2</button>
					<button class="greenButtons step" onclick="changeColor(1,-1)">-1</button>
					<div style="width: 2px; flex-shrink: 0;"></div>
					<button class="greenButtons step" onclick="changeColor(1, 1)">+1</button>
					<button class="greenButtons step" onclick="changeColor(1, 2)">+2</button>
					<button class="greenButtons step" onclick="changeColor(1, 5)">+5</button>
					<button class="greenButtons step" onclick="changeColor(1, 10)">+10</button>
					<button class="greenButtons step" onclick="changeColor(1, 20)">+20</button>
				</div>
				<div class="button-row">
					<button class="blueButtons step" onclick="changeColor(2,-20)">-20</button>
					<button class="blueButtons step" onclick="changeColor(2,-10)">-10</button>
					<button class="blueButtons step" onclick="changeColor(2,-5)">-5</button>
					<button class="blueButtons step" onclick="changeColor(2,-2)">-2</button>
					<button class="blueButtons step" onclick="changeColor(2,-1)">-1</button>
					<div style="width: 2px; flex-shrink: 0;"></div>
					<button class="blueButtons step" onclick="changeColor(2, 1)">+1</button>
					<button class="blueButtons step" onclick="changeColor(2, 2)">+2</button>
					<button class="blueButtons step" onclick="changeColor(2, 5)">+5</button>
					<button class="blueButtons step" onclick="changeColor(2, 10)">+10</button>
					<button class="blueButtons step" onclick="changeColor(2, 20)">+20</button>
				</div>
				<div class="button-row">
					<button class="grayButtons step" onclick="changeGray(-20)">-20</button>
					<button class="grayButtons step" onclick="changeGray(-10)">-10</button>
					<button class="grayButtons step" onclick="changeGray(-5)">-5</button>
					<button class="grayButtons step" onclick="changeGray(-2)">-2</button>
					<button class="grayButtons step" onclick="changeGray(-1)">-1</button>
					<div style="width: 2px; flex-shrink: 0;"></div>
					<button class="grayButtons step" onclick="changeGray(1)">+1</button>
					<button class="grayButtons step" onclick="changeGray(2)">+2</button>
					<button class="grayButtons step" onclick="changeGray(5)">+5</button>
					<button class="grayButtons step" onclick="changeGray(10)">+10</button>
					<button class="grayButtons step" onclick="changeGray(20)">+20</button>
				</div>
			</div>
		</div>
		<script>
			const VALUES = [
				document.querySelector("#valueR"), document.querySelector("#valueG"), document.querySelector("#valueB"), 
				document.querySelector("#valueGray"), document.querySelector("#valueLight"), 
				document.querySelector("#valueC"), document.querySelector("#valueM"), 
				document.querySelector("#valueY"), document.querySelector("#valueK"), 
				document.querySelector("#valueHexCode")
			];

			const INPUTS = [
				document.querySelector("#red"), document.querySelector("#green"), document.querySelector("#blue"), 
				document.querySelector("#gray"), document.querySelector("#light"), 
				document.querySelector("#cyan"), document.querySelector("#magenta"), 
				document.querySelector("#yellow"), document.querySelector("#black")
			];

			const HIGHLIGHT_ERROR = false;
			let viewModes = ["Essential", "Mini", "Medium", "Maxi"];
			let currentModeIndex = viewModes.length - 1;

			function init(){
				for(let i = 0; i < 5; i++){
					INPUTS[i].min = 0; INPUTS[i].max = 255; INPUTS[i].step = 1;
				}
				for(let i = 5; i < 9; i++){
					INPUTS[i].min = 0; INPUTS[i].max = 1; INPUTS[i].step = 0.01;
				}
				setColor(255, 255, 255);
				VALUES[9].onclick = function(){
					navigator.clipboard.writeText(this.textContent);
					const oldText = this.textContent;
					this.textContent = "COPIATO!";
					setTimeout(() => {this.textContent = oldText; }, 800);
				};
			}

			function setAndPatch(component){
				const red = parseInt(INPUTS[0].value);
				const green = parseInt(INPUTS[1].value);
				const blue = parseInt(INPUTS[2].value);
				const gray = parseInt(INPUTS[3].value);
				const cyan = parseFloat(INPUTS[5].value);
				const magenta = parseFloat(INPUTS[6].value);
				const yellow = parseFloat(INPUTS[7].value);
				const black = parseFloat(INPUTS[8].value);
				if(component === 3){
					setColor(gray, gray, gray);
				}else if(component === 4){
					setBrightness();
				}else if(component < 3){
					setColor(red, green, blue);
				}else{
					setColor_CMYK(cyan, magenta, yellow, black);
				}
			}

			function getMin(){
				let min = (parseInt(INPUTS[0].value) <= parseInt(INPUTS[1].value)) ? parseInt(INPUTS[0].value) : parseInt(INPUTS[1].value);
				min = ((min <= parseInt(INPUTS[2].value)) ? min : parseInt(INPUTS[2].value));
				return min
			}

			function getMax(){
				let max = (parseInt(INPUTS[0].value) >= parseInt(INPUTS[1].value)) ? parseInt(INPUTS[0].value) : parseInt(INPUTS[1].value);
				max = ((max >= parseInt(INPUTS[2].value)) ? max : parseInt(INPUTS[2].value));
				return max
			}

			function getColor(){
				sRed = (parseInt(VALUES[0].textContent).toString(16)).padStart(2, '0');
				sGreen = (parseInt(VALUES[1].textContent).toString(16)).padStart(2, '0');
				sBlue = (parseInt(VALUES[2].textContent).toString(16)).padStart(2, '0');
				return ("#" + sRed + sGreen + sBlue);
			}

			function isPossibleToModifyLight(){
				if((parseInt(INPUTS[4].value) > parseInt(VALUES[4].textContent))&&(getMax() === 255)){
					return false;
				}
				if((parseInt(INPUTS[4].value) < parseInt(VALUES[4].textContent))&&(getMin() === 0)){
					return false;
				}
				return true;
			}

			function playErrorSound(){
				const context = new (window.AudioContext || window.webkitAudioContext)();
				const oscillator = context.createOscillator();
				const gain = context.createGain();
				oscillator.type = 'sine';
				oscillator.frequency.setValueAtTime(150, context.currentTime);
				gain.gain.setValueAtTime(0.1, context.currentTime);
				gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
				oscillator.connect(gain);
				gain.connect(context.destination);
				oscillator.start();
				oscillator.stop(context.currentTime + 0.2);
			}

			function flashError(){
				const output = document.getElementById("valueHexCode");
				output.style.transition = "0.1s";
				output.style.color = "red";
				setTimeout(() => {
					output.style.color = "black";
				}, 200);
				playErrorSound();
			}

			function setBrightness(){
				if(isPossibleToModifyLight()){
					if(parseInt(INPUTS[4].value) != parseInt(VALUES[4].textContent)){
						for(let i = 0; i < 3; i++){
							INPUTS[i].value = (parseInt(INPUTS[i].value) + parseInt(INPUTS[4].value) - parseInt(VALUES[4].textContent));
							VALUES[i].textContent = INPUTS[i].value;
						}
					}
					setColor(INPUTS[0].value, INPUTS[1].value, INPUTS[2].value);
					VALUES[4].textContent = INPUTS[4].value;
					INPUTS[3].value = parseInt((parseInt(VALUES[0].value) + parseInt(VALUES[1].value) + parseInt(VALUES[2].value))/3);
					VALUES[3].textContent = parseInt((parseInt(VALUES[0].value) + parseInt(VALUES[1].value) + parseInt(VALUES[2].value))/3);
					document.body.style.backgroundColor = getColor();
					VALUES[9].textContent = getColor();
					INPUTS[4].value = parseInt((getMax() + getMin())/2);
					VALUES[4].textContent = INPUTS[4].value;
				}else{
					if(HIGHLIGHT_ERROR){
						flashError();
					}
				}
				INPUTS[4].value = parseInt(VALUES[4].textContent);
			}

			function setColor(r, g, b){
				r = Math.round(r);
				g = Math.round(g);
				b = Math.round(b);
				[r, g, b].forEach((v, i) => {
					INPUTS[i].value = v;
					VALUES[i].textContent = v;
				});
				let avg = Math.round((r + g + b)/3);
				INPUTS[3].value = avg;
				VALUES[3].textContent = avg;
				let light = Math.round((Math.max(r,g,b) + Math.min(r,g,b))/2);
				INPUTS[4].value = light;
				VALUES[4].textContent = light;
				let dr = r/255, dg = g/255, db = b/255;
				let k = 1 - Math.max(dr, dg, db);
				let c = k === 1 ? 0 :(1 - dr - k)/(1 - k);
				let m = k === 1 ? 0 :(1 - dg - k)/(1 - k);
				let y = k === 1 ? 0 :(1 - db - k)/(1 - k);
				[c, m, y, k].forEach((v, i) => {
					INPUTS[i + 5].value = v.toFixed(2);
					VALUES[i + 5].textContent = v.toFixed(2);
				});
				let hex = "#" + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('').toUpperCase();
				VALUES[9].textContent = hex;
				document.body.style.backgroundColor = hex;
			}

			function setColor_CMYK(c, m, y, k){
				let r = 255*(1 - c)*(1 - k);
				let g = 255*(1 - m)*(1 - k);
				let b = 255*(1 - y)*(1 - k);
				setColor(r, g, b);
			}

			function revert(){
				setColor(255 - INPUTS[0].value, 255 - INPUTS[1].value, 255 - INPUTS[2].value);
			}

			function random(){
				setColor(Math.random()*255, Math.random()*255, Math.random()*255);
			}

			function changeColor(index, delta){
				let v = [parseInt(INPUTS[0].value), parseInt(INPUTS[1].value), parseInt(INPUTS[2].value)];
				if((v[index] + delta >= 0)&&(v[index] + delta <= 255)){
					v[index] += delta;
					setColor(v[0], v[1], v[2]);
				}else{
					if(HIGHLIGHT_ERROR){
						flashError();
					}
				}
			}

			function changeGray(delta){
				let r = parseInt(INPUTS[0].value) + delta;
				let g = parseInt(INPUTS[1].value) + delta;
				let b = parseInt(INPUTS[2].value) + delta;
				let flag = ((r >= 0)&&(r <= 255)&&(g >= 0)&&(g <= 255)&&(b >= 0)&&(b <= 255));
				if(flag){
					setColor(r, g, b);
				}else{
					if(HIGHLIGHT_ERROR){
						flashError();
					}
				}
			}

			function changeSetting(direction){
				if((currentModeIndex == 0 && direction == -1)||(currentModeIndex == viewModes.length - 1 && direction == 1)){
					return;
				}
				currentModeIndex += direction;
				const mode = viewModes[currentModeIndex];
				const rows = document.querySelectorAll(".slider-row");
				const colorBtnGroup = document.getElementById("colorButtons");
				const sliderContainer = document.getElementById("sliders");
				if(mode === "Maxi"){
					sliderContainer.style.display = "block";
					rows.forEach(row => row.style.display = "flex");
					colorBtnGroup.style.display = "flex";
				}else if(mode === "Medium"){
					sliderContainer.style.display = "block";
					rows.forEach((row, i) => {
						row.style.display = i < 3 ? "flex" : "none";
					});
					colorBtnGroup.style.display = "flex";
				}else if(mode === "Mini"){
					sliderContainer.style.display = "block";
					rows.forEach((row, i) => {
						row.style.display = i < 3 ? "flex" : "none";
					});
					colorBtnGroup.style.display = "none";
				}else if(mode === "Essential"){
					sliderContainer.style.display = "none";
					colorBtnGroup.style.display = "none";
				}
			}

			function showMore(){
				changeSetting(1);
			}

			function showLess(){
				changeSetting(-1);
			}

			window.onload = init;
		<\/script>
	</body>
</html>` },

	// --- Some Maths ---
	'Tools_Some Maths.html': { name: `Some Maths`, content: `<!DOCTYPE html>
<html lang="en"><!--T02#006 - Claudia - Some Maths-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Some Maths</title>
		<style>
			body{
				font-family: sans-serif;
				margin: 20px;
			}
			.container{
				display: flex;
				flex-wrap: wrap;
				gap: 20px;
				justify-content: center;
				flex-direction: row;
			}
			.container > div{
				flex-basis: 100%;
			}
			form{
				border: 1px solid #ccc;
				padding: 20px;
				border-radius: 8px;
				background-color: #f9f9f9;
				min-width: 320px;
			}
			canvas{
				border: 1px solid #000;
				background-color: white;
				max-width: 100%;
				height: auto;
				margin-top: 10px;
			}
			.output-text{
				font-weight: bold;
				color: #2c3e50;
				margin-top: 5px;
				display: block;
				min-height: 1.2em;
			}
			label{
				font-weight: bold;
				display: block;
				margin-top: 10px;
			}
			input[type="number"]{
				width: 80%;
				padding: 5px;
				margin-bottom: 5px;
			}
			button{
				cursor: pointer;
				padding: 5px 10px;
			}
			h3{
				margin-top: 0;
				color: #27ae60;
			}
		</style>
	</head>
	<body style="background-color:#ccffcc;">
		<div class="container">
			<form id="mathForm">
				<h3>Number Theory</h3>
				<label>Primality test</label>
				<input type="number" id="firstNumber"/>
				<button type="button" id="primalityTestButton" onclick="handleAction('checkNumber')">Check</button>
				<output id="isPrime" class="output-text"></output>
				<label>Square of a number</label>
				<input type="number" id="tenthNumber"/>
				<button type="button" onclick="handleAction('calculateSquare')">Calculate</button>
				<output id="squareOutput" class="output-text"></output>
				<label>Square root</label>
				<input type="number" id="secondNumber"/>
				<button type="button" id="squareRootButton" onclick="handleAction('squareRoot')">Calculate</button>
				<output id="sqrt" class="output-text"></output>
				<label>Triangular of a number</label>
				<input type="number" id="eleventhNumber"/>
				<button type="button" onclick="handleAction('calculateTriangular')">Calculate</button>
				<output id="triangularOutput" class="output-text"></output>
				<label>Triangular root</label>
				<input type="number" id="twelfthNumber"/>
				<button type="button" onclick="handleAction('checkTriangularity')">Calculate</button>
				<output id="checkTriangularOutput" class="output-text"></output>
				<label>Factorization</label>
				<input type="number" id="thirdNumber"/>
				<button type="button" id="factorization" onclick="handleAction('factorize')">Factorize</button>
				<output id="scomposition" class="output-text"></output>
				<label>B√©zout's relation</label>
				<input type="number" id="fourthNumber" placeholder="First number"/><br>
				<input type="number" id="fifthNumber" placeholder="Latter number"/>
				<button type="button" id="Bezout" onclick="handleAction('computeBezoutRelation')">Calculate</button>
				<output id="BezoutsRelation" class="output-text"></output>
				<label>Fermat's primality test</label>
				<input type="number" id="sixthNumber"/>
				<button type="button" id="primalityTestOfFermatButton" onclick="handleAction('applyFermatsPrimalityTest')">Test</button>
				<output id="mayBePrime" class="output-text"></output>
				<label>Regular polygon area</label>
				<input type="number" id="seventhNumber" placeholder="Number of sides"/><br>
				<input type="number" id="eighthNumber" placeholder="Length of the side"/>
				<button type="button" id="calculateAreaButton" onclick="handleAction('calculatePolygonArea')">Calculate the area</button>
				<output id="polygonArea" class="output-text"></output>
				<label>Sum of two squares</label>
				<input type="number" id="ninthNumber"/>
				<button type="button" id="sumOfSquares" onclick="handleAction('writeAsSumOfSquares')">Find</button>
				<div id="squares" class="output-text"></div>
			</form>
			<div style="width: 100%; text-align: center; margin: 10px 0;">
				<button type="button" style="background-color: #e66465; color: white; border: none; padding: 12px 30px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 1rem;" onclick="clearAll()">Reset Page</button>
			</div>
			<form>
				<h3>Polygon View</h3>
				<label for="numberOfSides">Number of sides: <select id="numberOfSides"></select></label><br>
				<label style="display:inline;">
					<input id="diagonals" type="checkbox" onChange="toggleDiagonals()"> Show diagonals
				</label><br>
				<canvas id="canvas" width="600" height="600"></canvas>
			</form>
		</div>
		<script>

			function clearAll(){
				window.parent.postMessage('RELOAD_REQUEST','*');
			}

			function clearOutputs(){
				const outputs = ["isPrime", "sqrt", "scomposition", "BezoutsRelation", "mayBePrime", "polygonArea", "squareOutput", "triangularOutput", "checkTriangularOutput"];
				outputs.forEach(id => {
					const el = document.getElementById(id);
					if(el){
						el.value = "";
						el.innerHTML = "";
					}
				});
				document.getElementById("squares").innerHTML = "";
			}

			function handleAction(actionName){
				clearOutputs();
				if(typeof window[actionName] === "function"){
					window[actionName]();
				}
			}

			let flagDiagonals = false;
			const CANVAS = document.getElementById('canvas');
			if(window.innerWidth < 600){
				CANVAS.width = 300; CANVAS.height = 300;
			}

			function fillSelectOption(){
				const select = document.getElementById("numberOfSides");
				for(let i = 3; i <= 60; i++){
					let opt = document.createElement('option');
					opt.value = i; opt.innerHTML = i;
					select.appendChild(opt);
				}
			}

			function toggleDiagonals(){
				flagDiagonals = !flagDiagonals;
				drawPolygon();
			}

			function drawPolygon(){
				const numberOfSides = parseInt(document.getElementById('numberOfSides').value);
				const ctx = CANVAS.getContext('2d');
				const centerX = CANVAS.width/2;
				const centerY = CANVAS.height/2;
				const radius = CANVAS.width*0.45;
				const angleStep = (2*Math.PI)/numberOfSides;
				ctx.clearRect(0, 0, CANVAS.width, CANVAS.height);
				let vertices = [];
				for(let i = 0; i < numberOfSides; i++){
					const angle = (-0.5*Math.PI) + (i*angleStep);
					vertices.push({x: centerX + radius*Math.cos(angle), y: centerY + radius*Math.sin(angle) });
				}
				ctx.beginPath();
				ctx.strokeStyle = "#27ae60";
				ctx.lineWidth = 2;
				ctx.moveTo(vertices[0].x, vertices[0].y);
				for(let i = 1; i < numberOfSides; i++){
					ctx.lineTo(vertices[i].x, vertices[i].y);
				}
				ctx.closePath(); ctx.stroke();
				if(flagDiagonals){
					ctx.strokeStyle = "rgba(192, 57, 43, 0.2)";
					ctx.lineWidth = 1;
					for(let i = 0; i < vertices.length; i++){
						for(let j = i + 2; j < vertices.length; j++){
							if(i === 0 && j === vertices.length - 1){
								continue;
							}
							ctx.beginPath();
							ctx.moveTo(vertices[i].x, vertices[i].y);
							ctx.lineTo(vertices[j].x, vertices[j].y);
							ctx.stroke();
						}
					}
				}
			}

			function checkNumber(){
				const val = document.getElementById("firstNumber").value;
				if(!val){
					return;
				}
				const n = parseInt(val);
				let res = " is prime.";
				if(n < 2){
					res = " is neither prime nor composite.";
				}else{
					for(let i = 2; i*i <= n; i++){
						if(n%i === 0){
							res = " is composite.";
							break;
						}
					}
				}
				document.getElementById("isPrime").value = "The number " + n + res;
			}

			function calculateSquare(){
				const n = parseFloat(document.getElementById("tenthNumber").value);
				if(isNaN(n)){
					return;
				}
				document.getElementById("squareOutput").value = \`\${n}¬≤ = \${n*n}\`;
			}

			function squareRoot(){
				const n = parseInt(document.getElementById("secondNumber").value);
				if(isNaN(n) || n < 0){
					return;
				}
				let m = Math.floor(Math.sqrt(n));
				document.getElementById("sqrt").value = (m*m === n) ? \`\${n} = \${m}¬≤\` : \`\${n} = \${m}¬≤ + \${n -(m*m)}\`;
			}

			function calculateTriangular(){
				const n = parseInt(document.getElementById("eleventhNumber").value);
				if (isNaN(n) || n < 0) return;
				const triangular = (n*(n + 1))/2;
				document.getElementById("triangularOutput").value = \`T(\${n}) = \${triangular}\`;
			}

			function checkTriangularity(){
				const x = parseInt(document.getElementById("twelfthNumber").value);
				if(isNaN(x) || x < 0){
					return;
				}
				const nFloat = (Math.sqrt(8*x + 1) - 1)/2;
				const n = Math.floor(nFloat);
				const lowerTriangular = (n*(n + 1))/2;
				document.getElementById("checkTriangularOutput").value = (x + " = " + "T(" + n + ")" + (Number.isInteger(nFloat) ? "" : (" + " + (x - lowerTriangular))));
			}

			function getExp(iExp){
				const expDigits = ["‚Å∞","¬π","¬≤","¬≥","‚Å¥","‚Åµ","‚Å∂","‚Å∑","‚Å∏","‚Åπ"];
				return iExp <= 1 ? "" : iExp.toString().split('').map(d => expDigits[d]).join('');
			}

			function factorize(){
				let n = parseInt(document.getElementById("thirdNumber").value);
				if(isNaN(n) || n <= 1){
					return;
				}
				let temp = n, result = [], count = 0;
				while(temp%2 === 0){
					count++;
					temp /= 2;
				}
				if(count > 0){
					result.push("2" + getExp(count));
				}
				for(let i = 3; i*i <= temp; i += 2){
					count = 0;
					while(temp%i === 0){
						count++; temp /= i;
					}
					if(count > 0){
						result.push(i + getExp(count));
					}
				}
				if(temp > 1){
					result.push(temp.toString());
				}
				document.getElementById("scomposition").value = (result.length === 1 && parseInt(result[0]) === n) ? "Prime number! :-D" : n + " = " + result.join(" √ó ");
			}

			function computeBezoutRelation(){
				const a = parseInt(document.getElementById("fourthNumber").value);
				const b = parseInt(document.getElementById("fifthNumber").value);
				if(isNaN(a) || isNaN(b)){
					return;
				}
				let old_r = a, r = b, old_s = 1, s = 0, old_t = 0, t = 1;
				while(r !== 0){
					let q = Math.floor(old_r/r);
					[old_r, r] = [r, old_r - q*r];
					[old_s, s] = [s, old_s - q*s];
					[old_t, t] = [t, old_t - q*t];
				}
				document.getElementById("BezoutsRelation").value = \`(\${old_s})*\${a} +(\${old_t})*\${b} = \${old_r}\`;
			}

			function applyFermatsPrimalityTest_0(){//SOLO FERMAT...
				let val = document.getElementById("sixthNumber").value;
				if(!val){
					return;
				}
				let n = BigInt(val);
				if(n <= 1n){
					return;
				}
				if(n === 2n){
					document.getElementById("mayBePrime").value = "Seems prime.";
					return;
				}
				const modExp = (b, e, m) => {
					let r = 1n; 
					b %= m;
					while(e > 0n){
						if(e%2n === 1n){
							r = (r*b)%m;
						}
						b = (b*b)%m;
						e = e/2n;
					}
					return r;
				};
				let isP = true;
				for(let a of [2n, 3n, 5n]){
					if(a >= n){
						break;
					}
					if(modExp(a, n - 1n, n) !== 1n){
						isP = false;
						break;
					}
				}
				document.getElementById("mayBePrime").value = isP ? "Seems prime(Likely)." : "Definitely composed.";
			}

			function applyFermatsPrimalityTest(){//...SIA FERMAT CHE MILLER RABIN.
				let val = document.getElementById("sixthNumber").value;
				if(!val){
					return;
				}
				let n = BigInt(val);
				if(n < 2n){
					document.getElementById("mayBePrime").value = "Neither prime nor composite...";
					return;
				}
				if(n === 2n || n === 3n){
					document.getElementById("mayBePrime").value = "Definitely prime.";
					return;
				}
				if(n%2n === 0n){
					document.getElementById("mayBePrime").value = "Composite(even).";
					return;
				}
				const modExp = (base, exp, mod) => {
					let res = 1n;
					base %= mod;
					while(exp > 0n){
						if(exp % 2n === 1n){
							res = (res*base)%mod;
						}
						base = (base*base)%mod;
						exp /= 2n;
					}
					return res;
				};
				let d = n - 1n;
				let s = 0n;
				while(d%2n === 0n){
					d /= 2n;
					s++;
				}
				// Per n < 3,317,044,064,679,887,361 basta testare queste basi
				const bases = [2n, 3n, 5n, 7n, 11n, 13n, 17n, 19n, 23n];
				for(let a of bases){
					if(n <= a){
						break;
					}
					let x = modExp(a, d, n);
					if(x === 1n || x === n - 1n){
						continue;
					}
					let composite = true;
					for(let r = 1n; r < s; r++){
						x = (x*x)%n;
						if(x === n - 1n){
							composite = false;
							break;
						}
					}
					if(composite){
						document.getElementById("mayBePrime").value = "Definitely composed.";
						return;
					}
				}
				document.getElementById("mayBePrime").value = "Likely prime.";
			}

			function calculatePolygonArea(){
				let n = parseInt(document.getElementById("seventhNumber").value);
				let s = parseFloat(document.getElementById("eighthNumber").value);
				if(n < 3 || s <= 0){
					return;
				}
				let area = (n*s**2)/(4*Math.tan(Math.PI/n));
				document.getElementById("polygonArea").value = "Area: " + area.toFixed(4);
			}

			function writeAsSumOfSquares(){
				const n = parseInt(document.getElementById("ninthNumber").value);
				if(isNaN(n)){
					return;
				}
				let out = "";
				for(let i = 0; i*i <= n/2; i++){
					let j = Math.sqrt(n - i*i);
					if(Number.isInteger(j)){
						out += \`<div>\${j}¬≤ + \${i}¬≤</div>\`;
					}
				}
				document.getElementById("squares").innerHTML = out || "No solution.";
			}

			document.getElementById('numberOfSides').addEventListener('change', drawPolygon);
			document.querySelectorAll('input').forEach(input => {
				input.addEventListener('keypress',(e) => {
					if(e.key === 'Enter'){
						e.preventDefault();
						const btn = input.nextElementSibling?.tagName === 'BUTTON' ? input.nextElementSibling : input.parentElement.querySelector('button');
						if(btn) btn.click();
					}
				});
			});

			fillSelectOption();
			drawPolygon();
		<\/script>
	</body>
</html>` },

	// --- Sounds ---
	'Tools_Sounds.html': { name: `Sounds`, content: `<!DOCTYPE html>
<html lang="en"><!--T03#009 - Fabio - Sounds-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Sounds Lab</title>
		<style>
			body{
				background: #BFBFFF;
				font-family: sans-serif;
				padding: 20px;
			}
			output{
				background: #FFFF7F;
				padding: 2px 4px;
				border-radius: 3px;
			}
			button{
				background-color: #FFBFBF;
				border: 1px solid #999;
				cursor: pointer;
				padding: 6px 12px;
				margin: 2px;
				border-radius: 4px;
			}
			.row{
				margin-bottom: 15px;
				display: block;
			}
			.flex-row{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 15px;
				flex-wrap: nowrap;
			}
			.section-title{
				font-weight: bold;
				border-bottom: 1px solid #777;
				margin-bottom: 10px;
				display: block;
				color: #333;
				padding-top: 10px;
			}
			#scope{
				background: #222;
				border: 2px solid #555;
				display: block;
				width: 100%;
				max-width: 1400px;
				height: 150px;
				margin-bottom: 20px;
				border-radius: 8px;
			}
			.freq-slider{
				width: 90%;
				max-width: 1300px;
			}
			.full-width-slider{
				width: 100%;
				max-width: 1400px;
			}
			.slider-label{
				min-width: unset;
				font-size: 0.85em;
				color: #444;
			}
			.slider-container{
				display: flex;
				flex-direction: column;
				align-items: stretch;
				gap: 5px;
				margin-bottom: 12px;
			}
			.label-row{
				display: flex;
				justify-content: flex-start;
				gap: 8px;
				align-items: center;
			}
			.slider-label{
				min-width: unset;
				font-weight: bold;
				font-size: 0.9em;
			}
			.full-width-slider{
				width: 100%;
				margin: 0;
			}
			#keyboard{
				display: flex;
				justify-content: flex-start;
				position: relative;
				height: 180px;
				margin-top: 30px;
			}
			#keyboard button{
				-webkit-tap-highlight-color: transparent;
				touch-action: none;
				user-select: none;
			}
			#keyboard button.white{
				flex: 0 0 50px;
				height: 180px;
				display: flex;
				flex-direction: column;
				justify-content: flex-end;
				align-items: center;
				user-select: none;
				background-color: #FFFFBF;
				z-index: 1;
				position: relative;
				border: 1px solid #999;
				box-sizing: border-box;
				transition: transform 0.05s;
			}
			#keyboard button.black{
				width: 35px;
				height: 110px;
				background-color: #BFBFBF;
				position: absolute;
				top: 0;
				z-index: 2;
				border: 1px solid #666;
				box-sizing: border-box;
				transition: transform 0.05s;
				text-align: left;
				padding-left: 5px;
			}
			#keyboard button#Csharp4{
				left: 33px;
			}
			#keyboard button#Dsharp4{
				left: 88px;
			} 
			#keyboard button#Fsharp4{
				left: 196px;
			}
			#keyboard button#Gsharp4{
				left: 250px;
			}
			#keyboard button#Asharp4{
				left: 304px;
			}
			#keyboard button.pressed{
				transform: translateY(4px);
				background-color: #FFD2D2 !important;
			}
			.flex-row[style*="align-items: flex-start;"]{
				display: flex;
				flex-direction: row;
			}
			@media(max-width: 600px){
				.flex-row[style*="align-items: flex-start;"]{
					flex-direction: column;
				}
				.row[style*="flex-grow: 1;"]{
					width: 100%;
					margin-top: 20px;
				}
				.full-width-slider{
					width: 100%;
				}
			}
			.flex-column{
				display: flex;
				flex-direction: column;
				align-items: flex-start;
				gap: 8px;
				margin-bottom: 15px;
			}
			.flex-column b{
				color: #333;
				font-size: 0.95em;
			}
			.radio-grid{
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 10px;
				width: 100%;
				max-width: 300px;
			}
			.radio-option{
				display: flex;
				align-items: center;
				background: rgba(255, 255, 255, 0.2);
				padding: 5px;
				border-radius: 5px;
			}
			.radio-option output{
				margin-left: 5px;
				flex-grow: 1;
				text-align: center;
			}
		</style>
	</head>
	<body>
		<canvas id="scope"></canvas>
		<div class="section-title">OSCILLATOR & ADDITIVE SYNTHESIS</div>
			<div class="flex-column">
				<b>Oscillator type:</b>
				<div class="radio-grid">
				<div class="radio-option"><input type="radio" id="sine" name="oscillatorType" value="sine" checked><output>sine</output></div>
				<div class="radio-option"><input type="radio" id="sawtooth" name="oscillatorType" value="sawtooth"><output>sawtooth</output></div>
				<div class="radio-option"><input type="radio" id="square" name="oscillatorType" value="square"><output>square</output></div>
				<div class="radio-option"><input type="radio" id="triangle" name="oscillatorType" value="triangle"><output>triangle</output></div>
			</div>
		</div>
		<div class="row">
			<div class="slider-container"><span class="slider-label">2nd Harmonic:<output id="h2_val">0.00</output></span><input id="h2" type="range" class="full-width-slider" min="0" max="1" step="0.01" value="0" oninput="updateHarmonics()"></div>
			<div class="slider-container"><span class="slider-label">3rd Harmonic:<output id="h3_val">0.00</output></span><input id="h3" type="range" class="full-width-slider" min="0" max="1" step="0.01" value="0" oninput="updateHarmonics()"></div>
			<div class="slider-container"><span class="slider-label">4th Harmonic:<output id="h4_val">0.00</output></span><input id="h4" type="range" class="full-width-slider" min="0" max="1" step="0.01" value="0" oninput="updateHarmonics()"></div>
		</div>
		<div class="section-title">LOW PASS FILTER(VCF)</div>
		<div class="row">
			<div class="slider-container">
				<span class="slider-label">Cutoff(Freq):<output id="cutoff_val">20000 Hz</output></span>
				<input id="cutoff" type="range" class="full-width-slider" min="20" max="20000" step="1" value="20000" oninput="updateFilter()">			
			</div>
			<div class="slider-container">
				<span class="slider-label">Resonance(Q):<output id="resonance_val">1.0</output></span>
				<input id="resonance" type="range" class="full-width-slider" min="0" max="20" step="0.1" value="1" oninput="updateFilter()">
			</div>
		</div>
		<div class="slider-container">
			<span class="slider-label">Frequency</span>
			<input type="range" id="frequencyRange" class="full-width-slider" name="frequency" oninput="setFrequency()">
			<div style="display: flex; justify-content: space-between; font-size: 0.8em; font-weight: bold; color: #444; margin-top: -2px;">
				<span>Min: <output id="FREQUENCY_MIN_VALUE" style="background:transparent; padding:0;">0 Hz</output></span>
				<span>Current: <output id="FREQUENCY_VALUE" style="background:transparent; padding:0;">440 Hz</output></span>
				<span>Max: <output id="FREQUENCY_MAX_VALUE" style="background:transparent; padding:0;">1000 Hz</output></span>
			</div>
		</div>
		<div class="flex-row">
			<button onclick="play()">Play</button>
			<button onclick="stop()">Stop</button>
			<button onclick="multiplyFREQUENCY_VALUE(0.5)">f/2</button>
			<button onclick="multiplyFREQUENCY_VALUE(2)">f√ó2</button>
			<button onclick="window.parent.postMessage('RELOAD_REQUEST','*');">‚ü≥ Page</button>
		</div>
		<div class="flex-row" style="align-items: flex-start;">
			<div class="row" style="min-width: 100px;">
				<b>Max freq:</b><br>
				<button onclick="halveMax()">SmallerMax</button><br>
				<input type="radio" name="maxFrequency" value="50" onchange="setMaxFrequency()" disabled>50<br>
				<input type="radio" name="maxFrequency" value="100" onchange="setMaxFrequency()" disabled>100<br>
				<input type="radio" name="maxFrequency" value="200" onchange="setMaxFrequency()" disabled>200<br>
				<input type="radio" name="maxFrequency" value="500" onchange="setMaxFrequency()">500<br>
				<input type="radio" name="maxFrequency" value="1000" onchange="setMaxFrequency()" checked>1000<br>
				<input type="radio" name="maxFrequency" value="2000" onchange="setMaxFrequency()">2000<br>
				<input type="radio" name="maxFrequency" value="4000" onchange="setMaxFrequency()">4000<br>
				<input type="radio" name="maxFrequency" value="8000" onchange="setMaxFrequency()">8000<br>
				<input type="radio" name="maxFrequency" value="16000" onchange="setMaxFrequency()">16000<br>
				<input type="radio" name="maxFrequency" value="24000" onchange="setMaxFrequency()">24000<br>
				<button onclick="doubleMax()">BiggerMax</button>
			</div>
			<div class="row" style="flex-grow: 1;">
				<b>ADSR & Master Vol:</b>
				<div class="slider-container"><span class="slider-label">Attack:<output id="attack_val">10</output></span><input id="attack" type="range" class="full-width-slider" min="0" max="2000" value="10" oninput="updateAdsLabel()"></div>
				<div class="slider-container"><span class="slider-label">Decay:<output id="decay_val">100</output></span><input id="decay" type="range" class="full-width-slider" min="0" max="2000" value="100" oninput="updateAdsLabel()"></div>
				<div class="slider-container"><span class="slider-label">Sustain:<output id="sustain_val">0.80</output></span><input id="sustain" type="range" class="full-width-slider" min="0" max="1" step="0.01" value="0.8" oninput="updateAdsLabel()"></div>
				<div class="slider-container"><span class="slider-label">Release:<output id="release_val">150</output></span><input id="release" type="range" class="full-width-slider" min="0" max="3000" value="150" oninput="updateAdsLabel()"></div>
				<div class="slider-container"><span class="slider-label">Master Vol:<output id="masterVol_val">0.60</output></span><input id="masterVol" type="range" class="full-width-slider" min="0" max="1" step="0.01" value="0.6" oninput="setMasterVol()"></div>
			</div>
		</div>
		<div class="section-title">SIRENS</div>
		<div class="flex-column">
			<b>Siren type:</b>
			<div>
				<input type="radio" id="s0" name="sirenType" onchange="changeSirenType(800,1200,300)" checked><output>I</output>
				<input type="radio" id="s1" name="sirenType" onchange="changeSirenType(300,600,500)"><output>II</output>
				<input type="radio" id="s2" name="sirenType" onchange="changeSirenType(1900,2300,50)"><output>III</output>
				<input type="radio" id="s3" name="sirenType" onchange="changeSirenType(466,622,750)"><output>IV</output>
				<input type="radio" id="s4" name="sirenType" onchange="changeSirenType(466,622,550)"><output>V</output>
				<input type="radio" id="s5" name="sirenType" onchange="changeSirenType(1200,1600,500)"><output>VI</output>
			</div>
		</div>
		<div class="flex-column">
			<b>Siren Wave:</b>
			<div class="radio-grid">
				<div class="radio-option"><input type="radio" name="sirenWave" value="sine" checked onchange="updateSirenWave()"><output>sine</output></div>
				<div class="radio-option"><input type="radio" name="sirenWave" value="sawtooth" onchange="updateSirenWave()"><output>sawtooth</output></div>
				<div class="radio-option"><input type="radio" name="sirenWave" value="square" onchange="updateSirenWave()"><output>square</output></div>
				<div class="radio-option"><input type="radio" name="sirenWave" value="triangle" onchange="updateSirenWave()"><output>triangle</output></div>
			</div>
		</div>
		<div class="flex-row">
			<button onclick="sirenOn()">Siren On</button>
			<button onclick="sirenOff()">Siren Off</button>
		</div>
		<div id="keyboard">
			<button class="white" id="C4">C4</button>
			<button class="white" id="D4">D4</button>
			<button class="white" id="E4">E4</button>
			<button class="white" id="F4">F4</button>
			<button class="white" id="G4">G4</button>
			<button class="white" id="A4">A4</button>
			<button class="white" id="B4">B4</button>
			<button class="white" id="C5">C5</button>
			<button class="black" id="Csharp4">C#4</button>
			<button class="black" id="Dsharp4">D#4</button>
			<button class="black" id="Fsharp4">F#4</button>
			<button class="black" id="Gsharp4">G#4</button>
			<button class="black" id="Asharp4">A#4</button>
		</div>
		<script>
			let audioContext = null;
			let masterGain = null;
			let analyzer = null;
			let lowPassFilter = null;
			let oscillatorinputType = "sine";
			let frequencyHz = 440;
			let indexArray = 4;
			const ACTIVE_VOICES = new Map();
			const MAX_FREQUENCY_VALUE = [50,100,200,500,1000,2000,4000,8000,16000,24000];
			const KEY_MAP = {"a":"C4","w":"Csharp4","s":"D4","e":"Dsharp4","d":"E4","f":"F4","t":"Fsharp4","g":"G4","y":"Gsharp4","h":"A4","u":"Asharp4","j":"B4","k":"C5"};
			const FREQ_MAP = {"C4":261.62,"Csharp4":277.18,"D4":293.66,"Dsharp4":311.12,"E4":329.62,"F4":349.22,"Fsharp4":369.99,"G4":391.99,"Gsharp4":415.3,"A4":440,"Asharp4":466.16,"B4":493.88,"C5":523.25};

			function initAudio(){
				if(!audioContext){
					audioContext = new(window.AudioContext || window.webkitAudioContext)();
					lowPassFilter = audioContext.createBiquadFilter();
					lowPassFilter.type = "lowpass";
					lowPassFilter.frequency.value = document.getElementById("cutoff").value;
					lowPassFilter.Q.value = document.getElementById("resonance").value;
					masterGain = audioContext.createGain();
					masterGain.gain.value = document.getElementById("masterVol").value;
					analyzer = audioContext.createAnalyser();
					analyzer.fftSize = 2048;
					lowPassFilter.connect(masterGain);
					masterGain.connect(analyzer);
					analyzer.connect(audioContext.destination);
					drawScope();
				}
			}

			function updateFilter(){
				if(!audioContext){
					return;
				}
				const cutoff = document.getElementById("cutoff").value;
				const resonance = document.getElementById("resonance").value;
				lowPassFilter.frequency.setTargetAtTime(cutoff, audioContext.currentTime, 0.02);
				lowPassFilter.Q.setTargetAtTime(resonance, audioContext.currentTime, 0.02);
				document.getElementById("cutoff_val").textContent = cutoff + " Hz";
				document.getElementById("resonance_val").textContent = parseFloat(resonance).toFixed(1);
			}

			function updateAdsLabel(){
				document.getElementById("attack_val").textContent = document.getElementById("attack").value;
				document.getElementById("decay_val").textContent = document.getElementById("decay").value;
				document.getElementById("sustain_val").textContent = parseFloat(document.getElementById("sustain").value).toFixed(2);
				document.getElementById("release_val").textContent = document.getElementById("release").value;
			}

			function updateHarmonics(){
				const h2Val = parseFloat(document.getElementById("h2").value);
				const h3Val = parseFloat(document.getElementById("h3").value);
				const h4Val = parseFloat(document.getElementById("h4").value);
				document.getElementById("h2_val").textContent = h2Val.toFixed(2);
				document.getElementById("h3_val").textContent = h3Val.toFixed(2);
				document.getElementById("h4_val").textContent = h4Val.toFixed(2);
				if(!audioContext){
					return;
				}
				ACTIVE_VOICES.forEach(voice => {
					if(voice.harmonics){
						const now = audioContext.currentTime;
						voice.harmonics.h2.gain.gain.setValueAtTime(h2Val, now);
						voice.harmonics.h3.gain.gain.setValueAtTime(h3Val, now);
						voice.harmonics.h4.gain.gain.setValueAtTime(h4Val, now);
					}
				});
			}

			function setMasterVol(){
				initAudio();
				const v = document.getElementById("masterVol").value;
				masterGain.gain.setTargetAtTime(v, audioContext.currentTime, 0.02);
				document.getElementById("masterVol_val").textContent = parseFloat(v).toFixed(2);
			}

			function setFrequency(){
				frequencyHz = parseInt(document.getElementById("frequencyRange").value);
				document.getElementById("FREQUENCY_VALUE").textContent = frequencyHz + " Hz";
				if(ACTIVE_VOICES.has("mono")){
					const v = ACTIVE_VOICES.get("mono"), now = audioContext.currentTime;
					v.osc.frequency.setTargetAtTime(frequencyHz, now, 0.02);
					v.harmonics.h2.osc.frequency.setTargetAtTime(frequencyHz*2, now, 0.02);
					v.harmonics.h3.osc.frequency.setTargetAtTime(frequencyHz*3, now, 0.02);
					v.harmonics.h4.osc.frequency.setTargetAtTime(frequencyHz*4, now, 0.02);
				}
				const els = document.getElementsByName("maxFrequency");
				for(let i=0; i<els.length; i++){
					els[i].disabled = frequencyHz > MAX_FREQUENCY_VALUE[i];
				}
			}

			function createHarmonic(freq, gainVal, parentGain){
				const osc = audioContext.createOscillator();
				const g = audioContext.createGain();
				const now = audioContext.currentTime;
				osc.type = "sine";
				osc.frequency.setValueAtTime(freq, now);
				g.gain.setValueAtTime(0, now);
				g.gain.linearRampToValueAtTime(gainVal, now + 0.01); 
				osc.connect(g); 
				g.connect(parentGain);
				osc.start();
				return {osc, gain: g};
			}

			function playVoice(id, freq){
				initAudio();
				if(ACTIVE_VOICES.has(id)){
					return;
				}
				const now = audioContext.currentTime;
				const a = document.getElementById("attack").value/1000;
				const d = document.getElementById("decay").value/1000;
				const s = parseFloat(document.getElementById("sustain").value);
				const vGain = audioContext.createGain();
				vGain.gain.setValueAtTime(0, now);
				vGain.gain.linearRampToValueAtTime(1, now + a);
				vGain.gain.linearRampToValueAtTime(s, now + a + d);
				vGain.connect(lowPassFilter);
				const osc = audioContext.createOscillator();
				osc.type = oscillatorinputType;
				osc.frequency.setValueAtTime(freq, now);
				osc.connect(vGain);
				osc.start();
				const h2 = createHarmonic(freq*2, parseFloat(document.getElementById("h2").value), vGain);
				const h3 = createHarmonic(freq*3, parseFloat(document.getElementById("h3").value), vGain);
				const h4 = createHarmonic(freq*4, parseFloat(document.getElementById("h4").value), vGain);
				ACTIVE_VOICES.set(id,{osc, gain: vGain, harmonics:{h2, h3, h4}});
			}

			function stopVoice(id){
				if(!ACTIVE_VOICES.has(id)){
					return;
				}
				const v = ACTIVE_VOICES.get(id), now = audioContext.currentTime, r = document.getElementById("release").value/1000;
				v.gain.gain.cancelScheduledValues(now);
				v.gain.gain.setValueAtTime(v.gain.gain.value, now);
				v.gain.gain.linearRampToValueAtTime(0, now + r);
				setTimeout(() => {
					try{
						v.osc.stop();
						v.harmonics.h2.osc.stop();
						v.harmonics.h3.osc.stop();
						v.harmonics.h4.osc.stop();
						v.gain.disconnect();
					}catch(e){} 
					ACTIVE_VOICES.delete(id); 
				}, r*1000 + 50);
			}

			function drawScope(){
				const canvas = document.getElementById("scope");
				const ctx = canvas.getContext("2d");
				const bufferLength = analyzer.frequencyBinCount;
				const dataArray = new Uint8Array(bufferLength);
				function render(){
					requestAnimationFrame(render);
					analyzer.getByteTimeDomainData(dataArray);
					ctx.fillStyle = "#222";
					ctx.fillRect(0, 0, canvas.width, canvas.height);
					ctx.lineWidth = 2;
					ctx.strokeStyle = "#FFFF7F";
					ctx.beginPath();
					const sliceWidth = canvas.width/bufferLength;
					let x = 0;
					for(let i = 0; i < bufferLength; i++){
						const v = dataArray[i]/128.0; const y = v*canvas.height/2;
						if(i === 0){
							ctx.moveTo(x, y);
						}else{
							ctx.lineTo(x, y);
						}
						x += sliceWidth;
					}
					ctx.lineTo(canvas.width, canvas.height/2);
					ctx.stroke();
				}
				canvas.width = canvas.offsetWidth;
				canvas.height = canvas.offsetHeight;
				render();
			}

			function play(){
				playVoice("mono", frequencyHz);
			}

			function stop(){
				stopVoice("mono");
			}

			function multiplyFREQUENCY_VALUE(m){
				let newFreq = Math.round(frequencyHz*m);
				const currentMax = parseInt(document.getElementById("frequencyRange").max);
				if(newFreq > currentMax){
					return;
				}
				frequencyHz = newFreq;
				document.getElementById("frequencyRange").value = frequencyHz;
				setFrequency();
			}

			function resetFrequency(){
				frequencyHz = 440;
				document.getElementById("frequencyRange").value = frequencyHz;
				setFrequency();
			}

			function setMaxFrequency(){
				const els = document.getElementsByName("maxFrequency");
				for(let i=0; i<els.length; i++){
					if(els[i].checked){
						indexArray = i;
						document.getElementById("frequencyRange").max = MAX_FREQUENCY_VALUE[i];
						document.getElementById("FREQUENCY_MAX_VALUE").textContent = MAX_FREQUENCY_VALUE[i] + " Hz";
						if(frequencyHz > MAX_FREQUENCY_VALUE[i]){
							frequencyHz = MAX_FREQUENCY_VALUE[i];
							document.getElementById("frequencyRange").value = frequencyHz; setFrequency();
						}
					}
				}
			}

			function halveMax(){
				if(indexArray > 0){
					indexArray--;
					document.getElementsByName("maxFrequency")[indexArray].click();
				}
			}

			function doubleMax(){
				if(indexArray < 9){
					indexArray++;
					document.getElementsByName("maxFrequency")[indexArray].click();
				}
			}

			document.getElementsByName("oscillatorType").forEach(el => {
				el.addEventListener("change",() => {
					oscillatorinputType = el.value; 
					if(ACTIVE_VOICES.has("mono")) ACTIVE_VOICES.get("mono").osc.type = el.value;
				});
			});

			let sOsc = null;
			let sInt = null;
			let sOn = false;
			let sMin = 800;
			let sMax = 1200;
			let sDur = 300;
			let sWave = "sine";

			function updateSirenWave(){
				const waves = document.getElementsByName("sirenWave");
				for(let w of waves){
					if(w.checked){
						sWave = w.value;
					}
				}
				if(sOn && sOsc){
					sOsc.type = sWave;
				}
			}

			function sirenOn(){
				initAudio(); sirenOff(); 
				sOsc = audioContext.createOscillator();
				let g = audioContext.createGain(); g.gain.value = 0.3;
				sOsc.type = sWave;
				sOsc.frequency.setValueAtTime(sMin, audioContext.currentTime);
				sOsc.connect(g); g.connect(lowPassFilter);
				sOsc.start();
				let state = true; 
				sInt = setInterval(() => {
						if(sOsc){
							sOsc.frequency.setValueAtTime(state ? sMax : sMin, audioContext.currentTime);
						}
						state = !state;
					}, sDur);
				sOn = true;
			}

			function sirenOff(){
				clearInterval(sInt);
				if(sOsc){
					try{
						sOsc.stop();
					}catch(e){}
						sOsc = null;
					}
					sOn = false;
				}

			function changeSirenType(min, max, dur){
				sMin = min;
				sMax = max;
				sDur = dur;
				if(sOn){
					sirenOn();
				}
			}

			document.addEventListener("keydown", e => {
				let key = e.key.toLowerCase();
				if(key in KEY_MAP){
					const btn = document.getElementById(KEY_MAP[key]);
					if(btn && !btn.classList.contains("pressed")){
						btn.classList.add("pressed"); playVoice(btn.id, FREQ_MAP[btn.id]);
					}
				}else if(key === "l"){
					if(sOn){
						sirenOff();
					}else{
						sirenOn();
					}
				}
			});

			document.addEventListener("keyup", e => {
				let key = e.key.toLowerCase();
				if(key in KEY_MAP){
					const btn = document.getElementById(KEY_MAP[key]);
					if(btn){
						btn.classList.remove("pressed");
						stopVoice(btn.id);
					}
				}
			});

			document.querySelectorAll("#keyboard button").forEach(btn => {
				const startNote = (e) => {
					e.preventDefault();
					if(!btn.classList.contains("pressed")){
						btn.classList.add("pressed");
						playVoice(btn.id, FREQ_MAP[btn.id]);
					}
				};
				const stopNote = (e) => {
					e.preventDefault();
					btn.classList.remove("pressed");
					stopVoice(btn.id);
				};
				btn.addEventListener("mousedown", startNote);
				btn.addEventListener("mouseup", stopNote);
				btn.addEventListener("mouseleave", stopNote);
				btn.addEventListener("touchstart", startNote,{passive: false});
				btn.addEventListener("touchend", stopNote,{passive: false});
				btn.addEventListener("touchcancel", stopNote,{passive: false});
			});

			window.addEventListener('resize',() => {
				const c = document.getElementById("scope");
				c.width = c.offsetWidth;
				c.height = c.offsetHeight;
			});

			document.getElementById("FREQUENCY_MIN_VALUE").textContent = "0 Hz";
			document.getElementById("FREQUENCY_MAX_VALUE").textContent = "1000 Hz";
			document.getElementById("frequencyRange").max = 1000;
			document.getElementById("frequencyRange").value = 440;
		<\/script>
	</body>
</html>` },

	// --- Days ---
	'Tools_Days.html': { name: `Days`, content: `<!DOCTYPE html>
<html lang="en"><!--T04#010 - Roberto - Days-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Days</title>
		<style>
			body{
				font-family: sans-serif;
				margin: 20px;
				background-color: #ccccff;
			}
			.container{
				max-width: 450px;
				margin: auto;
				background: white;
				padding: 20px;
				border-radius: 12px;
				box-shadow: 0 4px 8px rgba(0,0,0,0.1);
			}
			h3{
				color: #5c5cff;
				margin-top: 0;
				text-align: center;
			}
			.language-selector{
				text-align: right;
				margin-bottom: 15px;
			}
			select#langSelect{
				padding: 5px;
				border-radius: 4px;
				border: 1px solid #5c5cff;
				background: white;
				cursor: pointer;
				font-size: 0.9em;
			}
			.section{
				margin-bottom: 25px;
				padding-bottom: 15px;
				border-bottom: 1px solid #eee;
			}
			.section:last-child{
				border-bottom: none;
			}
			label{
				display: block;
				font-weight: bold;
				margin-bottom: 8px;
				font-size: 0.9em;
			}
			.row-group{
				display: flex;
				align-items: center;
				gap: 10px;
				margin-bottom: 8px;
			}
			input[type="text"]{
				flex-grow: 1;
				padding: 8px;
				border: 1px solid #ccc;
				border-radius: 4px;
				min-width: 50px;
			}
			button{
				cursor: pointer;
				padding: 8px 15px;
				background-color: #5c5cff;
				color: white;
				border: none;
				border-radius: 4px;
				font-weight: bold;
				white-space: nowrap;
				transition: background-color 0.2s, color 0.2s;
			}
			button:hover{
				background-color: #4040e6;
			}
			.btn-today{
				background-color: #27ae60;
				min-width: 80px;
			}
			.btn-clear{
				background-color: #e74c3c;
				width: 100%;
				margin-top: 10px;
			}
			.btn-clear:hover{
				background-color: #c0392b;
				color: white;
			}
			.output-field{
				background-color: #f0f0f0;
				font-weight: bold;
				color: #333;
			}
			.btn-action{
				min-width: 45px;
			}
			.btn-step{
				user-select: none;
				background-color: #5c5cff;
				color: white;
				border: 1px solid #5c5cff;
				min-width: 40px;
				padding: 5px;
				font-family: monospace;
			}
			@keyframes blink-effect{
				0%{
					background-color: #f0f0f0;
				}
				50%{
					background-color: #ffeb3b;
				}
				100%{
					background-color: #f0f0f0;
				}
			}
			.blink{
				animation: blink-effect 0.4s ease-in-out 2;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="language-selector">
				<select id="langSelect" onchange="changeLanguage(this.value)"></select>
			</div>
			<h3 data-key="title">Days</h3>
			<div class="section">
				<label data-key="findDay">Find the day of the week:</label>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(0)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('firstDate', -1)">-1</button>
					<input type="text" id="firstDate" data-key-ph="phDate" placeholder="dd/mm/yyyy"/>
					<button type="button" class="btn-step" onclick="shiftDay('firstDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" class="btn-action" onclick="handleAction('getDayOfTheWeek')"> ‚Üí </button>
					<input type="text" id="dayOfTheWeek" class="output-field" disabled data-key-ph="phResult" placeholder="Result">
				</div>
			</div>
			<div class="section">
				<label data-key="todayExtended">Today's date extended:</label>
				<div class="row-group">
					<button type="button" style="width: 100%;" onclick="handleAction('getFullTodayDate')" data-key="showFull">Show full date</button>
				</div>
				<div class="row-group">
					<span style="font-size: 1.2em; padding-left: 10px;">üìÖ</span>
					<input type="text" id="todayDate" class="output-field" disabled data-key-ph="phExtended" placeholder="Extended date">
				</div>
			</div>
			<div class="section">
				<label data-key="diffDates">Difference between two dates:</label>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(1)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('secondDate', -1)">-1</button>
					<input type="text" id="secondDate" data-key-ph="phDate" placeholder="First Date"/>
					<button type="button" class="btn-step" onclick="shiftDay('secondDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" class="btn-today" onclick="setTodayAndClear(2)" data-key="today">Today</button>
					<button type="button" class="btn-step" onclick="shiftDay('thirdDate', -1)">-1</button>
					<input type="text" id="thirdDate" data-key-ph="phDate" placeholder="Latter Date"/>
					<button type="button" class="btn-step" onclick="shiftDay('thirdDate', 1)">+1</button>
				</div>
				<div class="row-group">
					<button type="button" onclick="handleAction('getDaysOfDifference')" data-key="calcDiff">Calculate the difference</button>
					<input type="text" id="daysOfDifference" class="output-field" disabled placeholder="0"/>
				</div>
			</div>
			<button type="button" class="btn-clear" onclick="clearFields()" data-key="clear">Clear Fields</button>
		</div>
		<script>
			const TRANSLATIONS = {
				English: {
					days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
					title: "Days",
					findDay: "Find the day of the week:",
					today: "Today",
					todayExtended: "Today's date extended:", 
					showFull: "Show full date",
					diffDates: "The difference between two dates:",
					calcDiff: "Calculate the difference", 
					clear: "Clear Fields",
					wrong: "Wrong date!",
					error: "Error",
					phDate: "dd/mm/yyyy",
					phResult: "Result",
					phExtended: "Extended date"
				},
				Italiano: {
					days: ["Domenica", "Luned√¨", "Marted√¨", "Mercoled√¨", "Gioved√¨", "Venerd√¨", "Sabato"],
					title: "Giorni",
					findDay: "Trova il giorno della settimana:",
					today: "Oggi",
					todayExtended: "Data di oggi estesa:",
					showFull: "Mostra data completa",
					diffDates: "Differenza tra due date:",
					calcDiff: "Calcola la differenza",
					clear: "Cancella Campi",
					wrong: "Data errata!",
					error: "Errore",
					phDate: "gg/mm/aaaa",
					phResult: "Risultato",
					phExtended: "Data estesa"
				},
				Fran√ßaise: {
					days: ["Dimanche", "Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi"],
					title: "Jours",
					findDay: "Trouver le jour de la semaine:",
					today: "Aujourd'hui",
					todayExtended: "Date d'aujourd'hui √©tendue:",
					showFull: "Afficher la date compl√®te",
					diffDates: "Diff√©rence entre deux dates:",
					calcDiff: "Calculer la diff√©rence",
					clear: "Effacer les champs",
					wrong: "Date incorrecte!",
					error: "Erreur",
					phDate: "jj/mm/aaaa",
					phResult: "R√©sultat",
					phExtended: "Date √©tendue"
				},
				Espa√±ol: {
					days: ["Domingo", "Lunes", "Martes", "Mi√©rcoles", "Jueves", "Viernes", "S√°bado"],
					title: "D√≠as",
					findDay: "Buscar el d√≠a de la semana:",
					today: "Hoy",
					todayExtended: "Fecha de hoy extendida:",
					showFull: "Mostrar fecha completa",
					diffDates: "Diferencia entre dos fechas:",
					calcDiff: "Calcular la diferencia",
					clear: "Borrar campos",
					wrong: "¬°Fecha incorrecta!",
					error: "Error",
					phDate: "dd/mm/aaaa",
					phResult: "Resultado",
					phExtended: "Fecha extendida"
				},
				Deutsch: {
					days: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
					title: "Tage",
					findDay: "Wochentag finden:",
					today: "Heute",
					todayExtended: "Heutiges Datum (erweitert):",
					showFull: "Vollst√§ndiges Datum anzeigen",
					diffDates: "Differenz zwischen zwei Daten:",
					calcDiff: "Differenz berechnen",
					clear: "Felder leeren",
					wrong: "Falsches Datum!",
					error: "Fehler",
					phDate: "TT/MM/JJJJ",
					phResult: "Ergebnis",
					phExtended: "Erweitertes Datum"
				},
				Portugu√™s: {
					days: ["Domingo", "Segunda-feira", "Ter√ßa-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "S√°bado"],
					title: "Dias",
					findDay: "Encontrar o dia da semana:",
					today: "Hoje",
					todayExtended: "Data de hoje estendida:",
					showFull: "Mostrar data completa",
					diffDates: "Diferen√ßa entre duas datas:",
					calcDiff: "Calcular a diferen√ßa",
					clear: "Limpar campos",
					wrong: "Data incorreta!",
					error: "Erro",
					phDate: "dd/mm/aaaa",
					phResult: "Resultado",
					phExtended: "Data estendida"
				},
				Rom√¢nƒÉ: {
					days: ["DuminicƒÉ", "Luni", "Mar»õi", "Miercuri", "Joi", "Vineri", "S√¢mbƒÉtƒÉ"],
					title: "Zile",
					findDay: "GƒÉse»ôte ziua sƒÉptƒÉm√¢nii:",
					today: "AstƒÉzi",
					todayExtended: "Data de azi extinsƒÉ:",
					showFull: "Afi»ôeazƒÉ data completƒÉ",
					diffDates: "Diferen»õa √Æntre douƒÉ date:",
					calcDiff: "CalculeazƒÉ diferen»õa",
					clear: "»òterge c√¢mpurile",
					wrong: "DatƒÉ incorectƒÉ!",
					error: "Eroare",
					phDate: "zz/ll/aaaa",
					phResult: "Rezultat",
					phExtended: "Data extinsƒÉ"
				},
				–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞: {
					days: ["–ù–µ–¥—ñ–ª—è", "–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", "–í—ñ–≤—Ç–æ—Ä–æ–∫", "–°–µ—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä", "–ü'—è—Ç–Ω–∏—Ü—è", "–°—É–±–æ—Ç–∞"],
					title: "–î–Ω—ñ",
					findDay: "–ó–Ω–∞–π—Ç–∏ –¥–µ–Ω—å —Ç–∏–∂–Ω—è:",
					today: "–°—å–æ–≥–æ–¥–Ω—ñ",
					todayExtended: "–°—å–æ–≥–æ–¥–Ω—ñ—à–Ω—è –¥–∞—Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–∞:",
					showFull: "–ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤–Ω—É –¥–∞—Ç—É",
					diffDates: "–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –¥–≤–æ–º–∞ –¥–∞—Ç–∞–º–∏:",
					calcDiff: "–†–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é",
					clear: "–û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–ª—è",
					wrong: "–ù–µ–≤—ñ—Ä–Ω–∞ –¥–∞—Ç–∞!",
					error: "–ü–æ–º–∏–ª–∫–∞",
					phDate: "–¥–¥/–º–º/—Ä—Ä—Ä—Ä",
					phResult: "–†–µ–∑—É–ª—å—Ç–∞—Ç",
					phExtended: "–†–æ–∑—à–∏—Ä–µ–Ω–∞ –¥–∞—Ç–∞"
				},
				ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨: {
					days: ["ŒöœÖœÅŒπŒ±Œ∫ŒÆ", "ŒîŒµœÖœÑŒ≠œÅŒ±", "Œ§œÅŒØœÑŒ∑", "Œ§ŒµœÑŒ¨œÅœÑŒ∑", "Œ†Œ≠ŒºœÄœÑŒ∑", "Œ†Œ±œÅŒ±œÉŒ∫ŒµœÖŒÆ", "Œ£Œ¨Œ≤Œ≤Œ±œÑŒø"],
					title: "ŒóŒºŒ≠œÅŒµœÇ",
					findDay: "ŒíœÅŒµŒØœÑŒµ œÑŒ∑ŒΩ Œ∑ŒºŒ≠œÅŒ± œÑŒ∑œÇ ŒµŒ≤Œ¥ŒøŒºŒ¨Œ¥Œ±œÇ:",
					today: "Œ£ŒÆŒºŒµœÅŒ±",
					todayExtended: "Œ£Œ∑ŒºŒµœÅŒπŒΩŒÆ Œ∑ŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒ± œÄŒªŒÆœÅŒ∑œÇ:",
					showFull: "ŒïŒºœÜŒ¨ŒΩŒπœÉŒ∑ œÄŒªŒÆœÅŒøœÖœÇ Œ∑ŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒ±œÇ",
					diffDates: "ŒîŒπŒ±œÜŒøœÅŒ¨ ŒºŒµœÑŒ±Œæœç Œ¥œçŒø Œ∑ŒºŒµœÅŒøŒºŒ∑ŒΩŒπœéŒΩ:",
					calcDiff: "Œ•œÄŒøŒªŒøŒ≥ŒπœÉŒºœåœÇ Œ¥ŒπŒ±œÜŒøœÅŒ¨œÇ",
					clear: "ŒöŒ±Œ∏Œ±œÅŒπœÉŒºœåœÇ œÄŒµŒ¥ŒØœâŒΩ",
					wrong: "ŒõŒ¨Œ∏ŒøœÇ Œ∑ŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒ±!",
					error: "Œ£œÜŒ¨ŒªŒºŒ±",
					phDate: "Œ∑Œ∑/ŒºŒº/ŒµŒµŒµŒµ",
					phResult: "ŒëœÄŒøœÑŒ≠ŒªŒµœÉŒºŒ±",
					phExtended: "Œ†ŒªŒÆœÅŒ∑œÇ Œ∑ŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒ±"
				},
				Latine: {
					days: ["Dies Solis", "Dies Lunae", "Dies Martis", "Dies Mercurii", "Dies Iovis", "Dies Veneris", "Dies Saturni"],
					title: "Dies",
					findDay: "Invenire diem hebdomadis:",
					today: "Hodie",
					todayExtended: "Hodie data extensa:",
					showFull: "Ostende datam",
					diffDates: "Differentia inter duas datas:",
					calcDiff: "Calculare differentiam",
					clear: "Dele omnia",
					wrong: "Data errata!",
					error: "Error",
					phDate: "dd/mm/aaaa",
					phResult: "Exitus",
					phExtended: "Data extensa"
				},
				‰∏≠Êñá: {
					days: ["ÊòüÊúüÊó•", "ÊòüÊúü‰∏Ä", "ÊòüÊúü‰∫å", "ÊòüÊúü‰∏â", "ÊòüÊúüÂõõ", "ÊòüÊúü‰∫î", "ÊòüÊúüÂÖ≠"],
					title: "Êó•Êúü",
					findDay: "Êü•ÊâæÊòüÊúüÂá†:",
					today: "‰ªäÂ§©",
					todayExtended: "‰ªäÂ§©ÁöÑÂÆåÊï¥Êó•Êúü:",
					showFull: "ÊòæÁ§∫ÂÆåÊï¥Êó•Êúü",
					diffDates: "‰∏§‰∏™Êó•Êúü‰πãÈó¥ÁöÑÂ∑ÆÂºÇ:",
					calcDiff: "ËÆ°ÁÆóÂ∑ÆÂºÇ",
					clear: "Ê∏ÖÈô§ÊâÄÊúâÂ≠óÊÆµ",
					wrong: "Êó•ÊúüÈîôËØØ!",
					error: "ÈîôËØØ",
					phDate: "Êó•/Êúà/Âπ¥",
					phResult: "ÁªìÊûú",
					phExtended: "ÂÆåÊï¥Êó•Êúü"
				},
				Êó•Êú¨Ë™û: {
					days: ["Êó•ÊõúÊó•", "ÊúàÊõúÊó•", "ÁÅ´ÊõúÊó•", "Ê∞¥ÊõúÊó•", "Êú®ÊõúÊó•", "ÈáëÊõúÊó•", "ÂúüÊõúÊó•"],
					title: "Êó•‰ªò",
					findDay: "ÊõúÊó•„ÇíË™ø„Åπ„Çã:",
					today: "‰ªäÊó•",
					todayExtended: "‰ªäÊó•„ÅÆË©≥Á¥∞Êó•‰ªò:",
					showFull: "„Éï„É´Êó•‰ªò„ÇíË°®Á§∫",
					diffDates: "‰∫å„Å§„ÅÆÊó•‰ªò„ÅÆÂ∑Æ:",
					calcDiff: "Â∑Æ„ÇíË®àÁÆó„Åô„Çã",
					clear: "ÂÖ•Âäõ„Çí„ÇØ„É™„Ç¢",
					wrong: "Êó•‰ªò„ÅåÊ≠£„Åó„Åè„ÅÇ„Çä„Åæ„Åõ„Çì!",
					error: "„Ç®„É©„Éº",
					phDate: "Êó•/Êúà/Âπ¥",
					phResult: "ÁµêÊûú",
					phExtended: "Ë©≥Á¥∞Êó•‰ªò"
				}
			};

			const NUMBER_OF_DAY_OF_EACH_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
			const PATCH = 5;
			let currentLang = "English";

			function init(){
				const select = document.getElementById("langSelect");
				Object.keys(TRANSLATIONS).forEach(lang => {
					let opt = document.createElement("option");
					opt.value = lang;
					opt.textContent = lang;
					select.appendChild(opt);
				});
				select.value = "English";
				changeLanguage("English");
			}

			function changeLanguage(lang){
				currentLang = lang;
				const t = TRANSLATIONS[lang];
				document.title = t.title;
				document.querySelectorAll("[data-key]").forEach(el => {
					el.textContent = t[el.getAttribute("data-key")];
				});
				document.querySelectorAll("[data-key-ph]").forEach(el => {
					el.placeholder = t[el.getAttribute("data-key-ph")];
				});
				getDayOfTheWeek(false);
				if(document.getElementById("todayDate").value){
					getFullTodayDate();
				}
				getDaysOfDifference(false);
			}

			function clearFields(){
				const ids = ["firstDate", "dayOfTheWeek", "todayDate", "secondDate", "thirdDate", "daysOfDifference"];
				ids.forEach(id => {
					document.getElementById(id).value = "";
					document.getElementById(id).classList.remove("blink");
				});
			}

			function handleAction(actionName){
				window[actionName](true);
			}

			function setTodayAndClear(field){
				const today = getFormattedToday();
				let v2 = document.getElementById("secondDate").value;
				let v3 = document.getElementById("thirdDate").value;
				if(field === 0){
					clearFields();
					document.getElementById("firstDate").value = today;
					getDayOfTheWeek(true);
				}else if(field === 1){
					document.getElementById("secondDate").value = today;
					getDaysOfDifference(true);
				}else if(field === 2){
					document.getElementById("thirdDate").value = today;
					getDaysOfDifference(true);
				}
			}

			function getFormattedToday(){
				const d = new Date();
				return (d.getDate() + "/" +(d.getMonth() + 1) + "/" + d.getFullYear());
			}

			function isLeapYear(year){
				return ((year < 1582) ? (year%4 === 0) : ((year%4 === 0 && year%100 !== 0) || (year%400 === 0)));
			}

			function parseDateParts(dateStr){
				const parts = dateStr.split("/");
				if(parts.length !== 3){
					return null;
				}
				return {d: parseInt(parts[0]), m: parseInt(parts[1]), y: parseInt(parts[2])};
			}

			function isCorrectDate(dateStr){
				const p = parseDateParts(dateStr);
				if(!p || isNaN(p.d) || isNaN(p.m) || isNaN(p.y)){
					return false;
				}
				if(p.y < 1 || p.y > 3999 || p.m < 1 || p.m > 12){
					return false;
				}
				let maxDays = NUMBER_OF_DAY_OF_EACH_MONTH[p.m - 1] + ((p.m === 2 && isLeapYear(p.y)) ? 1 : 0);
				if(p.d < 1 || p.d > maxDays){
					return false;
				}
				if(p.y === 1582 && p.m === 10 && p.d > 4 && p.d < 15){
					return false;
				}
				return true;
			}

			function getTotalDays(dateStr){
				if(!isCorrectDate(dateStr)){
					return -1;
				}
				const p = parseDateParts(dateStr);
				let days = p.d;
				if(p.y === 1582 && p.m === 10 && p.d > 14){
					days -= 10;
				}
				for(let i = 1; i < p.y; i++){
					days += (i === 1582) ? 355 :(365 +(isLeapYear(i) ? 1 : 0));
				}
				for(let i = 1; i < p.m; i++){
					days += ((p.y === 1582 && i === 10) ? 21 : (NUMBER_OF_DAY_OF_EACH_MONTH[i - 1] + ((i === 2 && isLeapYear(p.y)) ? 1 : 0)));
				}
				return days;
			}

			function getDayOfTheWeek(doBlink){
				const inputField = document.getElementById("dayOfTheWeek");
				const dateValue = document.getElementById("firstDate").value;
				const t = TRANSLATIONS[currentLang];
				if(!dateValue){
					inputField.value = "";
					return;
				}
				const total = getTotalDays(dateValue);
				const newValue = (total < 0) ? t.wrong : t.days[(total + PATCH)%7];
				const previousValue = inputField.value;
				inputField.value = newValue;
				if(doBlink && newValue === previousValue && total >= 0 && newValue !== ""){
					inputField.classList.remove("blink");
					void inputField.offsetWidth;
					inputField.classList.add("blink");
				}
			}

			function getFullTodayDate(){
				const date = getFormattedToday();
				const total = getTotalDays(date);
				const t = TRANSLATIONS[currentLang];
				document.getElementById("todayDate").value = (total < 0) ? t.error : t.days[(total + PATCH)%7] + " " + date;
			}

			function getDaysOfDifference(doBlink){
				const inputField = document.getElementById("daysOfDifference");
				const val1 = document.getElementById("secondDate").value;
				const val2 = document.getElementById("thirdDate").value;
				const t = TRANSLATIONS[currentLang];
				if(!val1 || !val2){
					inputField.value = "";
					return;
				}
				const days1 = getTotalDays(val1);
				const days2 = getTotalDays(val2);
				const newValue = (days1 >= 0 && days2 >= 0) ? Math.abs(days1 - days2) : t.error;
				const previousValue = inputField.value;
				inputField.value = newValue;
				if(doBlink && newValue.toString() === previousValue.toString() && days1 >= 0 && days2 >= 0){
					inputField.classList.remove("blink"); 
					void inputField.offsetWidth; 
					inputField.classList.add("blink");
				}
			}

			function shiftDay(fieldId, offset){
				const input = document.getElementById(fieldId);
				let dateStr = input.value || getFormattedToday();
				if(!isCorrectDate(dateStr)){
					return;
				}
				const p = parseDateParts(dateStr);
				const dateObj = new Date(p.y, p.m - 1, p.d);
				dateObj.setDate(dateObj.getDate() + offset);
				let newY = dateObj.getFullYear(), newM = dateObj.getMonth() + 1, newD = dateObj.getDate();
				if(newY < 1 || newY > 3999){
					return;
				}
				if(newY === 1582 && newM === 10 && newD > 4 && newD < 15){
					newD = (offset === 1) ? 15 : 4;
				}
				input.value = \`\${newD}/\${newM}/\${newY}\`;
				if(fieldId === 'firstDate'){
					getDayOfTheWeek(true);
				}else{
					getDaysOfDifference(true);
				}
			}

			window.onload = init;
		<\/script>
	</body>
</html>` },

	// --- SuperEnalotto ---
	'Tools_SuperEnalotto.html': { name: `SuperEnalotto`, content: `<!DOCTYPE html>
<html lang="en"><!--T05#011 - Gennaro - SuperEnalotto-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Dammi sei numeri!</title>
		<style>
			body{
				font-family: sans-serif;
				padding: 20px;
				line-height: 1.6;
				-webkit-user-select: none;
				-ms-user-select: none;
				user-select: none;
			}
			.container{
				max-width: 500px;
				margin: auto;
				background: #f4f4f4;
				padding: 20px;
				border-radius: 10px;
				border: 2px solid #2e7d32;
			}
			output{
				display: block;
				background: #FA9619;
				color: white;
				padding: 5px 10px;
				border-radius: 5px;
				font-weight: bold;
				margin-bottom: 5px;
			}
			input[type="number"], input[type="text"], textarea{
				width: 100%;
				box-sizing: border-box;
				padding: 8px;
				margin-bottom: 10px;
				border: 1px solid #ccc;
				border-radius: 4px;
			}
			button{
				background-color: #43A038;
				color: white;
				border: none;
				padding: 10px 15px;
				border-radius: 5px;
				cursor: pointer;
				font-weight: bold;
				margin-bottom: 15px;
			}
			button:hover{
				background-color: #2e7d32;
			}
			.btn-pulisci{
				background-color: #d32f2f;
				margin-top: 20px;
				width: 100%;
			}
			.btn-pulisci:hover{
				background-color: #b71c1c;
			}
			#info-data{
				font-size: 0.9em;
				color: #333;
				margin-bottom: 10px;
				font-style: italic;
			}
			.reset-link{
				font-size: 0.8em;
				color: #1565c0;
				text-decoration: underline;
				cursor: pointer;
				display: block;
				margin-top: -5px;
				margin-bottom: 10px;
			}
			.reset-link:hover{
				color: #0d47a1;
			}
		</style>
	</head>
	<body style="background-color:#43A038;">
		<div class="container">
			<div id="info-data">Caricamento data prossima estrazione...</div>
			<form id="lottoForm">
				<label for="numeroIninput">Sestina da indice numerico:</label>
				<output>Inserisci un numero da 1 a 622.614.630</output>
				<input type="number" id="numeroIninput" value="1" min="1" max="622614630"/>
				<button type="button" onclick="gestisciAzione('getSestinaDaNumero')">Genera Sestina ‚Üí</button>
				<input type="text" id="sestinaDaNumero" readonly placeholder="Sestina generata">
				<label for="inputTestuale">Sestina basata su testo(Seed):</label>
				<output>Scrivi una frase per la tua sestina personalizzata</output>
				<textarea id="inputTestuale" rows="3" placeholder="Es: Voglio vincere oggi!"></textarea>
				<span class="reset-link" onclick="resetUserFingerprint()">Cambia la mia impronta fortunata</span>
				<button type="button" onclick="gestisciAzione('getSestina')">Genera da testo ‚Üí</button>
				<input type="text" id="sestinaDaTesto" readonly placeholder="Sestina generata">
				<label>Sestina completamente casuale:</label>
				<output>Lascia decidere alla fortuna</output>
				<button type="button" onclick="gestisciAzione('getSestinaACaso')">Sestina Casuale ‚Üí</button>
				<input type="text" id="sestinaCasuale" readonly placeholder="Sestina generata">
				<button type="button" class="btn-pulisci" onclick="pulisciCampi()">Pulisci Tutto</button>
			</form>
		</div>
		<script>
			//(90*89*88*87*86*85)/(1*2*3*4*5*6) = 89*11*87*43*17*10 = 622.614.630
			//622.614.630 - 1 = 622.614.629 = 7¬≥ * 13 * 19 * 7349
			const TOT_COMBINAZIONI = 622614630;
			const INDICI = [1,2520708,5041415,7562122,10082829,12603536,15124243,17644950,20165657,22686364,25207071,27727778,30248485,32769192,35289899,37810606,40331313,42852020,45372727,47893434,50414141,52934848,55455555,57976262,60496969,63017676,65538383,68059090,70579797,73100504,75621211,78141918,80662625,83183332,85704039,88224746,90745453,93266160,95786867,98307574,100828281,103348988,105869695,108390402,110911109,113431816,115952523,118473230,120993937,123514644,126035351,128556058,131076765,133597472,136118179,138638886,141159593,143680300,146201007,148721714,151242421,153763128,156283835,158804542,161325249,163845956,166366663,168887370,171408077,173928784,176449491,178970198,181490905,184011612,186532319,189053026,191573733,194094440,196615147,199135854,201656561,204177268,206697975,209218682,211739389,214260096,216780803,219301510,221822217,224342924,226863631,229384338,231905045,234425752,236946459,239467166,241987873,244508580,247029287,249549994,252070701,254591408,257112115,259632822,262153529,264674236,267194943,269715650,272236357,274757064,277277771,279798478,282319185,284839892,287360599,289881306,292402013,294922720,297443427,299964134,302484841,305005548,307526255,310046962,312567669,315088376,317609083,320129790,322650497,325171204,327691911,330212618,332733325,335254032,337774739,340295446,342816153,345336860,347857567,350378274,352898981,355419688,357940395,360461102,362981809,365502516,368023223,370543930,373064637,375585344,378106051,380626758,383147465,385668172,388188879,390709586,393230293,395751000,398271707,400792414,403313121,405833828,408354535,410875242,413395949,415916656,418437363,420958070,423478777,425999484,428520191,431040898,433561605,436082312,438603019,441123726,443644433,446165140,448685847,451206554,453727261,456247968,458768675,461289382,463810089,466330796,468851503,471372210,473892917,476413624,478934331,481455038,483975745,486496452,489017159,491537866,494058573,496579280,499099987,501620694,504141401,506662108,509182815,511703522,514224229,516744936,519265643,521786350,524307057,526827764,529348471,531869178,534389885,536910592,539431299,541952006,544472713,546993420,549514127,552034834,554555541,557076248,559596955,562117662,564638369,567159076,569679783,572200490,574721197,577241904,579762611,582283318,584804025,587324732,589845439,592366146,594886853,597407560,599928267,602448974,604969681,607490388,610011095,612531802,615052509,617573216,620093923,622614630];
			const ALCUNE_SESTINE = ["1,2,3,4,5,6","1,3,5,48,50,58","1,4,10,19,41,76","1,5,17,20,49,77","1,6,29,32,77,82","1,8,10,29,41,66","1,9,24,27,38,44","1,11,14,26,57,80","1,12,40,74,82,83","1,14,35,58,61,73","1,16,43,46,70,82","1,19,24,28,37,53","1,21,62,79,87,89","1,25,31,37,85,90","1,29,39,41,67,71","1,35,41,56,61,81","1,46,51,53,65,90","2,3,21,43,50,69","2,4,31,34,35,56","2,6,7,11,40,70","2,7,15,41,46,53","2,8,31,53,65,76","2,10,16,29,41,59","2,11,44,56,60,77","2,13,32,60,66,86","2,15,33,49,54,62","2,17,47,70,74,83","2,20,30,31,42,72","2,23,32,39,49,56","2,27,29,32,38,84","2,31,55,62,72,82","2,39,43,46,50,63","2,69,79,81,86,90","3,5,10,16,27,45","3,6,18,34,53,70","3,7,34,55,67,69","3,9,15,22,54,84","3,10,36,49,72,79","3,12,24,45,62,84","3,14,22,29,60,63","3,16,25,41,51,89","3,18,38,39,42,49","3,21,29,63,67,80","3,24,37,47,51,76","3,28,39,70,76,81","3,33,65,68,73,87","3,43,46,49,62,90","4,5,16,31,32,72","4,6,28,30,35,40","4,8,10,12,28,64","4,9,23,29,73,90","4,11,13,47,63,77","4,12,38,71,87,89","4,14,34,40,63,90","4,16,40,65,85,90","4,19,23,30,79,87","4,21,54,65,68,79","4,25,30,32,48,77","4,29,37,43,63,82","4,35,39,51,81,87","4,46,47,54,56,77","5,6,27,33,45,79","5,8,9,34,60,86","5,9,22,40,46,89","5,11,13,25,38,65","5,12,37,49,57,79","5,14,33,37,42,87","5,16,39,45,49,64","5,19,22,41,67,68","5,21,50,65,77,85","5,25,29,33,56,75","5,29,35,74,75,85","5,35,38,40,44,46","5,45,60,77,86,88","6,7,28,52,77,78","6,9,12,32,41,83","6,10,30,32,49,64","6,12,20,49,88,90","6,14,18,45,75,76","6,16,21,37,57,77","6,18,31,33,55,90","6,21,25,27,57,64","6,24,30,50,53,88","6,28,32,41,52,85","6,33,42,48,57,87","6,42,45,48,69,89","7,8,17,47,56,79","7,9,40,46,49,78","7,11,23,27,34,71","7,13,18,28,74,77","7,15,18,44,59,64","7,17,24,26,61,70","7,19,40,48,51,83","7,22,36,69,83,90","7,26,27,72,82,88","7,30,40,52,78,88","7,36,64,66,74,85","7,50,77,79,85,86","8,10,13,33,46,56","8,11,35,37,49,82","8,13,27,34,47,76","8,15,27,56,63,70","8,17,36,60,79,87","8,20,25,27,68,90","8,23,26,56,66,85","8,26,45,58,75,80","8,31,39,68,80,86","8,38,46,65,72,86","8,58,64,80,84,90","9,11,23,46,75,84","9,13,18,50,72,85","9,15,19,25,40,84","9,17,24,46,47,62","9,19,41,64,73,89","9,22,38,41,57,80","9,26,28,49,76,90","9,30,42,43,76,87","9,37,38,49,55,61","9,51,55,64,67,73","10,12,18,50,57,82","10,14,16,60,79,82","10,16,19,34,51,68","10,18,27,72,73,76","10,21,22,45,62,88","10,24,27,46,47,69","10,28,29,31,53,68","10,33,36,67,69,81","10,41,52,61,66,79","11,12,21,36,44,72","11,14,19,30,80,89","11,16,22,29,48,56","11,18,32,37,77,81","11,21,25,63,73,84","11,24,31,57,62,65","11,28,33,49,57,84","11,33,44,56,69,76","11,42,47,82,83,89","12,13,26,31,59,80","12,15,26,49,81,84","12,17,35,38,40,43","12,20,24,27,55,76","12,23,25,52,69,77","12,26,42,62,67,71","12,31,37,64,74,88","12,38,43,61,68,74","12,57,62,64,75,87","13,15,40,53,72,76","13,18,19,46,58,89","13,20,35,48,54,56","13,23,38,55,56,63","13,27,34,41,68,83","13,32,37,41,52,66","13,39,61,74,85,86","14,15,18,28,35,57","14,17,23,40,62,71","14,19,39,43,77,88","14,22,35,79,80,86","14,26,27,37,43,84","14,30,39,47,69,70","14,36,58,59,65,79","14,50,61,73,74,80","15,17,33,57,60,73","15,20,23,32,70,85","15,23,24,69,73,86","15,26,40,60,67,84","15,31,36,44,55,78","15,38,41,55,64,79","15,56,63,70,79,81","16,19,21,74,76,84","16,21,47,65,73,89","16,25,28,36,43,55","16,29,34,56,58,61","16,35,36,54,77,81","16,45,54,72,80,83","17,19,24,27,50,51","17,21,62,69,74,76","17,25,31,37,39,60","17,29,39,40,62,77","17,35,41,54,57,64","17,46,50,78,86,90","18,20,29,37,72,77","18,23,31,45,50,80","18,27,28,40,51,76","18,31,52,56,72,88","18,39,41,59,70,78","18,66,73,83,86,89","19,22,48,53,65,90","19,26,33,61,68,76","19,30,57,78,79,83","19,37,48,76,82,90","19,53,61,68,75,83","20,23,34,41,68,76","20,27,30,56,61,62","20,32,33,36,67,80","20,39,47,52,56,71","21,22,23,52,68,73","21,25,33,37,67,82","21,29,42,46,47,86","21,35,45,51,66,90","21,46,60,63,74,84","22,24,51,73,83,85","22,28,60,73,76,90","22,34,45,51,58,65","22,44,51,59,67,79","23,25,36,41,73,84","23,29,47,69,75,84","23,35,52,73,82,83","23,47,53,61,66,79","24,27,33,36,73,82","24,32,35,59,61,64","24,39,55,57,58,71","25,26,29,79,81,86","25,30,44,70,82,90","25,37,40,58,69,87","25,51,68,69,80,86","26,30,41,45,53,78","26,36,70,79,82,89","26,51,53,58,77,88","27,31,46,47,58,82","27,38,59,61,70,84","27,62,64,77,80,83","28,34,40,46,58,83","28,43,67,77,78,80","29,32,34,38,77,78","29,39,49,75,76,77","30,31,34,42,52,71","30,37,76,77,84,90","30,55,61,67,74,84","31,38,40,55,72,89","31,56,58,71,78,89","32,39,60,79,82,87","33,34,41,49,52,85","33,44,45,64,87,89","34,38,41,50,51,85","34,56,62,66,89,90","35,45,58,71,74,89","36,42,43,50,79,82","37,40,47,54,66,86","38,40,42,45,65,77","39,40,58,69,73,80","40,42,57,71,79,89","41,46,55,66,82,84","42,55,68,82,84,85","44,50,55,57,71,76","46,52,76,80,86,90","49,52,57,66,73,86","53,59,61,66,68,84","85,86,87,88,89,90"];
			let dataProssimaEstrazione = "";

			function getUserFingerprint(){
				let fingerprint = localStorage.getItem('lotto_user_id');
				if(!fingerprint){
					fingerprint = Math.random().toString(36).substring(2) + Date.now().toString(36);
					localStorage.setItem('lotto_user_id', fingerprint);
				}
				return fingerprint;
			}

			function resetUserFingerprint(){
				if(confirm("Vuoi cambiare la tua impronta fortunata? I numeri generati dal testo cambieranno.")){
					localStorage.removeItem('lotto_user_id');
					getUserFingerprint();
					alert("Impronta cambiata con successo!");
					if(document.getElementById("inputTestuale").value){
						getSestina();
					}
				}
			}

			function gestisciAzione(funzioneNome){
				const outputs = ["sestinaDaNumero", "sestinaDaTesto", "sestinaCasuale"];
				outputs.forEach(id => document.getElementById(id).value = "");
				window[funzioneNome]();
			}

			function getSestinaToString(sestina){
				return sestina.map(n => n.toString().padStart(2, ' ')).join(' ');
			}

			function getProssimaSestina(sestina){
				let t = 5;
				while(t >= 0 && sestina[t] === 85 + t){
					t -= 1;
				}
				if(t < 0){
					return sestina;
				}
				sestina[t] = parseInt(sestina[t]) + 1;
				for(let i = t + 1; i < 6; i++){
					sestina[i] = parseInt(sestina[t]) + i - t;
				}
				return sestina;
			}

			function getEnnesimaSestina(n){
				n = n%TOT_COMBINAZIONI;
				if(n === 0){
					n = TOT_COMBINAZIONI;
				}
				let t = 247;
				while(t > 0 && n < parseInt(INDICI[t])){
					t--;
				}
				let sestina = ALCUNE_SESTINE[t].split(",").map(x => parseInt(x));
				for(let i = parseInt(INDICI[t]); i < n; i++){
					sestina = getProssimaSestina(sestina);
				}
				return sestina;
			}

			function getSestinaDaNumero(){
				let val = parseInt(document.getElementById("numeroIninput").value);
				if(isNaN(val) || val < 1){
					val = 1;
				}
				document.getElementById("sestinaDaNumero").value = getSestinaToString(getEnnesimaSestina(val));
			}

			function isDataEstrazione(data){
				const giorno = data.getDay();
				const ore = data.getHours();
				if([2, 4, 5, 6].includes(giorno) && ore < 19){
					return true;
				}
				return false;
			}

			function getDataString(){
				let d = new Date();
				let tentativi = 0;
				while(!isDataEstrazione(d) && tentativi < 14){
					d.setHours(d.getHours() + 12);
					tentativi++;
				}
				const giorniSett = ["Domenica", "Luned√¨", "Marted√¨", "Mercoled√¨", "Gioved√¨", "Venerd√¨", "Sabato"];
				let anno = d.getFullYear();
				let mese = (d.getMonth() + 1).toString().padStart(2, '0');
				let giorno = d.getDate().toString().padStart(2, '0');
				return \`\${giorniSett[d.getDay()]} \${giorno}/\${mese}/\${anno}\`;
			}

			function setData(){
				dataProssimaEstrazione = getDataString();
				document.getElementById("info-data").innerText = "Prossima estrazione stimata: " + dataProssimaEstrazione;
			}

			function getSestina(){
				let testo = document.getElementById("inputTestuale").value;
				if(testo.trim().length > 0){
					if(!dataProssimaEstrazione){
						setData();
					}
					const userKey = getUserFingerprint();
					let stringaCombinata = dataProssimaEstrazione + testo + userKey;
					let hash = 0;
					for(let i = 0; i < stringaCombinata.length; i++){
						hash = ((hash << 5) - hash) + stringaCombinata.charCodeAt(i);
						hash = Math.abs(hash%TOT_COMBINAZIONI);
					}
					document.getElementById("sestinaDaTesto").value = getSestinaToString(getEnnesimaSestina(hash || 1));
				}
			}

			function getSestinaACaso(){
				const randomIdx = Math.floor(Math.random()*TOT_COMBINAZIONI) + 1;
				document.getElementById("sestinaCasuale").value = getSestinaToString(getEnnesimaSestina(randomIdx));
			}

			function pulisciCampi(){
				document.getElementById("lottoForm").reset();
				document.getElementById("sestinaDaNumero").value = "";
				document.getElementById("sestinaDaTesto").value = "";
				document.getElementById("sestinaCasuale").value = "";
			}

			setData();
			setInterval(() => {
				let nuovaData = getDataString();
				if(dataProssimaEstrazione !== nuovaData) setData();
			}, 60000);
		<\/script>
	</body>
</html>` },

	// --- Colors Hub ---
	'Tools_Colors Hub.html': { name: `Colors Hub`, content: `<!DOCTYPE html>
<html lang="en"><!--T06#018 - Giada - Colors Hub-->
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Colors</title>
		<style>
			body, html{
				margin: 0;
				padding: 0;
				font-family: sans-serif;
			}
			#selector-screen{
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
				background: #f0f2f5;
				user-select: none;
			}
			.grid{
				display: grid;
				grid-template-columns: 1fr 1fr;
				gap: 20px;
			}
			.card{
				padding: 40px;
				background: white;
				border: 1px solid #ddd;
				border-radius: 10px;
				cursor: pointer;
				text-align: center;
				transition: transform 0.2s;
			}
			.card:hover{
				transform: scale(1.05);
				border-color: #007bff;
			}
			.version-container{
				display: none;
				width: 100%;
				height: 100vh;
			}
			.home-btn{
				position: fixed;
				bottom: 20px;
				right: 20px;
				padding: 10px;
				z-index: 1000;
				cursor: pointer;
			}
		</style>
	</head>
	<body>
		<div id="selector-screen">
			<div class="grid">
				<div class="card" onclick="showVersion('v1')">Version 1</div>
				<div class="card" onclick="showVersion('v2')">Version 2</div>
				<div class="card" onclick="showVersion('v3')">Version 3</div>
				<div class="card" onclick="showVersion('v4')">Version 4</div>
			</div>
		</div>
		<div id="v1" class="version-container"> <!--EX IRENE-->
			<style>
				#v1 body, #v1 html{
					margin: 0;
					min-height: 100vh;
					display: flex;
					justify-content: center;
					align-items: center;
					font-family: sans-serif;
				}
				#v1 .v1-body{
					min-height: 100vh;
					display: flex;
					justify-content: center;
					align-items: center;
					transition: background-color 0.1s;
				}
				#v1 #v1_optionZone{
					background-color: rgba(255, 255, 255, 0.85);
					text-align: center;
					padding: 25px;
					border-radius: 20px;
					box-shadow: 0 10px 30px rgba(0,0,0,0.3);
					backdrop-filter: blur(5px);
					width: 600px;
					max-width: 95%;
					max-height: 95vh;
					overflow-y: auto;
					user-select: none;
				}
				#v1 #sliders{
					display: block;
					width: 100%;
					margin-top: 20px;
				}
				#v1 .slider-row{
					display: flex;
					align-items: center;
					gap: 10px;
					margin-bottom: 15px;
					width: 100%;
				}
				#v1 .slider-row label{
					flex-basis: 50px;
					flex-shrink: 0;
					text-align: right;
					font-weight: bold;
					font-size: 0.9em;
				}
				#v1 .slider{
					-webkit-appearance: none;
					appearance: none;
					flex-grow: 1;
					height: 8px;
					border-radius: 5px;
					background: #ddd;
					outline: none;
				}
				#v1 .slider::-webkit-slider-thumb{
					-webkit-appearance: none;
					width: 20px;
					height: 20px;
					background: #0075FF;
					cursor: pointer;
					border-radius: 50%;
					border: 2px solid white;
				}
				#v1 output{
					background: #FFFF00;
					flex-basis: 45px;
					flex-shrink: 0;
					text-align: center;
					font-family: monospace;
					font-weight: bold;
					border-radius: 4px;
					padding: 2px 5px;
				}
				#v1 #v1_valueHexCode{
					cursor: pointer;
					padding: 5px 15px;
					transition: transform 0.1s;
				}
				#v1 #v1_valueHexCode:active{
					transform: scale(0.9);
				}
				#v1 .btn-group{
					margin: 10px 0;
					display: flex;
					justify-content: center;
				}
				#v1 .btn-group button{
					cursor: pointer;
					padding: 8px 12px;
					margin: 2px;
					border: 1px solid #ccc;
					border-radius: 5px;
					font-weight: bold;
					min-width: 75px;
					background: white;
					outline: none;
					user-select: none;
				}
				#v1_more, #v1_less{
					min-width: 0 !important;
					width: auto;
					padding-left: 10px;
					padding-right: 10px;
				}
				#v1 .control-group{
					display: flex;
					flex-direction: column;
					gap: 8px;
					margin-top: 15px;
					user-select: none;
				}
				#v1 .button-row{
					display: flex;
					justify-content: center;
					gap: 1px;
					flex-wrap: nowrap;
					width: 100%;
				}
				#v1 button.step{
					flex: 1;
					min-width: 25px;
					max-width: 45px;
					padding: 8px 0;
					margin: 0;
					font-size: 10px;
					border: none;
					border-radius: 4px;
					cursor: pointer;
					font-weight: bold;
					box-sizing: border-box;
					outline: none;
					user-select: none;
				}
				#v1 .redButtons{
					background: #ff4d4d;
					color: white;
				}
				#v1 .greenButtons{
					background: #2ecc71;
					color: white;
				}
				#v1 .blueButtons{
					background: #3498db;
					color: white;
				}
				#v1 .grayButtons{
					background: #7f8c8d;
					color: white;
				}
				#v1 #refresh-btn{
					font-size: 1.2rem;
					line-height: 1;
					vertical-align: middle;
					transition: transform 0.2s;
				}
				@media (max-width: 480px){
					#v1 button.step{
						min-width: 20px;
						padding: 10px 0;
						font-size: 10px;
					}
					#v1 .button-row {
						gap: 1px;
					}
					#v1 #v1_optionZone{
						padding: 10px;
						width: 98%;
					}
					#v1 .btn-group button{
						padding: 10px 5px;
						min-width: 65px;
						font-size: 0.8em;
					}
					#v1_more, #v1_less{
						padding: 10px 8px;
					}
				}
			</style>
			<div class="v1-body" id="v1-body">
				<div id="v1_optionZone">
					<h3 style="margin-top:0; display: flex; align-items: center; justify-content: center; gap: 10px;">
						HEX: <output id="v1_valueHexCode" style="width: auto;" title="Clicca per copiare"></output>
						<button id="refresh-btn" type="button" onclick="window.parent.postMessage('RELOAD_REQUEST','*')" style="cursor: pointer; padding: 2px 8px; border-radius: 5px; border: 1px solid #ccc; background: white;">‚ü≥</button>
					</h3>
					<div class="btn-group">
						<button type="button" onclick="v1_revert()">Revert</button>
						<button type="button" onclick="v1_random()">Random</button>
						<button type="button" onclick="v1_setColor(255, 255, 255)">White</button>
						<button type="button" onclick="v1_setColor(0, 0, 0)">Black</button>
						<button id="v1_more" type="button" onclick="v1_showMore()">‚Üì</button>
						<button id="v1_less" type="button" onclick="v1_showLess()">‚Üë</button>
					</div>
					<div id="sliders">
						<div class="slider-row"><label>R</label> <input type="range" id="v1_red" class="slider" oninput="v1_setAndPatch(0)"/> <output id="v1_valueR"></output></div>
						<div class="slider-row"><label>G</label> <input type="range" id="v1_green" class="slider" oninput="v1_setAndPatch(1)"/> <output id="v1_valueG"></output></div>
						<div class="slider-row"><label>B</label> <input type="range" id="v1_blue" class="slider" oninput="v1_setAndPatch(2)"/> <output id="v1_valueB"></output></div>
						<div class="slider-row"><label>Gray</label> <input type="range" id="v1_gray" class="slider" oninput="v1_setAndPatch(3)"/> <output id="v1_valueGray"></output></div>
						<div class="slider-row"><label>Light</label> <input type="range" id="v1_light" class="slider" oninput="v1_setAndPatch(4)"/> <output id="v1_valueLight"></output></div>
						<div class="slider-row"><label>C</label> <input type="range" id="v1_cyan" class="slider" oninput="v1_setAndPatch(5)"/> <output id="v1_valueC"></output></div>
						<div class="slider-row"><label>M</label> <input type="range" id="v1_magenta" class="slider" oninput="v1_setAndPatch(6)"/> <output id="v1_valueM"></output></div>
						<div class="slider-row"><label>Y</label> <input type="range" id="v1_yellow" class="slider" oninput="v1_setAndPatch(7)"/> <output id="v1_valueY"></output></div>
						<div class="slider-row"><label>K</label> <input type="range" id="v1_black" class="slider" oninput="v1_setAndPatch(8)"/> <output id="v1_valueK"></output></div>
					</div>
					<div id="colorButtons" class="control-group">
						<div class="button-row">
							<button class="redButtons step" onclick="v1_changeColor(0,-20)">-20</button>
							<button class="redButtons step" onclick="v1_changeColor(0,-10)">-10</button>
							<button class="redButtons step" onclick="v1_changeColor(0,-5)">-5</button>
							<button class="redButtons step" onclick="v1_changeColor(0,-2)">-2</button>
							<button class="redButtons step" onclick="v1_changeColor(0,-1)">-1</button>
							<div style="width: 2px; flex-shrink: 0;"></div> <button class="redButtons step" onclick="v1_changeColor(0, 1)">+1</button>
							<button class="redButtons step" onclick="v1_changeColor(0, 2)">+2</button>
							<button class="redButtons step" onclick="v1_changeColor(0, 5)">+5</button>
							<button class="redButtons step" onclick="v1_changeColor(0, 10)">+10</button>
							<button class="redButtons step" onclick="v1_changeColor(0, 20)">+20</button>
						</div>
						<div class="button-row">
							<button class="greenButtons step" onclick="v1_changeColor(1,-20)">-20</button>
							<button class="greenButtons step" onclick="v1_changeColor(1,-10)">-10</button>
							<button class="greenButtons step" onclick="v1_changeColor(1,-5)">-5</button>
							<button class="greenButtons step" onclick="v1_changeColor(1,-2)">-2</button>
							<button class="greenButtons step" onclick="v1_changeColor(1,-1)">-1</button>
							<div style="width: 2px; flex-shrink: 0;"></div>
							<button class="greenButtons step" onclick="v1_changeColor(1, 1)">+1</button>
							<button class="greenButtons step" onclick="v1_changeColor(1, 2)">+2</button>
							<button class="greenButtons step" onclick="v1_changeColor(1, 5)">+5</button>
							<button class="greenButtons step" onclick="v1_changeColor(1, 10)">+10</button>
							<button class="greenButtons step" onclick="v1_changeColor(1, 20)">+20</button>
						</div>
						<div class="button-row">
							<button class="blueButtons step" onclick="v1_changeColor(2,-20)">-20</button>
							<button class="blueButtons step" onclick="v1_changeColor(2,-10)">-10</button>
							<button class="blueButtons step" onclick="v1_changeColor(2,-5)">-5</button>
							<button class="blueButtons step" onclick="v1_changeColor(2,-2)">-2</button>
							<button class="blueButtons step" onclick="v1_changeColor(2,-1)">-1</button>
							<div style="width: 2px; flex-shrink: 0;"></div>
							<button class="blueButtons step" onclick="v1_changeColor(2, 1)">+1</button>
							<button class="blueButtons step" onclick="v1_changeColor(2, 2)">+2</button>
							<button class="blueButtons step" onclick="v1_changeColor(2, 5)">+5</button>
							<button class="blueButtons step" onclick="v1_changeColor(2, 10)">+10</button>
							<button class="blueButtons step" onclick="v1_changeColor(2, 20)">+20</button>
						</div>
						<div class="button-row">
							<button class="grayButtons step" onclick="v1_changeGray(-20)">-20</button>
							<button class="grayButtons step" onclick="v1_changeGray(-10)">-10</button>
							<button class="grayButtons step" onclick="v1_changeGray(-5)">-5</button>
							<button class="grayButtons step" onclick="v1_changeGray(-2)">-2</button>
							<button class="grayButtons step" onclick="v1_changeGray(-1)">-1</button>
							<div style="width: 2px; flex-shrink: 0;"></div>
							<button class="grayButtons step" onclick="v1_changeGray(1)">+1</button>
							<button class="grayButtons step" onclick="v1_changeGray(2)">+2</button>
							<button class="grayButtons step" onclick="v1_changeGray(5)">+5</button>
							<button class="grayButtons step" onclick="v1_changeGray(10)">+10</button>
							<button class="grayButtons step" onclick="v1_changeGray(20)">+20</button>
						</div>
					</div>
				</div>
			</div>
			<script>
				const v1_VALUES = [
					document.querySelector("#v1_valueR"),
					document.querySelector("#v1_valueG"),
					document.querySelector("#v1_valueB"),
					document.querySelector("#v1_valueGray"),
					document.querySelector("#v1_valueLight"),
					document.querySelector("#v1_valueC"),
					document.querySelector("#v1_valueM"),
					document.querySelector("#v1_valueY"),
					document.querySelector("#v1_valueK"),
					document.querySelector("#v1_valueHexCode")
				];
				const v1_INPUTS = [
					document.querySelector("#v1_red"),
					document.querySelector("#v1_green"),
					document.querySelector("#v1_blue"),
					document.querySelector("#v1_gray"),
					document.querySelector("#v1_light"),
					document.querySelector("#v1_cyan"),
					document.querySelector("#v1_magenta"),
					document.querySelector("#v1_yellow"),
					document.querySelector("#v1_black")
				];
				const HIGHLIGHT_ERROR = false;
				let v1_viewModes = ["Essential", "Mini", "Medium", "Maxi"];
				let v1_currentModeIndex = v1_viewModes.length - 1;

				function v1_init(){
					for(let i = 0; i < 5; i++){
						v1_INPUTS[i].min = 0;
						v1_INPUTS[i].max = 255;
						v1_INPUTS[i].step = 1;
					}
					for(let i = 5; i < 9; i++){
						v1_INPUTS[i].min = 0;
						v1_INPUTS[i].max = 1;
						v1_INPUTS[i].step = 0.01;
					}
					v1_setColor(255, 255, 255);
					v1_VALUES[9].onclick = function(){
						navigator.clipboard.writeText(this.textContent);
						const oldText = this.textContent;
						this.textContent = "COPIED!";
						setTimeout(() => {this.textContent = oldText;}, 800);
					};
				}

				function v1_setAndPatch(component){
					const red = parseInt(v1_INPUTS[0].value);
					const green = parseInt(v1_INPUTS[1].value);
					const blue = parseInt(v1_INPUTS[2].value);
					const gray = parseInt(v1_INPUTS[3].value);
					const cyan = parseFloat(v1_INPUTS[5].value);
					const magenta = parseFloat(v1_INPUTS[6].value);
					const yellow = parseFloat(v1_INPUTS[7].value);
					const black = parseFloat(v1_INPUTS[8].value);
					if(component === 3){
						v1_setColor(gray, gray, gray);
					}else if(component === 4){
						v1_setBrightness();
					}else if(component < 3){
						v1_setColor(red, green, blue);
					}else{
						v1_setColor_CMYK(cyan, magenta, yellow, black);
					}
				}

				function v1_getMin(){
					let min = (parseInt(v1_INPUTS[0].value) <= parseInt(v1_INPUTS[1].value)) ? parseInt(v1_INPUTS[0].value) : parseInt(v1_INPUTS[1].value);
					min = ((min <= parseInt(v1_INPUTS[2].value)) ? min : parseInt(v1_INPUTS[2].value));
					return min
				}

				function v1_getMax(){
					let max = (parseInt(v1_INPUTS[0].value) >= parseInt(v1_INPUTS[1].value)) ? parseInt(v1_INPUTS[0].value) : parseInt(v1_INPUTS[1].value);
					max = ((max >= parseInt(v1_INPUTS[2].value)) ? max : parseInt(v1_INPUTS[2].value));
					return max
				}

				function v1_getColor(){
					let sRed = (parseInt(v1_VALUES[0].textContent).toString(16)).padStart(2, '0');
					let sGreen = (parseInt(v1_VALUES[1].textContent).toString(16)).padStart(2, '0');
					let sBlue = (parseInt(v1_VALUES[2].textContent).toString(16)).padStart(2, '0');
					return ("#" + sRed + sGreen + sBlue);
				}

				function v1_isPossibleToModifyLight(){
					if((parseInt(v1_INPUTS[4].value) > parseInt(v1_VALUES[4].textContent))&&(v1_getMax() == 255)){
						return false;
					}
					if((parseInt(v1_INPUTS[4].value) < parseInt(v1_VALUES[4].textContent))&&(v1_getMin() == 0)){
						return false;
					}
					return true;
				}

				function v1_playErrorSound(){
					const context = new (window.AudioContext || window.webkitAudioContext)();
					const oscillator = context.createOscillator();
					const gain = context.createGain();
					oscillator.type = 'sine';
					oscillator.frequency.setValueAtTime(150, context.currentTime);
					gain.gain.setValueAtTime(0.1, context.currentTime);
					gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
					oscillator.connect(gain);
					gain.connect(context.destination);
					oscillator.start();
					oscillator.stop(context.currentTime + 0.2);
				}

				function v1_flashError(){
					const output = document.getElementById("v1_valueHexCode");
					output.style.transition = "0.1s";
					output.style.color = "red";
					setTimeout(() => {
						output.style.color = "black";
					}, 200);
					v1_playErrorSound();
				}

				function v1_setBrightness(){
					if(v1_isPossibleToModifyLight()){
						if(parseInt(v1_INPUTS[4].value) != parseInt(v1_VALUES[4].textContent)){
							for(let i = 0; i < 3; i++){
								v1_INPUTS[i].value = (parseInt(v1_INPUTS[i].value) + parseInt(v1_INPUTS[4].value) - parseInt(v1_VALUES[4].textContent));
								v1_VALUES[i].textContent = v1_INPUTS[i].value;
							}
						}
						v1_setColor(v1_INPUTS[0].value, v1_INPUTS[1].value, v1_INPUTS[2].value);
						v1_VALUES[4].textContent = v1_INPUTS[4].value;
						v1_INPUTS[3].value = parseInt((parseInt(v1_VALUES[0].value) + parseInt(v1_VALUES[1].value) + parseInt(v1_VALUES[2].value))/3);
						v1_VALUES[3].textContent = parseInt((parseInt(v1_VALUES[0].value) + parseInt(v1_VALUES[1].value) + parseInt(v1_VALUES[2].value))/3);
						document.body.style.backgroundColor = v1_getColor();
						v1_VALUES[9].textContent = v1_getColor();
						v1_INPUTS[4].value = parseInt((v1_getMax() + v1_getMin())/2);
						v1_VALUES[4].textContent = v1_INPUTS[4].value;
					}else{
						if(HIGHLIGHT_ERROR){
							v1_flashError();
						}
					}
					v1_INPUTS[4].value = parseInt(v1_VALUES[4].textContent);
				}

				function v1_setColor(r, g, b){
					r = Math.round(r);
					g = Math.round(g);
					b = Math.round(b);
					[r, g, b].forEach((v, i) => {
						v1_INPUTS[i].value = v;
						v1_VALUES[i].textContent = v;
					});
					let avg = Math.round((r + g + b)/3);
					v1_INPUTS[3].value = avg;
					v1_VALUES[3].textContent = avg;
					let light = Math.round((Math.max(r,g,b) + Math.min(r,g,b))/2);
					v1_INPUTS[4].value = light;
					v1_VALUES[4].textContent = light;
					let dr = r/255, dg = g/255, db = b/255;
					let k = 1 - Math.max(dr, dg, db);
					let c = k === 1 ? 0 :(1 - dr - k)/(1 - k);
					let m = k === 1 ? 0 :(1 - dg - k)/(1 - k);
					let y = k === 1 ? 0 :(1 - db - k)/(1 - k);
					[c, m, y, k].forEach((v, i) => {
						v1_INPUTS[i + 5].value = v.toFixed(2);
						v1_VALUES[i + 5].textContent = v.toFixed(2);
					});
					let hex = "#" + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('').toUpperCase();
					v1_VALUES[9].textContent = hex;
					document.body.style.backgroundColor = hex;
				}

				function v1_setColor_CMYK(c, m, y, k){
					let r = 255*(1 - c)*(1 - k);
					let g = 255*(1 - m)*(1 - k);
					let b = 255*(1 - y)*(1 - k);
					v1_setColor(r, g, b);
				}

				function v1_revert(){
					v1_setColor(255 - v1_INPUTS[0].value, 255 - v1_INPUTS[1].value, 255 - v1_INPUTS[2].value);
				}

				function v1_random(){
					v1_setColor(Math.random()*255, Math.random()*255, Math.random()*255);
				}

				function v1_changeColor(index, delta){
					let v = [parseInt(v1_INPUTS[0].value), parseInt(v1_INPUTS[1].value), parseInt(v1_INPUTS[2].value)];
					if((v[index] + delta >= 0)&&(v[index] + delta <= 255)){
						v[index] += delta;
						v1_setColor(v[0], v[1], v[2]);
					}else{
						if(HIGHLIGHT_ERROR){
							v1_flashError();
						}
					}
				}

				function v1_changeGray(delta){
					let r = parseInt(v1_INPUTS[0].value) + delta;
					let g = parseInt(v1_INPUTS[1].value) + delta;
					let b = parseInt(v1_INPUTS[2].value) + delta;
					let flag = ((r >= 0)&&(r <= 255)&&(g >= 0)&&(g <= 255)&&(b >= 0)&&(b <= 255));
					if(flag){
						v1_setColor(r, g, b);
					}else{
						if(HIGHLIGHT_ERROR){
							v1_flashError();
						}
					}
				}

				function v1_changeSetting(direction){
					if((v1_currentModeIndex == 0 && direction == -1)||(v1_currentModeIndex == v1_viewModes.length - 1 && direction == 1)){
						return;
					}
					v1_currentModeIndex += direction;
					const mode = v1_viewModes[v1_currentModeIndex];
					const rows = document.querySelectorAll(".slider-row");
					const colorBtnGroup = document.getElementById("colorButtons");
					const sliderContainer = document.getElementById("sliders");
					if(mode === "Maxi"){
						sliderContainer.style.display = "block";
						rows.forEach(row => row.style.display = "flex");
						colorBtnGroup.style.display = "flex";
					}else if(mode === "Medium"){
						sliderContainer.style.display = "block";
						rows.forEach((row, i) => {
							row.style.display = i < 3 ? "flex" : "none";
						});
						colorBtnGroup.style.display = "flex";
					}else if(mode === "Mini"){
						sliderContainer.style.display = "block";
						rows.forEach((row, i) => {
							row.style.display = i < 3 ? "flex" : "none";
						});
						colorBtnGroup.style.display = "none";
					}else if(mode === "Essential"){
						sliderContainer.style.display = "none";
						colorBtnGroup.style.display = "none";
					}
				}

				function v1_showMore(){
					v1_changeSetting(1);
				}

				function v1_showLess(){
					v1_changeSetting(-1);
				}

				window.onload = v1_init;
			<\/script>
		</div>
		<div id="v2" class="version-container"> <!--EX PALOMA-->
			<style>
				#v2 .v2-body{
					transition: background-color 0.3s;
					text-align: center;
					font-family: sans-serif;
					min-height: 100vh;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
					padding: 20px;
				}
				#v2 #v2_optionZone{
					background-color: rgba(255,255,255,0.9);
					padding: 20px;
					border-radius: 10px;
					display: inline-block;
					margin-top: 20px;
					box-shadow: 0 4px 15px rgba(0,0,0,0.2);
				}
				#v2 .controls{
					margin-top: 20px;
				}
				#v2 button{
					padding: 8px 15px;
					margin: 5px;
					cursor: pointer;
					border-radius: 5px;
					border: 1px solid #ccc;
					font-weight: bold;
				}
				#v2 #refresh-btn{
					min-width: unset;
					width: 40px;
				}
				#v2 .hex-container{
					font-family: monospace;
					font-size: 1.2em;
					font-weight: bold;
				}
				#v2 #v2_valueHexCode{
					font-family: inherit;
					font-size: 1em;
					color: #333;
					background: #eee;
					padding: 2px 6px;
					border-radius: 3px;
					display: inline-block;
					vertical-align: middle;
					transition: color 0.1s;
				}
			</style>
			<div class="v2-body" id="v2-body">
				<div id="v2_optionZone">
					<span class="hex-container">Background HEX: <output id="v2_valueHexCode">#FFFFFF</output></span><br>
					R:
					<input type="radio" name="v2_Red" value="00"/>00
					<input type="radio" name="v2_Red" value="33"/>33
					<input type="radio" name="v2_Red" value="66"/>66
					<input type="radio" name="v2_Red" value="99"/>99
					<input type="radio" name="v2_Red" value="CC"/>CC
					<input type="radio" name="v2_Red" value="FF" checked/>FF<br>
					G:
					<input type="radio" name="v2_Green" value="00"/>00
					<input type="radio" name="v2_Green" value="33"/>33
					<input type="radio" name="v2_Green" value="66"/>66
					<input type="radio" name="v2_Green" value="99"/>99
					<input type="radio" name="v2_Green" value="CC"/>CC
					<input type="radio" name="v2_Green" value="FF" checked/>FF<br>
					B:
					<input type="radio" name="v2_Blue" value="00"/>00
					<input type="radio" name="v2_Blue" value="33"/>33
					<input type="radio" name="v2_Blue" value="66"/>66
					<input type="radio" name="v2_Blue" value="99"/>99
					<input type="radio" name="v2_Blue" value="CC"/>CC
					<input type="radio" name="v2_Blue" value="FF" checked/>FF<br>
				</div>
				<div class="controls">
					<button type="button" onclick="v2_color(0,0,0)">Black</button>
					<button type="button" onclick="v2_color(5,5,5)">White</button><br/>
					<button type="button" onclick="v2_color(5,0,0)" style="color:red">Red</button>
					<button type="button" onclick="v2_color(0,5,0)" style="color:green">Green</button>
					<button type="button" onclick="v2_color(0,0,5)" style="color:blue">Blue</button><br/>
					<button type="button" onclick="v2_color(0,5,5)">Cyan</button>
					<button type="button" onclick="v2_color(5,0,5)">Magenta</button>
					<button type="button" onclick="v2_color(5,5,0)">Yellow</button><br/>
					<button type="button" onclick="v2_changeBrightness(-1)">Darker</button>
					<button type="button" onclick="v2_changeBrightness(1)">Brighter</button><br/>
					<button type="button" onclick="v2_random()">Random</button>
				</div>
				<button onclick="window.parent.postMessage('RELOAD_REQUEST','*')">‚ü≥</button>
			</div>
			<script>
				const v2_BASIC_COLORS = ['v2_Red', 'v2_Green', 'v2_Blue'];
				const v2_HEX_OUTPUT = document.getElementById('v2_valueHexCode');

				function v2_getColor(){
					let backgroundColor = "#";
					v2_BASIC_COLORS.forEach(name => {
						const checkedRadio = document.querySelector(\`input[name="\${name}"]:checked\`);
						backgroundColor += checkedRadio ? checkedRadio.value : "00";
					});
					return backgroundColor;
				}

				function v2_updateUI(){
					const color = v2_getColor();
					document.getElementById('v2-body').style.backgroundColor = color;
					v2_HEX_OUTPUT.textContent = color;
				}

				document.querySelectorAll('input[type="radio"]').forEach(radio => {
					radio.addEventListener('change', v2_updateUI);
				});

				function v2_playErrorSound(){
					const context = new (window.AudioContext || window.webkitAudioContext)();
					const oscillator = context.createOscillator();
					const gain = context.createGain();
					oscillator.type = 'sine';
					oscillator.frequency.setValueAtTime(150, context.currentTime);
					gain.gain.setValueAtTime(0.1, context.currentTime);
					gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
					oscillator.connect(gain);
					gain.connect(context.destination);
					oscillator.start();
					oscillator.stop(context.currentTime + 0.2);
				}

				function v2_flashError(){
					const output = document.getElementById("v2_valueHexCode");
					output.style.color = "red";
					setTimeout(() => {
						output.style.color = "#333";
					}, 200);
					v2_playErrorSound();
				}

				function v2_changeBrightness(step){
					const canMove = v2_BASIC_COLORS.every(name => {
						let radios = document.getElementsByName(name);
						let currentIndex = Array.from(radios).findIndex(r => r.checked);
						let newIndex = currentIndex + step;
						return newIndex >= 0 && newIndex < radios.length;
					});
					if(canMove){
						v2_BASIC_COLORS.forEach(name => {
							let radios = document.getElementsByName(name);
							let currentIndex = Array.from(radios).findIndex(r => r.checked);
							let newIndex = currentIndex + step;
							radios[newIndex].checked = true;
						});
						v2_updateUI();
					}else{
						v2_flashError();
					}
				}

				function v2_color(rIdx, gIdx, bIdx){
					document.getElementsByName("v2_Red")[rIdx].checked = true;
					document.getElementsByName("v2_Green")[gIdx].checked = true;
					document.getElementsByName("v2_Blue")[bIdx].checked = true;
					v2_updateUI();
				}

				function v2_random(){
					v2_BASIC_COLORS.forEach(name => {
						const radios = document.getElementsByName(name);
						const randomIndex = Math.floor(Math.random()*radios.length);
						radios[randomIndex].checked = true;
					});
					v2_updateUI();
				}

				v2_updateUI();
			<\/script>
		</div>
		<div id="v3" class="version-container"> <!--EX ANASTASIA-->
			<style>
				#v3 .v3-body{
					margin: 0;
					transition: background-color 0.2s;
					min-height: 100vh;
					font-family: sans-serif;
				}
				#v3 #v3_optionZone{
					padding: 10px;
					border-bottom: 2px solid #333;
				}
				#v3 h1#v3_valueHexCode{
					background: #FFFF00; 
					padding: 5px; 
					margin: 0 0 10px 0 !important;
					font-size: 1.2em;
				}
				#v3 .color-row{
					padding: 5px;
					margin: 3px 0;
					border-radius: 8px;
					display: flex;
					align-items: center;
					justify-content: center;
					flex-wrap: wrap;
					gap: 2px;
				}
				#v3 .radio-group{
					display: inline-flex;
					align-items: center;
					white-space: nowrap;
					margin: 2px;
				}
				#v3 output{
					display: inline-block;
					width: 22px;
					border-radius: 3px;
					font-family: monospace;
					margin-left: 2px;
					font-size: 0.9em;
					text-align: center;
				}
				#v3 button{
					cursor: pointer;
					padding: 5px 10px;
					font-weight: bold;
				}
				#v3 .nav-buttons{
					padding: 10px !important;
				}
				#v3 .nav-buttons button{
					width: 100px;
					height: 35px;
					font-size: 0.9em;
					margin: 3px;
				}
				#v3 #refresh-btn{
					min-width: unset;
					width: 40px;
				}
			</style>
			<div class="v3-body" id="v3-body">
				<div id="v3_optionZone" style="background-color:#FFFFFF; text-align:center;">
					<h1 id="v3_valueHexCode" style="background: #FFFF00; padding: 10px; margin: 0 0 20px 0;">Background page color hex code: #FFFFFF</h1>
					<div class="color-row" style="background-color: #FF0000;">
						<button type="button" onclick="v3_changeColor(0,-1)">(-)</button>
						<script>
							const vals = ['00','11','22','33','44','55','66','77','88','99','aa','bb','cc','dd','ee','ff'];
							vals.forEach(v => {
								let chk = v === 'ff' ? 'checked' : '';
								document.write(\`<span class="radio-group"><input type="radio" name="v3_Red" value="\${v}" \${chk} onchange="v3_changeBackgroundColor()"><output style="background:#FDCE98"><b>\${v.toUpperCase()}</b></output></span>\`);
							});
						<\/script>
						<button type="button" onclick="v3_changeColor(0,1)">(+)</button>
					</div>
					<div class="color-row" style="background-color: #00FF00;">
						<button type="button" onclick="v3_changeColor(1,-1)">(-)</button>
						<script>
							vals.forEach(v => {
								let chk = v === 'ff' ? 'checked' : '';
								document.write(\`<span class="radio-group"><input type="radio" name="v3_Green" value="\${v}" \${chk} onchange="v3_changeBackgroundColor()"><output style="background:#FFF500"><b>\${v.toUpperCase()}</b></output></span>\`);
							});
						<\/script>
						<button type="button" onclick="v3_changeColor(1,1)">(+)</button>
					</div>
					<div class="color-row" style="background-color: #0000FF;">
						<button type="button" onclick="v3_changeColor(2,-1)">(-)</button>
						<script>
							vals.forEach(v => {
								let chk = v === 'ff' ? 'checked' : '';
								document.write(\`<span class="radio-group"><input type="radio" name="v3_Blue" value="\${v}" \${chk} onchange="v3_changeBackgroundColor()"><output style="background:#56DDFF"><b>\${v.toUpperCase()}</b></output></span>\`);
							});
						<\/script>
						<button type="button" onclick="v3_changeColor(2,1)">(+)</button>
					</div>
				</div>
				<div class="nav-buttons" style="text-align: center; padding: 20px;">
					<button type="button" onclick="v3_color(0,0,0)">Black</button>
					<button type="button" onclick="v3_color(15,15,15)">White</button><br>
					<button type="button" onclick="v3_color(15,0,0)">Red</button>
					<button type="button" onclick="v3_color(0,15,0)">Green</button>
					<button type="button" onclick="v3_color(0,0,15)">Blue</button><br>
					<button type="button" onclick="v3_color(0,15,15)">Cyan</button>
					<button type="button" onclick="v3_color(15,0,15)">Magenta</button>
					<button type="button" onclick="v3_color(15,15,0)">Yellow</button><br>
					<button type="button" onclick="v3_darkerAll()">Darker</button>
					<button type="button" onclick="v3_brighterAll()">Brighter</button><br>
					<button type="button" onclick="v3_random()">Random</button><br>
					<button id="refresh-btn" onclick="window.parent.postMessage('RELOAD_REQUEST','*')">‚ü≥</button>
				</div>
			</div>
			<script>
				const v3_BASIC_COLORS = ['v3_Red', 'v3_Green', 'v3_Blue'];

				function v3_getColor(){
					let hex = "#";
					v3_BASIC_COLORS.forEach(name => {
						const active = document.querySelector(\`input[name="\${name}"]:checked\`);
						hex += active ? active.value : "00";
					});
					return hex.toUpperCase();
				}

				function v3_changeBackgroundColor(){
					const color = v3_getColor();
					document.getElementById('v3-body').style.backgroundColor = color;
					document.getElementById("v3_valueHexCode").innerText = "Background page color hex code: " + color;
					document.getElementById("v3_optionZone").style.backgroundColor = color;
				}

				function v3_canMoveAll(step){
					return v3_BASIC_COLORS.every(name => {
						let radios = document.getElementsByName(name);
						let currentIndex = Array.from(radios).findIndex(r => r.checked);
						let newIndex = currentIndex + step;
						return newIndex >= 0 && newIndex < radios.length;
					});
				}

				function v3_brighterBasic(idx){
					let ele = document.getElementsByName(v3_BASIC_COLORS[idx]);
					for(let j = ele.length - 2; j >= 0; j--){
						if(ele[j].checked){
							ele[j].checked = false;
							ele[j + 1].checked = true;
							break;
						}
					}
					v3_changeBackgroundColor();
				}

				function v3_darkerBasic(idx){
					let ele = document.getElementsByName(v3_BASIC_COLORS[idx]);
					for(let j = 1; j < ele.length; j++){
						if(ele[j].checked){
							ele[j].checked = false;
							ele[j - 1].checked = true;
							break;
						}
					}
					v3_changeBackgroundColor();
				}

				function v3_playErrorSound(){
					const context = new (window.AudioContext || window.webkitAudioContext)();
					const oscillator = context.createOscillator();
					const gain = context.createGain();
					oscillator.type = 'sine';
					oscillator.frequency.setValueAtTime(150, context.currentTime);
					gain.gain.setValueAtTime(0.1, context.currentTime);
					gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
					oscillator.connect(gain);
					gain.connect(context.destination);
					oscillator.start();
					oscillator.stop(context.currentTime + 0.2);
				}

				function v3_flashError(){
					const output = document.getElementById("v3_valueHexCode");
					output.style.transition = "0.1s";
					output.style.color = "red";
					setTimeout(() => {
						output.style.color = "black";
					}, 200);
					v3_playErrorSound();
				}

				function v3_brighterAll(){
					if(v3_canMoveAll(1)){
						[0, 1, 2].forEach(i => v3_brighterBasic(i));
					}else{
						v3_flashError();
					}
				}

				function v3_darkerAll(){
					if(v3_canMoveAll(-1)){
						[0, 1, 2].forEach(i => v3_darkerBasic(i));
					}else{
						v3_flashError();
					}
				}

				function v3_color(r, g, b){
					document.getElementsByName("v3_Red")[r].checked = true;
					document.getElementsByName("v3_Green")[g].checked = true;
					document.getElementsByName("v3_Blue")[b].checked = true;
					v3_changeBackgroundColor();
				}

				function v3_changeColor(idx, delta){
					delta > 0 ? v3_brighterBasic(idx) : v3_darkerBasic(idx);
				}

				function v3_random(){
					v3_BASIC_COLORS.forEach(name => {
						let ele = document.getElementsByName(name);
						let r = Math.floor(Math.random()*ele.length);
						ele[r].checked = true;
					});
					v3_changeBackgroundColor();
				}

				v3_changeBackgroundColor();
			<\/script>
		</div>
		<div id="v4" class="version-container"> <!--EX MARIO-->
			<style>
				#v4 .v4-body{
					transition: background-color 0.3s, color 0.3s; 
					text-align: center; 
					font-family: 'Segoe UI', Arial, sans-serif; 
					padding: 10px;
					margin: 0;
					min-height: 100vh;
					display: flex;
					flex-direction: column;
					align-items: center;
					justify-content: center;
				}
				#v4 #headerContainer{
					padding: 15px;
					margin-bottom: 20px;
					border-radius: 10px;
					transition: background 0.3s;
				}
				#v4 .control-panel{
					background: rgba(255, 255, 255, 0.2);
					backdrop-filter: blur(5px);
					padding: 15px;
					border-radius: 15px;
					border: 1px solid rgba(255,255,255,0.3);
					width: 100%;
					max-width: 400px;
					box-sizing: border-box;
				}
				#v4 .row{
					display: flex;
					justify-content: center;
					gap: 6px;
					margin-bottom: 10px;
				}
				#v4 .footer-row{
					display: flex;
					flex-wrap: wrap;
					justify-content: center;
					gap: 8px;
					margin-top: 15px;
				}
				#v4 button{
					cursor: pointer; 
					margin: 0;
					border: 2px solid rgba(0,0,0,0.1); 
					border-radius: 8px;
					font-weight: bold;
					transition: all 0.2s;
					height: 45px;
					display: flex;
					align-items: center;
					justify-content: center;
				}
				#v4 #refresh-btn{
					min-width: unset;
					width: 45px;
					height: 45px;
					margin-left: 5px;
				}
				#v4 button:hover{
					transform: translateY(-2px);
					box-shadow: 0 4px 8px rgba(0,0,0,0.2);
				}
				#v4 button:active{
					transform: translateY(0);
				}
				#v4 .num-label{
					font-size: 1.1em;
					color: inherit;
				}
				#v4 output{
					font-family: monospace;
				}
				#v4 #mainLabel{
					font-size: 2.5em; 
					font-weight: 900;
					font-family: monospace;
					display: inline-block;
					vertical-align: middle;
				}
				#v4 #v4_valueHexCode{
					font-size: 1em;
					font-family: monospace;
					letter-spacing: 0px;
					margin-left: 5px;
				}
			</style>
			<div class="v4-body" id="v4-body">
				<div id="headerContainer">
					<span id="mainLabel">HEX: <output id="v4_valueHexCode">#FFFFFF</output></span>
				</div>
				<br>
				<div id="mainPanel" class="control-panel"></div>
			</div>
			<script>
				const v4_COMPONENTS = ['00', '3F', '7F', 'BF', 'FF'];
				const v4_BUTTONS_COLORS = ['#FF4136', '#2ECC40', '#0074D9'];
				const v4_BUTTON_WIDTH_1 = 65;
				const v4_BUTTON_WIDTH_2 = 165;
				const v4_BUTTON_WIDTH_3 = 340;
				let v4_actualComponents = [4, 4, 4];

				function v4_fillBody(){
					const panel = document.getElementById("mainPanel");
					for(let i = 0; i < 3; i++){
						let row = document.createElement("div");
						row.className = "row";
						for(let j = 0; j < 5; j++){
							let btn = document.createElement("button");
							btn.id = i + "-" + j;
							btn.style.width = "18%"; 
							btn.style.maxWidth = "60px";
							btn.innerHTML = \`<span class="num-label">\${j}</span>\`;
							btn.onclick = () => v4_setBackgroundColor(i, j);
							row.appendChild(btn);
						}
						panel.appendChild(row);
					}
					const footer = document.createElement("div");
					footer.className = "footer-row";
					const btnConfigs = [
						{text: "BLACK", cmd: v4_setBlack, flex: "0 1 45%" },
						{text: "WHITE", cmd: v4_setWhite, flex: "0 1 45%" },
						{text: "DARKER", cmd: v4_darker, flex: "0 1 45%" },
						{text: "BRIGHTER", cmd: v4_brighter, flex: "0 1 45%" },
						{text: "RANDOM", cmd: v4_setRandomBackgroundColor, flex: "0 1 92%" }
					];
					btnConfigs.forEach((cfg) => {
						let b = document.createElement("button");
						b.style.flex = cfg.flex;
						b.style.minWidth = "120px";
						b.textContent = cfg.text;
						b.onclick = cfg.cmd;
						footer.appendChild(b);
					});
					let refreshBtn = document.createElement("button");
					refreshBtn.id = "refresh-btn";
					refreshBtn.innerHTML = "‚ü≥";
					refreshBtn.onclick = () => window.parent.postMessage('RELOAD_REQUEST','*');
					footer.appendChild(refreshBtn);
					panel.appendChild(footer);
					v4_updateInterface();
				}

				function v4_setBackgroundColor(channel, index){
					v4_actualComponents[channel] = index;
					v4_updateInterface();
				}

				function v4_updateInterface(){
					const r = parseInt(v4_COMPONENTS[v4_actualComponents[0]], 16);
					const g = parseInt(v4_COMPONENTS[v4_actualComponents[1]], 16);
					const b = parseInt(v4_COMPONENTS[v4_actualComponents[2]], 16);
					const hex = "#" + v4_COMPONENTS[v4_actualComponents[0]] + v4_COMPONENTS[v4_actualComponents[1]] + v4_COMPONENTS[v4_actualComponents[2]];
					document.body.style.backgroundColor = hex;
					document.getElementById("v4_valueHexCode").textContent = hex;
					const brightness = (r*299 + g*587 + b*114)/1000;
					const textColor = brightness > 125 ? "black" : "white";
					const labelBg = brightness > 125 ? "rgba(255,255,0,0.8)" : "rgba(255,255,0,1)";
					document.body.style.color = textColor;
					document.getElementById("headerContainer").style.background = brightness > 125 ? "rgba(255,255,255,0.3)" : "rgba(0,0,0,0.3)";
					for(let i = 0; i < 3; i++){
						for(let j = 0; j < 5; j++){
							let btn = document.getElementById(i + "-" + j);
							if(v4_actualComponents[i] === j){
								btn.style.backgroundColor = "#FFFF00";
								btn.style.color = "black";
								btn.style.borderColor = "black";
							}else{
								btn.style.backgroundColor = v4_BUTTONS_COLORS[i];
								btn.style.color = "white";
								btn.style.borderColor = "transparent";
							}
						}
					}
				}

				function v4_setRandomBackgroundColor(){
					v4_actualComponents = v4_actualComponents.map(() => Math.floor(Math.random()*5));
					v4_updateInterface(); 
				}

				function v4_playErrorSound(){
					try{
						const context = new (window.AudioContext || window.webkitAudioContext)();
						const oscillator = context.createOscillator();
						const gain = context.createGain();
						oscillator.type = 'sine';
						oscillator.frequency.setValueAtTime(150, context.currentTime);
						gain.gain.setValueAtTime(0.1, context.currentTime);
						gain.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.2);
						oscillator.connect(gain);
						gain.connect(context.destination);
						oscillator.start();
						oscillator.stop(context.currentTime + 0.2);
					}catch(e){
						console.log("Audio not supported or blocked by browser");
					}
				}

				function v4_flashError(){
					const label = document.getElementById("mainLabel");
					label.style.transition = "0.1s";
					label.style.color = "red";
					setTimeout(() => {
						label.style.color = "";
					}, 200);
					v4_playErrorSound();
				}

				function v4_brighter(){
					const canMove = v4_actualComponents.every(v => v < 4);
					if(canMove){
						v4_actualComponents = v4_actualComponents.map(v => v + 1);
						v4_updateInterface();
					}else{
						v4_flashError();
					}
				}

				function v4_darker(){
					const canMove = v4_actualComponents.every(v => v > 0);
					if(canMove){
						v4_actualComponents = v4_actualComponents.map(v => v - 1);
						v4_updateInterface();
					}else{
						v4_flashError();
					}
				}

				function v4_setBlack(){
					v4_actualComponents = [0,0,0];
					v4_updateInterface();
				}

				function v4_setWhite(){
					v4_actualComponents = [4,4,4];
					v4_updateInterface();
				}

				v4_fillBody();
			<\/script>
		</div>
		<script>
			function showVersion(id){
				document.getElementById('selector-screen').style.display = 'none';
				document.getElementById(id).style.display = 'block';
			}
		<\/script>
	</body>
</html>` },

	};

	let currentUrl = null;
	let currentKey = null;

	function openPage(key){
		const data = pages[key];
		if(!data){
			return;
		}
		currentKey = key;
		document.getElementById('app-title').innerText = data.name;
		const blob = new Blob([data.content], { type: 'text/html' });
		if(currentUrl){
			URL.revokeObjectURL(currentUrl);
		}
		currentUrl = URL.createObjectURL(blob);
		const viewer = document.getElementById('viewer');
		viewer.style.display = 'flex';
		document.body.style.overflow = 'hidden';
		document.getElementById('app-frame').src = currentUrl;
	}

	window.addEventListener('message', function(event){
		if(event.data === 'RELOAD_REQUEST'){
			if(currentKey){
				openPage(currentKey);
			}
		}
	});

	function closePage(){
		const viewer = document.getElementById('viewer');
		viewer.style.display = 'none';
		document.body.style.overflow = '';
		document.getElementById('app-frame').src = 'about:blank';
		currentKey = null;
	}

	window.history.pushState(null, null, window.location.href);
	window.onpopstate = function(){
		if(document.getElementById('viewer').style.display === 'flex'){
			window.history.pushState(null, null, window.location.href);
			closePage();
		}
	};
</script>
</body>
</html>